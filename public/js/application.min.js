angular.module("thms.controllers",[]),angular.module("thms.services",["jmdobry.angular-cache"]),angular.module("thms.directives",[]),function(){var __slice=[].slice;this.BaseCtrl=function(){function BaseCtrl(){var args,fn,index,key,_i,_len,_ref,_ref1;for(args=1<=arguments.length?__slice.call(arguments,0):[],_ref=this.constructor.$inject,index=_i=0,_len=_ref.length;_len>_i;index=++_i)key=_ref[index],this[key]=args[index];_ref1=this.constructor.prototype;for(key in _ref1)fn=_ref1[key],"function"==typeof fn&&"constructor"!==key&&"initialize"!==key&&"_"!==key[0]&&(this.$scope[key]=("function"==typeof fn.bind?fn.bind(this):void 0)||_.bind(fn,this));"function"==typeof this.initialize&&this.initialize()}return BaseCtrl.register=function(app,name){var _ref;return null==name&&(name=this.name||(null!=(_ref=this.toString().match(/function\s*(.*?)\(/))?_ref[1]:void 0)),app.controller(name,this)},BaseCtrl.inject=function(){var args;return args=1<=arguments.length?__slice.call(arguments,0):[],this.$inject=args},BaseCtrl}()}.call(this),function(){var app;app=angular.module("thms.services"),app.factory("Auth",["$rootScope","$http","localStorageService","$q",function($rootScope,$http,ls,$q){var Auth;return new(Auth=function(){function Auth(){this.setAccessToken(ls.get("access-token")),this.setCurrentUser(ls.get("current-user"))}return Auth.prototype.setCurrentUser=function(user){return user?(ls.set("current-user",user),this.currentUser=user):void 0},Auth.prototype.setAccessToken=function(token){return token?(ls.set("access-token",token),this.accessToken=token,$http.defaults.headers.common.Authorization="Bearer "+this.accessToken):void 0},Auth.prototype.wipeData=function(){return this.currentUser=void 0,this.accessToken=void 0,this.currentlyMasquerading=!1,ls.set("access-token",null),ls.set("current-user",null),delete $http.defaults.headers.common.Authorization,delete $http.defaults.headers.common["EH-Masquerading-As"]},Auth.prototype.login=function(details){return null==details&&(details={}),$http.post("/api/v2/sessions",details).success(function(_this){return function(result,status,headers){return _this.setAccessToken(headers("x-set-auth-token")),_this.setCurrentUser(result.data),$rootScope.$broadcast("event:auth-logged-in",result.data)}}(this)).error(function(){return function(response){return $rootScope.$broadcast("event:auth-login-invalid",response)}}(this))},Auth.prototype.logout=function(){return $http["delete"]("/api/v2/sessions").then(function(_this){return function(){return _this.wipeData(),$rootScope.$broadcast("event:auth-logged-out")}}(this))},Auth.prototype.checkLoggedIn=function(){var deferred;return deferred=$q.defer(),this.currentUser||deferred.reject,$http.get("/api/v2/auth/check").then(function(_this){return function(response){return _this.setCurrentUser(response.data),deferred.resolve(response.data)}}(this))["catch"](function(response){return deferred.reject(response)}),deferred.promise},Auth.prototype.startMasquerading=function(id){var deferred;return deferred=$q.defer(),$http.defaults.headers.common["EH-Masquerading-As"]=id,$http.get("/api/v2/masquerading/current").then(function(_this){return function(response){return _this.setCurrentUser(response.data),_this.currentlyMasquerading=!0,console.warn("Masquerading As "+response.data.email),deferred.resolve(response.data)}}(this))["catch"](function(_this){return function(response){return deferred.reject(response),_this.stopMasquerading()}}(this)),deferred.promise},Auth.prototype.stopMasquerading=function(){return delete $http.defaults.headers.common["EH-Masquerading-As"],this.currentlyMasquerading=!1,this.checkLoggedIn(),$rootScope.$broadcast("event:redirect-home")},Auth}())}])}.call(this),angular.module("thms.services").service("Company",["Auth","$http","$rootScope",function(Auth,$http,$rootScope){this.create=function(data){$http.post("/api/v1/my/clients",data).success(function(results){$rootScope.$broadcast("company:create:success",results)}).error(function(error){$rootScope.$broadcast("company:create:failure",error)})}}]),angular.module("thms.services").service("EventService",["$http","$rootScope",function($http){this.bulkReleaseToInventory=function(id,facilities){return $http.post("/api/v1/my/events/dates/"+id+"/release",facilities)},this.releaseToInventory=function(){}}]),function(){}.call(this),angular.module("thms.services").service("Facility",["$rootScope","$http",function(){}]),angular.module("thms.services").service("$humane",["$rootScope",function(){var humane=new Humane({container:document.body});this.spawn=humane.spawn(),this.error=humane.spawn({addnCls:"humane-libnotify-error",timeout:4e3}),this.errorShort=humane.spawn({addnCls:"humane-libnotify-error"}),this.stickyError=humane.spawn({waitForMove:!0,addnCls:"humane-libnotify-error",timeout:4e3}),this.stickySuccess=humane.spawn({waitForMove:!0,addnCls:"humane-libnotify-success",timeout:4e3}),this.successShort=humane.spawn({addnCls:"humane-libnotify-success"}),this.sticky=humane.spawn({waitForMove:!0,timeout:4e3})}]),angular.module("thms.services").service("IceHockeyOptions",["$rootScope","Restangular","Auth","$stateParams",function($rootScope,Restangular,Auth,$stateParams){this.iceHockey=!0,this.shouldShowCoke=function(){var cateringSelected=!1;return _.isEmpty(this.selectedOptions.selection.drinks)||(cateringSelected=!0),_.isEmpty(this.selectedOptions.selection.snacks)||(cateringSelected=!0),_.isEmpty(this.selectedOptions.selection.menu)||(cateringSelected=!0),this.selectedOptions.selection.standardDrinkList&&(cateringSelected=!0),cateringSelected},this.menus=[{name:"Menu One",type:"food",price_cents:"6500",sections:[{name:"On Arrival",items:[{name:"Dukkah toasted Turkish bread with aged balsamic & extra virgin olive oil"},{name:"Squealing Pig Saubignon Blanc",drink:!0},{name:"Matilda Bay Beez Neez",drink:!0}]},{name:"Main Course",items:[{name:"Seared tournedos of beef with roasted mushrooms, asparagus & thyme"},{name:"Saltram 1859 Shiraz",drink:!0},{name:"Matilda Bay Fat Yak Pale Ale",drink:!0},{name:"Barbeque glazed chicken maryland with smoked paprika & roasted desiree potatoes"},{name:"Rosemount Estate District Release Chardonnay",drink:!0},{name:"Greek salad"},{name:"Mixed garden salad"},{name:"Fresh bread selection"}]},{name:"Dessert",items:[{name:"Baileys of Glenrowan Fortified Founder Series Muscat",drink:!0},{name:"Baileys of Glenrowan Fortified Founder Series Topaque",drink:!0},{name:"Streets Magnum ice creams"},{name:"Trio of Australian cheeses with dried fruit, nuts, crisp bread & lavosh"},{name:"Freshly brewed coffee & tea selection with chocolates"}]}]},{name:"Menu Two",type:"food",price_cents:"5500",doesntHaveDrinksPackage:!0,sections:[{name:"On Arrival",items:[{name:"Antipasto platters"}]},{name:"Pre Game",items:[{name:"Wagyu beef slider with cheese & relish"},{name:"Fried chicken with ranch dipping sauce"},{name:"Bourbon & cola pork spare ribs"}]},{name:"First Interval",items:[{name:"Chilli kransky roll with onion & condiments"}]},{name:"Second Interval",items:[{name:"Mini beef pies with tomato sauce"}]},{name:"DURING THE THIRD PERIOD",items:[{name:"Streets Magnum ice creams"}]}]}],this.drinks={name:"Drinks Menu",canChooseQuantity:!0,sections:[{name:"White Wine",items:[{name:"Wolf Blass Bilyara Chardonnay",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_bilyara_chardonnay.jpg"}}},{name:"Angel Cove Sauvignon Blanc",description:"Marlborough | NZ",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/angel_cove_sauvignon_blanc.jpg"}}},{name:"Lindeman’s Early Harvest Pinot Grigio ",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_pinot_grigio.jpg"}}},{name:"Rosemount Estate District Release Chardonnay",description:"Robe| SA",price_cents:4600,data:{image:{storage:"local",file_name:"/wine-images/rosemount_estate_district_release_chardonnay.jpg"}}},{name:"Squealing Pig Sauvignon Blanc",description:"Marlborough | NZ",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/squealing_pig_sauvignon_blanc.jpg"}}},{name:"Annie’s Lane Moscato",description:"South Eastern Australia",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_moscato.jpg"}}},{name:"Devil’s Lair The Hidden Cave Chardonnay",description:"Margaret River | WA",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/devils_lair_the_hidden_cave_chardonnay.jpg"}}},{name:"T’Gallant Grace Pinot Grigio",description:"Mornington Peninsula | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_grace_pinot_grigio.jpg"}}},{name:"Annies Lane Quelltaler Watervale Riesling",description:"Clare Valley | South Australia",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_quelltaler_watervale_riesling.jpg"}}},{name:"St Huberts Roussanne",description:"Yarra Valley | SA",price_cents:5400,data:{image:{storage:"local",file_name:"/wine-images/st_huberts_roussanne.jpg"}}},{name:"T’Gallant Tribute Pinot Gris",description:"Mornington Peninsula | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_tribute_pinot_gris.jpg"}}},{name:"Matua Estate Series Paretei Sauvignon Blanc",description:"Marlborough | NZ",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/matua_estate_series_paratei_sauvignon_blanc.jpg"}}},{name:"Coldstream Hills Yarra Valley Range Chardonnay",description:"Yarra Valley | VIC",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/coldstream_hills_yarra_valley_range_chardonnay.jpg"}}},{name:"Leo Buring Premium Regional Leopold Riesling",description:"Tamar Valley| TAS",price_cents:6500,data:{image:{storage:"local",file_name:"/wine-images/leo_buring_premium_regional_leopold_riesling.jpg"}}}]},{name:"Rosé",items:[{name:"Annie’s Lane Rosé",description:"Clare Valley | South Australia",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_rose.jpg"}}}]},{name:"Red Wine",items:[{name:"Wolf Blass Bilyara Shiraz",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_bilyara_shiraz.jpg"}}},{name:"Lindeman’s Early Harvest Shiraz",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_shiraz.jpg"}}},{name:"T’Gallant Cape Schanck Pinot Noir",description:"Mornington Peninsula | VIC",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_cape_schanck_pinot_noir.jpg"}}},{name:"Penfolds Koonunga Hill Seventy‐Six Shiraz Cabernet Sauvignon",description:"South Australia",price_cents:4600,data:{image:{storage:"local",file_name:"/wine-images/penfolds_koonunga_hill_76_shiraz_cabernet.jpg"}}},{name:"Saltram 1859 Shiraz",description:"Barossa Valley | SA",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/saltram_1859_shiraz.jpg"}}},{name:"Squealing Pig Pinot Noir ",description:"Central Otago | NZ",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/squealing_pig_pinot_noir.jpg"}}},{name:"Baileys of Glenrowan Shiraz",description:"Glenrowan | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_shiraz.jpg"}}},{name:"Baileys of Glenrowan Cabernet Sauvignon",description:"Glenrowan | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_cab_sauv.jpg"}}},{name:"Wolf Blass Gold Label Shiraz",description:"Barossa Valley | SA",price_cents:5400,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_gold_label_shiraz.jpg"}}},{name:"Pepperjack Shiraz",description:"Barossa Valley & McLaren Vale | SA",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/pepperjack_shiraz.jpg"}}},{name:"Abel’s Tempest Pinot Noir",description:"Tasmania",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/abel's_tempest_pinot_noir.jpg"}}},{name:"Saltram Mamre Brook Shiraz",description:"Barossa Valley | SA",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/saltram_mamre_brook_shiraz.jpg"}}},{name:"Saltram Mamre Brook Cabernet Sauvignon",description:"Barossa Valley | SA",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/saltram_mamre_brook_cab_sauv.jpg"}}}]},{name:"Sparkling Wine",items:[{name:"Stony Peak Brut",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/stony_peak.jpg"}}},{name:"Seppelt Fleur de Lys Chardonnay Pinot Noir",description:"South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/seppelt_fleur_de_lys.jpg"}}},{name:"Lindeman’s Early Harvest Moscato",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_moscato.jpg"}}},{name:"Coldstream Hills Yarra Valley Range Chardonnay Pinot Noir",description:"Yarra Valley | VIC",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/coldstream_hills_chardonnay_pinot_noir.jpg"}}}]},{name:"Deluxe Wines",description:"Price on application",items:[{name:"Penfolds Grange 1997",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_1997.jpg"}}},{name:"Penfolds Bin 707 1999",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Bin 707 2002",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Magill Estate Shiraz 2003",data:{image:{storage:"local",file_name:"/wine-images/penfolds_magill_estate_shiraz.jpg"}}},{name:"Penfolds Grange 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_2001.jpg"}}},{name:"Penfolds Bin 707 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Magill Estate Shiraz 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_1997.jpg"}}},{name:"Penfolds St Henri Shiraz 2002",data:{image:{storage:"local",file_name:"/wine-images/penfolds_st_henri_shiraz.jpg"}}}]},{name:"French Champagne",items:[{name:"Moet & Chandon Brut Imperial",description:"Epernay | France",price_cents:17500},{name:"Veuve Clicquo",description:"Riems | France",price_cents:18500}]},{name:"Fortified Wines",items:[{name:"Annie’s Lane Botrytis Riesling",description:"500ml | Clare Valley | South Australia",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_botrytis_riesling.jpg"}}},{name:"Baileys of Glenrowan Fortified Founder Series Muscat",description:"Glenrowan | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_fortified_founder_series_muscat.jpg"}}},{name:"Baileys of Glenrowan Fortified Founder Series Topaque",description:"Glenrowan | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_fortified_founder_series_topaque.jpg"}}}]},{name:"Spirits",notes:"Unused portions of spirits remaining at the end of the event night (the purchase date) will be held for use in your Corporate Suite during following events for a maximum of 3 months from the date of purchase.",items:[{name:"Bacardi Rum",price_cents:8e3},{name:"Bundaberg Rum",price_cents:8e3},{name:"Canadian Club",price_cents:8e3},{name:"Gordons Gin",price_cents:8e3},{name:"Jim Beam White Label Bourbon",price_cents:8e3},{name:"Smirnoff Vodka",price_cents:8e3},{name:"Southern Comfort",price_cents:8e3},{name:"Johnnie Walker Red Label Scotch",price_cents:8e3},{name:"Jack Daniels",price_cents:9e3},{name:"Jim Beam Black Label Bourbon",price_cents:11e3},{name:"Johnnie Walker Black Label Scotch",price_cents:11e3}]},{name:"Beer + Cider",items:[{name:"Cascade Premium Light",price_cents:600},{name:"Carlton Dry",price_cents:750},{name:"Pure Blonde",price_cents:700},{name:"Peroni Leggera",price_cents:750},{name:"Crown Lager",price_cents:850},{name:"Peroni Nastro Azzurro",price_cents:900},{name:"Matilda Bay Beez Neez",price_cents:850},{name:"Matilda Bay Fat Yak Pale Ale",price_cents:850},{name:"Matilda Bay Redback Original",price_cents:850},{name:"Bulmers Original Apple Cider",price_cents:800}]},{name:"Soft Drinks",description:"A range of Coca‐Cola Varieties will be served when Food and Beverage items are selected",items:[{name:"Red Bull",price_cents:500},{name:"Kirks Mixers",description:"Dry Ginger Ale | Soda Water | Tonic Water | 300ml",price_cents:400}]}]},this.snacks={name:"Snacks Menu",canChooseQuantity:!0,sections:[{name:"On Arrival",items:[{name:"Kettle Sea Salt",price_cents:450},{name:"Kettle Sea Salt & Vinegar",price_cents:450},{name:"Kettle Chilli",price_cents:450},{name:"Cheezels",price_cents:450},{name:"Dipping Plate",price_cents:7e3,description:"Dukkah toasted Turkish bread with aged balsamic & extra virgin olive oil"},{name:"Mezze dip platter",price_cents:7e3,description:"Spiced pumpkin, mint yoghurt, beetroot hommus with flat breads"},{name:"Assorted mini gourmet wrap platter",price_cents:17e3,description:"2pp"},{name:"Assorted California roll & sushi platter",price_cents:17e3,description:"2pp"},{name:"Gourmet deli platter",price_cents:3e4,description:"Wagyu bresaola, Vincentina sopresa, prosciutto cotto & Lonza"},{name:"Seafood platter",price_cents:3e4,description:"Tarator of ocean trout with tahina yoghurt, walnut & pomegranate, slow braised baby octopus"},{name:"Freshly brewed coffee & tea service",price_cents:6500,description:"Tarator of ocean trout with tahina yoghurt, walnut & pomegranate, slow braised baby octopus"}]},{name:"Hot Platters",description:"Served as your guests arrive",items:[{name:"Butter chicken & rice boxes",description:"18 per platter",price_cents:1e4},{name:"Mini beef pies with tomato sauce ",description:"24 per platter",price_cents:6e3},{name:"Mini sausage rolls with tomato sauce",description:"24 per platter",price_cents:6e3},{name:"Mini quiches including vegetarian",description:"24 per platter",price_cents:6e3},{name:"Mini pizzas",description:"24 per platter",price_cents:6e3},{name:"Beetroot arancini with grated grana padano",description:"24 per platter",price_cents:6e3}]},{name:"Dessert",description:"Served at interval or the completion of the event, depending on event schedule",items:[{name:"Assorted mini desserts",description:"18 per platter",price_cents:8e3},{name:"Australian cheese platter",price_cents:8e3},{name:"Freshly sliced seasonal fruit platter",price_cents:5500},{name:"Streets Magnum Original ice cream",price_cents:470},{name:"Streets Magnum White ice cream",price_cents:470},{name:"Streets Magnum Peppermint ice cream",price_cents:470},{name:"Streets Magnum Chocolate Truffle ice cream",price_cents:470},{name:"Vanilla cupcakes",description:"minimum order of 6",price_cents:450},{name:"Birthday Cake",description:"18 Portions",price_cents:7e3}]}]},this.selectedOptions={inventory_id:$stateParams.id,notes:"",hostDetails:"",selection:{snacks:[],menu:[],drinks:[]}},this.hostCanOrderMore=!1,this.buildSelections=function(){this.selectedOptions.selection.snacks=[],this.selectedOptions.selection.drinks=[],__extractSelectedOptions(this.snacks.sections,this.selectedOptions.selection.snacks),__extractSelectedOptions(this.drinks.sections,this.selectedOptions.selection.drinks)},this.submitSelections=function(){NProgress.start(),console.log(this.selectedOptions);var that=this;Restangular.one("companies",Auth.currentUser.company.id).post("options",this.selectedOptions).then(function(result){NProgress.done(),$rootScope.$broadcast("options:selections:saved",result),that.selectedOptions={inventory_id:$stateParams.id,notes:"",host_details:"",selection:{snacks:[],menu:[],drinks:[]}}}).catch(function(error){$rootScope.$broadcast("options:selections:failure",error)})};var __extractSelectedOptions=function(list,output){Lazy(list).each(function(section){Lazy(section.items).each(function(item){item.count>0&&output.push(item)})})}}]),function(){var app;app=angular.module("thms.services"),app.service("InventoryConfirmation",["$http","$rootScope","$q",function($http,$rootScope,$q){return{view:function(inventoryId){var defferred;return defferred=$q.defer(),$http.get("/api/v2/inventory/"+inventoryId+"/confirmations").then(function(result){return defferred.resolve(result)})["catch"](function(error){return defferred.reject(error)}),defferred.promise},update:function(data){var defferred;return defferred=$q.defer(),$http.put("/api/v2/inventory/"+data.inventory_id+"/confirmations/"+data.id,data).then(function(result){return defferred.resolve(result)})["catch"](function(error){return defferred.reject(error)}),defferred.promise}}}])}.call(this),angular.module("thms.services").service("Options",["$rootScope","Restangular","Auth","$stateParams",function($rootScope,Restangular,Auth,$stateParams){this.shouldShowCoke=function(){var cateringSelected=!1;return _.isEmpty(this.selectedOptions.selection.drinks)||(cateringSelected=!0),_.isEmpty(this.selectedOptions.selection.snacks)||(cateringSelected=!0),_.isEmpty(this.selectedOptions.selection.menu)||(cateringSelected=!0),this.selectedOptions.selection.standardDrinkList&&(cateringSelected=!0),cateringSelected},this.menus=[{name:"Menu One",type:"food",price_cents:"7500",sections:[{name:"On Arrival",items:[{name:"Spiced pumpkin, mint yoghurt, beetroot hommus with flat breads"},{name:"Devil’s Lair The Hidden Cave Chardonnay",drink:!0},{name:"Matilda Bay Redback Original",drink:!0}]},{name:"Main Course",items:[{name:"Cajun spiced chicken tulip legs with tomato ragout & sauté rosemary potatoes"},{name:"Devil’s Lair The Hidden Cave Chardonnay",drink:!0},{name:"Veal medallions, sautéed spinach & minted heirloom carrots"},{name:"Matilda Bay Fat Yak Pale Ale",drink:!0},{name:"Marinated bocconcini, baby octopus, smoked salmon & prosciutto platter"},{name:"Lemon, garlic & chickpea salad with tomato lemon dressing"},{name:"Mixed garden salad"},{name:"Fresh bread selection"}]},{name:"Dessert",items:[{name:"Baileys of Glenrowan Fortified Founder Series Muscat",drink:!0},{name:"Baileys of Glenrowan Fortified Founder Series Topaque",drink:!0},{name:"Orange chocolate mousse with caramel fudge"},{name:"Glazed fruit custard with swiss roll"},{name:"Trio of Australian cheeses with dried fruit, nuts, crisp bread & lavosh"},{name:"Freshly brewed coffee & tea selection with chocolates"}]}]},{name:"Menu Two",type:"food",price_cents:"6500",sections:[{name:"On Arrival",items:[{name:"Dukkah toasted Turkish bread with aged balsamic & extra virgin olive oil"},{name:"Matilda Bay Beez Neez",drink:!0}]},{name:"Main Course",items:[{name:"Slow roasted lamb shoulder with rosemary & garlic, lemon scented cous cous with fresh herbs, mint yoghurt dressing"},{name:"Matilda Bay Fat Yak Pale Ale",drink:!0},{name:"Grilled chicken breast, roast pumpkin, red pepper & asparagus with a chive & corn nage"},{name:"Rosemount Estate District Release Chardonnay",drink:!0},{name:"Creamy pasta salad with baby corn, peppers & herbs"},{name:"Mixed garden salad"},{name:"Fresh bread selection"}]},{name:"Dessert",items:[{name:"Baileys of Glenrowan Fortified Founder Series Muscat",drink:!0},{name:"Baileys of Glenrowan Fortified Founder Series Topaque",drink:!0},{name:"Streets Magnun ice creams"},{name:"Trio of Australian cheeses with dried fruit, nuts, crisp bread & lavosh"},{name:"Freshly brewed coffee & tea selection with chocolates"}]}]}],this.drinks={name:"Drinks Menu",sections:[{name:"White Wine",items:[{name:"Wolf Blass Bilyara Chardonnay",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_bilyara_chardonnay.jpg"}}},{name:"Angel Cove Sauvignon Blanc",description:"Marlborough | NZ",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/angel_cove_sauvignon_blanc.jpg"}}},{name:"Lindeman’s Early Harvest Pinot Grigio ",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_pinot_grigio.jpg"}}},{name:"Rosemount Estate District Release Chardonnay",description:"Robe | SA",price_cents:4600,data:{image:{storage:"local",file_name:"/wine-images/rosemount_estate_district_release_chardonnay.jpg"}}},{name:"Squealing Pig Sauvignon Blanc",description:"Marlborough | NZ",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/squealing_pig_sauvignon_blanc.jpg"}}},{name:"Annie’s Lane Moscato",description:"South Eastern Australia",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_moscato.jpg"}}},{name:"Devil’s Lair The Hidden Cave Chardonnay",description:"Margaret River | WA",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/devils_lair_the_hidden_cave_chardonnay.jpg"}}},{name:"T’Gallant Grace Pinot Grigio",description:"Mornington Peninsula | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_grace_pinot_grigio.jpg"}}},{name:"St Huberts Roussanne",description:"Yarra Valley | SA",price_cents:5400,data:{image:{storage:"local",file_name:"/wine-images/st_huberts_roussanne.jpg"}}},{name:"T’Gallant Tribute Pinot Gris",description:"Mornington Peninsula | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_tribute_pinot_gris.jpg"}}},{name:"Matua Estate Series Paretei Sauvignon Blanc",description:"Marlborough | NZ",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/matua_estate_series_paratei_sauvignon_blanc.jpg"}}},{name:"Coldstream Hills Yarra Valley Range Chardonnay",description:"Yarra Valley | VIC",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/coldstream_hills_yarra_valley_range_chardonnay.jpg"}}},{name:"Leo Buring Premium Regional Leopold Riesling",description:"Tamar Valley| TAS",price_cents:6500,data:{image:{storage:"local",file_name:"/wine-images/leo_buring_premium_regional_leopold_riesling.jpg"}}}]},{name:"Rosé",items:[{name:"Annie’s Lane Rosé",description:"Clare Valley | South Australia",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_rose.jpg"}}}]},{name:"Red Wine",items:[{name:"Wolf Blass Bilyara Shiraz",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_bilyara_shiraz.jpg"}}},{name:"Lindeman’s Early Harvest Shiraz",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_shiraz.jpg"}}},{name:"T’Gallant Cape Schanck Pinot Noir",description:"Mornington Peninsula | VIC",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/t'gallant_cape_schanck_pinot_noir.jpg"}}},{name:"Penfolds Koonunga Hill Seventy‐Six Shiraz Cabernet Sauvignon",description:"South Australia",price_cents:4600,data:{image:{storage:"local",file_name:"/wine-images/penfolds_koonunga_hill_76_shiraz_cabernet.jpg"}}},{name:"Saltram 1859 Shiraz",description:"Barossa Valley | SA",price_cents:4800,data:{image:{storage:"local",file_name:"/wine-images/saltram_1859_shiraz.jpg"}}},{name:"Squealing Pig Pinot Noir ",description:"Central Otago | NZ",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/squealing_pig_pinot_noir.jpg"}}},{name:"Baileys of Glenrowan Shiraz",description:"Glenrowan | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_shiraz.jpg"}}},{name:"Baileys of Glenrowan Cabernet Sauvignon",description:"Glenrowan | VIC",price_cents:5200,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_cab_sauv.jpg"}}},{name:"Wolf Blass Gold Label Shiraz",description:"Barossa Valley | SA",price_cents:5400,data:{image:{storage:"local",file_name:"/wine-images/wolf_blass_gold_label_shiraz.jpg"}}},{name:"Pepperjack Shiraz",description:"Barossa Valley & McLaren Vale | SA",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/pepperjack_shiraz.jpg"}}},{name:"Abel’s Tempest Pinot Noir",description:"Tasmania",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/abel's_tempest_pinot_noir.jpg"}}},{name:"Saltram Mamre Brook Shiraz",description:"Barossa Valley | SA",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/saltram_mamre_brook_shiraz.jpg"}}},{name:"Saltram Mamre Brook Cabernet Sauvignon",description:"Barossa Valley | SA",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/saltram_mamre_brook_cab_sauv.jpg"}}}]},{name:"Sparkling Wine",items:[{name:"Stony Peak Brut",description:"South Eastern Australia",price_cents:3800,data:{image:{storage:"local",file_name:"/wine-images/stony_peak.jpg"}}},{name:"Seppelt Fleur de Lys Chardonnay Pinot Noir",description:"South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/seppelt_fleur_de_lys.jpg"}}},{name:"Lindeman’s Early Harvest Moscato",description:"25% lighter in alcohol & calories* | South Eastern Australia",price_cents:4e3,data:{image:{storage:"local",file_name:"/wine-images/lindemans_early_harvest_moscato.jpg"}}},{name:"Coldstream Hills Yarra Valley Range Chardonnay Pinot Noir",description:"Yarra Valley | VIC",price_cents:6e3,data:{image:{storage:"local",file_name:"/wine-images/coldstream_hills_chardonnay_pinot_noir.jpg"}}}]},{name:"Deluxe Wines",description:"Price on application",items:[{name:"Penfolds Grange 1997",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_1997.jpg"}}},{name:"Penfolds Bin 707 1999",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Bin 707 2002",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Magill Estate Shiraz 2003",data:{image:{storage:"local",file_name:"/wine-images/penfolds_magill_estate_shiraz.jpg"}}},{name:"Penfolds Grange 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_2001.jpg"}}},{name:"Penfolds Bin 707 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_bin_707.jpg"}}},{name:"Penfolds Magill Estate Shiraz 2001",data:{image:{storage:"local",file_name:"/wine-images/penfolds_grange_1997.jpg"}}},{name:"Penfolds St Henri Shiraz 2002",data:{image:{storage:"local",file_name:"/wine-images/penfolds_st_henri_shiraz.jpg"}}}]},{name:"French Champagne",items:[{name:"Moet & Chandon Brut Imperial",description:"Epernay | France",price_cents:17500},{name:"Veuve Clicquo",description:"Riems | France",price_cents:18500}]},{name:"Fortified Wines",items:[{name:"Annie’s Lane Botrytis Riesling",description:"500ml | Clare Valley | South Australia",price_cents:5e3,data:{image:{storage:"local",file_name:"/wine-images/annies_lane_botrytis_riesling.jpg"}}},{name:"Baileys of Glenrowan Fortified Founder Series Muscat",description:"Glenrowan | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_fortified_founder_series_muscat.jpg"}}},{name:"Baileys of Glenrowan Fortified Founder Series Topaque",description:"Glenrowan | VIC",price_cents:5600,data:{image:{storage:"local",file_name:"/wine-images/baileys_of_glenrowan_fortified_founder_series_topaque.jpg"}}}]},{name:"Spirits",notes:"Unused portions of spirits remaining at the end of the event night (the purchase date) will be held for use in your Corporate Suite during following events for a maximum of 3 months from the date of purchase.",items:[{name:"Bacardi Rum",price_cents:8e3},{name:"Bundaberg Rum",price_cents:8e3},{name:"Canadian Club",price_cents:8e3},{name:"Gordons Gin",price_cents:8e3},{name:"Jim Beam White Label Bourbon",price_cents:8e3},{name:"Smirnoff Vodka",price_cents:8e3},{name:"Southern Comfort",price_cents:8e3},{name:"Johnnie Walker Red Label Scotch",price_cents:8e3},{name:"Jack Daniels",price_cents:9e3},{name:"Jim Beam Black Label Bourbon",price_cents:11e3},{name:"Johnnie Walker Black Label Scotch",price_cents:11e3}]},{name:"Beer + Cider",items:[{name:"Cascade Premium Light",price_cents:650},{name:"Carlton Dry",price_cents:800},{name:"Pure Blonde",price_cents:800},{name:"Peroni Leggera",price_cents:800},{name:"Crown Lager",price_cents:900},{name:"Peroni Nastro Azzurro",price_cents:950},{name:"Matilda Bay Beez Neez",price_cents:900},{name:"Matilda Bay Fat Yak Pale Ale",price_cents:900},{name:"Matilda Bay Redback Original",price_cents:900},{name:"Bulmers Original Apple Cider",price_cents:800}]},{name:"Soft Drinks",description:"A range of Coca‐Cola Varieties will be served when Food and Beverage items are selected",items:[{name:"Red Bull",price_cents:500},{name:"Kirks Mixers",description:"Dry Ginger Ale | Soda Water | Tonic Water | 300ml",price_cents:400}]}]},this.snacks={name:"Snacks Menu",canChooseQuantity:!0,sections:[{name:"On Arrival",items:[{name:"Kettle Sea Salt",price_cents:450},{name:"Kettle Sea Salt & Vinegar",price_cents:450},{name:"Kettle Chilli",price_cents:450},{name:"Cheezels",price_cents:450},{name:"Dipping Plate",price_cents:7e3,description:"Dukkah toasted Turkish bread with aged balsamic & extra virgin olive oil"},{name:"Mezze dip platter",price_cents:7e3,description:"Spiced pumpkin, mint yoghurt, beetroot hommus with flat breads"},{name:"Assorted mini gourmet wrap platter",price_cents:17e3,description:"2pp"},{name:"Assorted California roll & sushi platter",price_cents:17e3,description:"2pp"},{name:"Gourmet deli platter",price_cents:3e4,description:"Wagyu bresaola, Vincentina sopresa, prosciutto cotto & Lonza"},{name:"Seafood platter",price_cents:3e4,description:"Tarator of ocean trout with tahina yoghurt, walnut & pomegranate, slow braised baby octopus"},{name:"Freshly brewed coffee & tea service",price_cents:6500,description:"Tarator of ocean trout with tahina yoghurt, walnut & pomegranate, slow braised baby octopus"}]},{name:"Hot Platters",description:"Served as your guests arrive",items:[{name:"Butter chicken & rice boxes",description:"18 per platter",price_cents:1e4},{name:"Mini beef pies with tomato sauce ",description:"24 per platter",price_cents:6e3},{name:"Mini sausage rolls with tomato sauce",description:"24 per platter",price_cents:6e3},{name:"Mini quiches including vegetarian",description:"24 per platter",price_cents:6e3},{name:"Mini pizzas",description:"24 per platter",price_cents:6e3},{name:"Beetroot arancini with grated grana padano",description:"24 per platter",price_cents:6e3}]},{name:"Dessert",description:"Served at interval or the completion of the event, depending on event schedule",items:[{name:"Assorted mini desserts",description:"18 per platter",price_cents:8e3},{name:"Australian cheese platter",price_cents:8e3},{name:"Freshly sliced seasonal fruit platter",price_cents:5500},{name:"Streets Magnum Original ice cream",price_cents:470},{name:"Streets Magnum White ice cream",price_cents:470},{name:"Streets Magnum Almond ice cream",price_cents:470},{name:"Streets Magnum Chocolate Truffle ice cream",price_cents:470},{name:"Vanilla cupcakes",description:"minimum order of 6",price_cents:450},{name:"Birthday Cake",description:"18 Portions",price_cents:7e3}]}]},this.selectedOptions={inventory_id:$stateParams.id,notes:"",hostDetails:"",selection:{snacks:[],menu:[],drinks:[],parking:[]}},this.parkingSpaces=0,this.hostCanOrderMore=!1,this.buildSelections=function(){this.selectedOptions.selection.snacks=[],this.selectedOptions.selection.drinks=[],__extractSelectedOptions(this.snacks.sections,this.selectedOptions.selection.snacks),__extractSelectedOptions(this.drinks.sections,this.selectedOptions.selection.drinks)
},this.submitSelections=function(){NProgress.start();var that=this;Restangular.one("companies",Auth.currentUser.company.id).post("options",this.selectedOptions).then(function(result){NProgress.done(),$rootScope.$broadcast("options:selections:saved",result),that.selectedOptions={inventory_id:$stateParams.id,notes:"",host_details:"",selection:{snacks:[],menu:[],drinks:[],parking:[]}}}).catch(function(error){$rootScope.$broadcast("options:selections:failure",error)})};var __extractSelectedOptions=function(list,output){Lazy(list).each(function(section){Lazy(section.items).each(function(item){item.count>0&&output.push(item)})})}}]),angular.module("thms.controllers").controller("AddCompanyClient",["$scope","Company","$state","$humane",function($scope,Company,$state,$humane){$state.go("authenticated.main.clients.add.name"),$scope.CompanyService=Company,$scope.company={},$scope.createCompany=function(company){$scope.CompanyService.create(company)},$scope.$root.$on("company:create:success",function(event,data){$scope.company=data,$humane.stickyError("Company Created"),$state.go("authenticated.main.clients.add.facility")}),$scope.$root.$on("company:create:failure",function(){$humane.stickyError("Error Creating Company")})}]),angular.module("thms.controllers").controller("CateringCreateMenu",["$scope","Auth","menuCategories","Restangular",function($scope,Auth,menuCategories,Restangular){$scope.categories=menuCategories,$scope.itemFilter="",$scope.menu={name:"",sections:[]},$scope.addMenuSection=function(){$scope.menu.sections.push({items:[]})},$scope.saveMenu=function(){window.foo=$scope.menu,Restangular.one("company",Auth.currentUser.company.id).one("catering").post("menus",$scope.menu).then(function(result){console.log(result)}),console.log($scope.menu)},$scope.addItemToSection=function(section,event,data){section.items.push(Lazy(data).pick(["id","name"]).toObject())}}]),angular.module("thms.controllers").controller("ClientsAddSearchCtrl",["$scope","Restangular","Auth",function($scope,Restangular){$scope.search=function(email){Restangular.all("employees").getList({email:email}).then(function(users){$scope.results=users})}}]),angular.module("thms.controllers").controller("ConfirmOptionsController",["$scope","$state","Options","IceHockeyOptions","$modal","details","$humane","Tickets",function($scope,$state,Options,IceHockeyOptions,$modal,details,$humane,Tickets){$scope.confirmButtonDisabled=!1,$scope.confirmButtonText="Confirm","WWE"==details.event_name?$scope.Options=Options:"INTERNATIONAL ICE HOCKEY"==details.event_name?$scope.Options=IceHockeyOptions:console.log("bang, something went wrong"),$scope.details=details,$state.go("authenticated.main.inventory.confirmOptions.attendance"),$scope.confirmDrink=function(item){console.log(item.name+" requested"),item.count=1,item.requested=!0},$scope.unConfirmDrink=function(item){console.log(item.name+" de-requested"),item.count=0,item.requested=!1},$scope.increment=function(snack){void 0==snack.count&&(snack.count=0),snack.count=snack.count+1},$scope.decrement=function(snack){void 0==snack.count&&(snack.count=0),snack.count>=0&&(snack.count=snack.count-1)},$scope.goToSnackSelection=function(){var modal=$modal.open({templateUrl:"inventory/_modal_snack_conditions",windowClass:"effect-10"});modal.result.then(function(){$state.go("authenticated.main.inventory.confirmOptions.snacks")})},$scope.selectMenu=function(menu){if($scope.Options.selectedOptions.selection.menu=menu,1==menu.doesntHaveDrinksPackage)return void $state.go("authenticated.main.inventory.confirmOptions.drinks");$modal.open({templateUrl:"inventory/_modal_drinksChoices",controller:["$scope","Options","IceHockeyOptions",function($scope,Options,IceHockeyOptions){"WWE"==details.event_name?$scope.Options=Options:"INTERNATIONAL ICE HOCKEY"==details.event_name?$scope.Options=IceHockeyOptions:console.log("bang, something went wrong"),$scope.next=function(){$scope.$close(),$state.go("authenticated.main.inventory.confirmOptions.drinks")}}]})},$scope.openModalForItemImage=function(item){$modal.open({template:'"<div class="panel" style="display: flex"><img style="width: auto; max-height: 800px; margin: 0 auto;" src="'+item.data.image.file_name+'"/></div>',windowClass:"effect-8 narrow"})},$scope.notComing=function(){$scope.Options.buildSelections(),$scope.Options.selectedOptions.selection.notComing=!0,$scope.Options.selectedOptions.inventory_id=$state.params.id,$scope.Options.submitSelections()},$scope.createNewParkingReservation=function(){$scope.Options.parking.push({})},$scope.buildOptions=function(){$scope.Options.buildSelections(),$state.go("authenticated.main.inventory.confirmOptions.review")},$scope.wantStandardDrinksMenu=function(){$scope.Options.selectedOptions.selection.standardDrinkList=!0,$state.go("authenticated.main.inventory.confirmOptions.snacks")},$scope.confirmChoices=function(){$scope.confirmButtonDisabled=!0,$scope.confirmButtonText="Please Wait...",$scope.Options.selectedOptions.is_attending=!0,$scope.Options.selectedOptions.inventory_id=$state.params.id,$scope.Options.submitSelections()},$scope.$root.$on("options:selections:saved",function(event,data){if($scope.Options.selectedOptions.is_attending){var modal=$modal.open({templateUrl:"inventory/_modal_guest_names",windowClass:"effect-0",resolve:{confirmation:["InventoryConfirmation",function(InventoryConfirmation){return InventoryConfirmation.view(data.inventory_id)}]},controller:["$scope","confirmation","InventoryConfirmation",function($scope,confirmation,InventoryConfirmation){$scope.confirmation=confirmation.data,$scope.guestList=0===$scope.confirmation.guests.length?[{name:""}]:$scope.confirmation.guests,$scope.addNewGuestName=function(){return $scope.guestList.push({name:""})},$scope.save=function(){$scope.confirmation.guests=$scope.guestList,InventoryConfirmation.update($scope.confirmation).then(function(){$scope.$close()}).catch(function(){return $scope.$close()})}}]});modal.result.then(function(){$state.go("authenticated.main.event.client.index"),$humane.stickySuccess("Options Confirmed Successfully"),Tickets.addMagicalTickets()})}else $state.go("authenticated.main.event.client.index"),$humane.stickySuccess("Options Confirmed Successfully")})}]),angular.module("thms.controllers").controller("EmployeesIndexCtrl",["$scope","Restangular","data",function($scope,Restangular,data){$scope.data=data}]),angular.module("thms.controllers").controller("EventAddCtrl",["$scope","Restangular","$state",function($scope,Restangular,$state){$scope.createEvent=function(model){Restangular.one("company",$scope.$root.currentUser.company.id).all("events").post(model).then(function(result){console.log(result),$state.transitionTo("authenticated.main.events.add.dates")})}}]),angular.module("thms.controllers").controller("EventDatesCtrl",["$scope","Restangular",function($scope){$scope.addDate=function(){console.log("add date pushed")}}]),angular.module("thms.controllers").controller("EventReleaseController",["$scope","EventService","$state","availableFacilities",function($scope,Event,$state,facilities){$scope.data=facilities.data,console.log(facilities),$scope.data.forEach(function(item){item.selected=!1}),$scope.toggleSelectAll=function(){$scope.data.forEach(function(item){item.selected=$scope.allSelected})},$scope.releaseToInventory=function(){var selectedFacilities=[];data=Lazy($scope.data),data.filter(function(item){return item.selected&&item}).each(function(item){selectedFacilities.push(Lazy(item).pick(["client_id","company_id","facility_id","total","remaining","event_period","event_date_id"]).toObject())}),Event.bulkReleaseToInventory($state.params.date_id,{data:selectedFacilities}).success(function(){$state.go("authenticated.main.event.view",{event_id:$state.params.event_id})}).error(function(error){console.log(error)})}}]),angular.module("thms.controllers").controller("LoginWindowCtrl",["$scope","Auth",function($scope,Auth){var setDefaultState=function(){$scope.loginBtnText="Login",$scope.details={},$scope.inProgress=!1,$scope.showErrors=!1};$scope.$root.$on("event:auth-login-invalid",function(event,data){$scope.invalidLogin=!0,$scope.errorMessage=data.error,setDefaultState(),NProgress.done()}),$scope.$root.$on("event:auth-logged-in",function(){NProgress.done()}),$scope.login=function(){return $scope.form.$invalid?($scope.showErrors=!0,!1):(NProgress.start(),$scope.loginBtnText="Logging In...",$scope.inProgress=!0,void Auth.login($scope.details))},setDefaultState()}]),angular.module("thms.controllers").controller("MainDashboardCtrl",["$rootScope",function(){}]),angular.module("thms.controllers").controller("ResetPasswordCtrl",["$scope","$state","$http",function($scope,$state,$http){$scope.data={password:"",password_confirmation:"",token:$state.params.token},$scope.buttonText="Reset Password",$scope.buttonDisabled=!0,$scope.resetPassword=function(data){$scope.buttonText="Please Wait..",NProgress.start(),$http.post("/api/v1/security/reset_password",data).success(function(){NProgress.done(),$state.go("guest.login")}).error(function(){$scope.buttonText="Reset Password",$scope.buttonDisabled=!1,NProgress.stop()})}}]),function(){var UserHeaderController,app,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.controllers"),UserHeaderController=function(_super){function UserHeaderController(){return UserHeaderController.__super__.constructor.apply(this,arguments)}return __extends(UserHeaderController,_super),UserHeaderController.register(app),UserHeaderController.inject("$scope","$modal","Auth"),UserHeaderController.prototype.initialize=function(){return this.$scope.userMenu={isOpen:!1}},UserHeaderController.prototype.toggleUserMenu=function(){return this.$scope.userMenu.isOpen=!this.$scope.userMenu.isOpen},UserHeaderController.prototype.help=function(){var modal;return modal=this.$modal.open({templateUrl:"teasers/modal_help",windowClass:"effect-10"})},UserHeaderController.prototype.logout=function(){return this.Auth.logout()},UserHeaderController.prototype.showMasqueradeUserList=function(){var modal;return modal=this.$modal.open({templateUrl:"admin/masquerading/_modal_list_avail",resolve:{users:["$http",function($http){return $http.get("/api/v2/masquerading/available")}]},windowClass:"effect-10 masquerade",controller:["$scope","$humane","$state","users","Auth",function($scope,$humane,$state,users,Auth){return $scope.users=users.data,$scope.masqueradeAs=function(user){return Auth.startMasquerading(user.id).then(function(){return $state.go("authenticated.main.home"),$scope.$close()})["catch"](function(error){return $scope.$close(),$humane.stickyError(error)})}}]})},UserHeaderController}(BaseCtrl)}.call(this),function(){var __slice=[].slice;this.BaseCtrl=function(){function BaseCtrl(){var args,fn,index,key,_i,_len,_ref,_ref1;for(args=1<=arguments.length?__slice.call(arguments,0):[],_ref=this.constructor.$inject,index=_i=0,_len=_ref.length;_len>_i;index=++_i)key=_ref[index],this[key]=args[index];_ref1=this.constructor.prototype;for(key in _ref1)fn=_ref1[key],"function"==typeof fn&&"constructor"!==key&&"initialize"!==key&&"_"!==key[0]&&(this.$scope[key]=("function"==typeof fn.bind?fn.bind(this):void 0)||_.bind(fn,this));"function"==typeof this.initialize&&this.initialize()}return BaseCtrl.register=function(app,name){var _ref;return null==name&&(name=this.name||(null!=(_ref=this.toString().match(/function\s*(.*?)\(/))?_ref[1]:void 0)),app.controller(name,this)},BaseCtrl.inject=function(){var args;return args=1<=arguments.length?__slice.call(arguments,0):[],this.$inject=args},BaseCtrl}()}.call(this),angular.module("thms.controllers").controller("VenueViewEventController",["$scope","EventService","resolvedEvent","$modal",function($scope,Event,event,$modal){console.log("VenueViewEventController Loaded"),console.log(event),$scope.event=event;var openedModal;$scope.newEventDate=function(){openedModal=$modal.open({templateUrl:"events/_modal_add_event_date",controller:["$scope","Options",function($scope,Options){$scope.Options=Options,$scope.next=function(){$scope.$close(),$state.go("authenticated.main.inventory.confirmOptions.drinks")}}]})},$scope.editEventDate=function(date){openedModal=$modal.open({templateUrl:"events/_modal_add_event_date",controller:["$scope",function($scope){$scope.date=date}]})}}]),angular.module("thms.controllers").controller("VenueFacilityLeaseCreate",["$scope","$http","$state","$humane","Facility","clients","facilities","Auth",function($scope,$http,$state,$humane,Facility,clients,facilities,Auth){console.log($scope.$parent.company.id),$scope.clients=clients,$scope.facilities=facilities,$scope.save=function(lease){lease.company_id=$scope.$parent.company.id,$http.post("/api/v1/companies/"+Auth.currentUser.company.id+"/facilities/"+lease.facility_id+"/leases",lease).success(function(){$humane.stickyError("Facility Lease Created"),$state.go("authenticated.main.company.index")}).error(function(error){console.log(error)})}}]),function(){var app;app=angular.module("thms.directives"),app.directive("activeClassOn",["$state",function($state){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){var isMatch,routesToMatch;return routesToMatch=$attrs.activeClassOn.split(" "),isMatch=function(){return _.any(routesToMatch,function(route){return $state.includes(route)})},$scope.$on("$stateChangeSuccess",function(){return isMatch()?$element.addClass("active"):$element.removeClass("active")}),isMatch()?$element.addClass("active"):$element.removeClass("active")}]}}])}.call(this),angular.module("thms.directives").directive("dollarCents",function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ngModel){var toDollars=function(text){var text=text||"0";return parseFloat(text)/100},toCents=function(text){var text=text||"0";return 100*parseFloat(text)};ngModel.$parsers.push(toDollars),ngModel.$formatters.push(toCents)}}}),angular.module("thms.directives").directive("dateFix",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ngModel){element.on("change",function(){scope.$apply(function(){ngModel.$setViewValue(element.val())})})}}}),angular.module("thms.directives").filter("filterMultiple",["$filter",function($filter){return function(items,keyObj){var filterObj={data:items,filteredData:[],applyFilter:function(obj,key){var fData=[];if(0==this.filteredData.length&&(this.filteredData=this.data),obj){var fObj={};if(angular.isArray(obj)){if(angular.isArray(obj)&&obj.length>0)for(var i=0;i<obj.length;i++)angular.isDefined(obj[i])&&(fObj[key]=obj[i],fData=fData.concat($filter("filter")(this.filteredData,fObj)))}else fObj[key]=obj,fData=fData.concat($filter("filter")(this.filteredData,fObj));fData.length>0&&(this.filteredData=fData)}}};return keyObj&&angular.forEach(keyObj,function(obj,key){filterObj.applyFilter(obj,key)}),filterObj.filteredData}}]),angular.module("thms.directives").directive("money",function(){function link(scope,el,attrs,ngModelCtrl){function round(num){var d=Math.pow(10,precision);return Math.round(num*d)/d}function formatPrecision(value){return parseFloat(value).toFixed(precision)}function formatViewValue(value){return ngModelCtrl.$isEmpty(value)?"":""+value}var lastValidValue,min=parseFloat(attrs.min||0),precision=parseFloat(attrs.precision||2);ngModelCtrl.$parsers.push(function(value){0===value.indexOf(".")&&(value="0"+value),0===value.indexOf("-")&&(min>=0?(value=null,ngModelCtrl.$setViewValue(""),ngModelCtrl.$render()):"-"===value&&(value=""));var empty=ngModelCtrl.$isEmpty(value);return empty||NUMBER_REGEXP.test(value)?lastValidValue=""===value?null:empty?value:parseFloat(value):(ngModelCtrl.$setViewValue(formatViewValue(lastValidValue)),ngModelCtrl.$render()),ngModelCtrl.$setValidity("number",!0),lastValidValue}),ngModelCtrl.$formatters.push(formatViewValue);var minValidator=function(value){return!ngModelCtrl.$isEmpty(value)&&min>value?void ngModelCtrl.$setValidity("min",!1):(ngModelCtrl.$setValidity("min",!0),value)};if(ngModelCtrl.$parsers.push(minValidator),ngModelCtrl.$formatters.push(minValidator),attrs.max){var max=parseFloat(attrs.max),maxValidator=function(value){return!ngModelCtrl.$isEmpty(value)&&value>max?void ngModelCtrl.$setValidity("max",!1):(ngModelCtrl.$setValidity("max",!0),value)};ngModelCtrl.$parsers.push(maxValidator),ngModelCtrl.$formatters.push(maxValidator)}precision>-1&&(ngModelCtrl.$parsers.push(function(value){return value?round(value):value}),ngModelCtrl.$formatters.push(function(value){return value?formatPrecision(value):value})),el.bind("blur",function(){var value=ngModelCtrl.$modelValue;value&&(ngModelCtrl.$viewValue=formatPrecision(value),ngModelCtrl.$render())})}var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;return{restrict:"A",require:"ngModel",link:link}}),angular.module("ngDragDrop",[]).directive("uiDraggable",["$parse","$rootScope",function($parse,$rootScope){return function(scope,element,attrs){window.jQuery&&!window.jQuery.event.props.dataTransfer&&window.jQuery.event.props.push("dataTransfer"),element.attr("draggable",!1),attrs.$observe("uiDraggable",function(newValue){element.attr("draggable",newValue)});var dragData="";scope.$watch(attrs.drag,function(newValue){dragData=newValue}),element.bind("dragstart",function(e){var sendData=angular.toJson(dragData),sendChannel=attrs.dragChannel||"defaultchannel",dragImage=attrs.dragImage||null;if(dragImage){var dragImageFn=$parse(attrs.dragImage);scope.$apply(function(){var dragImageParameters=dragImageFn(scope,{$event:e});if(dragImageParameters&&dragImageParameters.image){var xOffset=dragImageParameters.xOffset||0,yOffset=dragImageParameters.yOffset||0;e.dataTransfer.setDragImage(dragImageParameters.image,xOffset,yOffset)}})}e.dataTransfer.setData("Text",sendData),$rootScope.$broadcast("ANGULAR_DRAG_START",sendChannel)}),element.bind("dragend",function(e){var sendChannel=attrs.dragChannel||"defaultchannel";if($rootScope.$broadcast("ANGULAR_DRAG_END",sendChannel),e.dataTransfer&&"none"!==e.dataTransfer.dropEffect&&attrs.onDropSuccess){var fn=$parse(attrs.onDropSuccess);scope.$apply(function(){fn(scope,{$event:e})})}})}}]).directive("uiOnDrop",["$parse","$rootScope",function($parse,$rootScope){return function(scope,element,attr){function onDragOver(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.dataTransfer.dropEffect="move",!1}function onDragLeave(){dragging--,0==dragging&&element.removeClass(dragHoverClass)}function onDragEnter(){dragging++,$rootScope.$broadcast("ANGULAR_HOVER",dropChannel),element.addClass(dragHoverClass)}function onDrop(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation();var data=e.dataTransfer.getData("Text");data=angular.fromJson(data);var fn=$parse(attr.uiOnDrop);scope.$apply(function(){fn(scope,{$data:data,$event:e})}),element.removeClass(dragEnterClass)}var dragging=0,dropChannel="defaultchannel",dragChannel="",dragEnterClass=attr.dragEnterClass||"on-drag-enter",dragHoverClass=attr.dragHoverClass||"on-drag-hover";$rootScope.$on("ANGULAR_DRAG_START",function(event,channel){dragChannel=channel,dropChannel===channel&&(element.bind("dragover",onDragOver),element.bind("dragenter",onDragEnter),element.bind("dragleave",onDragLeave),element.bind("drop",onDrop),element.addClass(dragEnterClass))}),$rootScope.$on("ANGULAR_DRAG_END",function(e,channel){dragChannel="",dropChannel===channel&&(element.unbind("dragover",onDragOver),element.unbind("dragenter",onDragEnter),element.unbind("dragleave",onDragLeave),element.unbind("drop",onDrop),element.removeClass(dragHoverClass),element.removeClass(dragEnterClass))}),$rootScope.$on("ANGULAR_HOVER",function(e,channel){dropChannel===channel&&element.removeClass(dragHoverClass)}),attr.$observe("dropChannel",function(value){value&&(dropChannel=value)})}}]),angular.module("thms.directives").filter("filterNumeric",function(){return function(input){return input.replace(/[0-9]/g,"")}}),function(){var app;app=angular.module("thms.directives"),app.filter("timeFromNow",["angularMomentConfig","amMoment",function(){return function(time){return moment.unix(time).fromNow()}}])}.call(this),function(){var app;app=angular.module("thms.directives"),app.filter("timerange",["angularMomentConfig","amMoment",function(angularMomentConfig,amMoment){return function(input){var start,timeRange;return timeRange=input.split(".."),start=moment(timeRange[0]),angularMomentConfig.timezone&&(start=amMoment.applyTimezone(start)),start.format("MMM Do h:mm a")}}])}.call(this),angular.module("thms.directives").directive("timeTransform",function(){return{restrict:"AE",template:'<h1>{{time.start}}</h1><input type="datetime-local" value="2014-05-09T14:00"/>',link:function(){}}}),function(){var app;app=angular.module("thms.directives"),app.directive("toUnix",["angularMomentConfig","amMoment",function(angularMomentConfig,amMoment){return{require:"ngModel",link:function(scope,el,attr,ngModel){return ngModel.$parsers.push(function(val){return new Date(val).getTime()/1e3}),ngModel.$formatters.push(function(originalVal){var value;return value=amMoment.preprocessDate(originalVal),angularMomentConfig.timezone&&(value=amMoment.applyTimezone(value)),value.format("YYYY-MM-DDTHH:mm")})}}}])}.call(this),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){return{link:function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);return currentTransition&&currentTransition.cancel(),currentTransition=newTransition,newTransition.then(newTransitionDone,newTransitionDone),newTransition}function expand(){initialAnimSkip?(initialAnimSkip=!1,expandDone()):(element.removeClass("collapse").addClass("collapsing"),doTransition({height:element[0].scrollHeight+"px"}).then(expandDone))}function expandDone(){element.removeClass("collapsing"),element.addClass("collapse in"),element.css({height:"auto"})}function collapse(){if(initialAnimSkip)initialAnimSkip=!1,collapseDone(),element.css({height:0});else{element.css({height:element[0].scrollHeight+"px"});{element[0].offsetWidth}element.removeClass("collapse in").addClass("collapsing"),doTransition({height:0}).then(collapseDone)}}function collapseDone(){element.removeClass("collapsing"),element.addClass("collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(this.groups.indexOf(group),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function($parse){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){var getIsOpen,setIsOpen;accordionCtrl.addGroup(scope),scope.isOpen=!1,attrs.isOpen&&(getIsOpen=$parse(attrs.isOpen),setIsOpen=getIsOpen.assign,scope.$parent.$watch(getIsOpen,function(value){scope.isOpen=!!value})),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope),setIsOpen&&setIsOpen(scope.$parent,value)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(element,attr,transclude){return function(scope,element,attr,accordionGroupCtrl){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable="close"in $attrs}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){element.hasClass(buttonsCtrl.activeClass)||scope.$apply(function(){ngModelCtrl.$setViewValue(scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function($scope,$timeout,$transition){function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>=0&&(currentTimeout=$timeout(timerFn,interval))}function resetTimer(){currentTimeout&&($timeout.cancel(currentTimeout),currentTimeout=null)}function timerFn(){isPlaying?($scope.next(),restartTimer()):$scope.pause()}var currentTimeout,isPlaying,self=this,slides=self.slides=[],currentIndex=-1;self.currentSlide=null;var destroyed=!1;self.select=function(nextSlide,direction){function goNext(){if(!destroyed){if(self.currentSlide&&angular.isString(direction)&&!$scope.noTransition&&nextSlide.$element){nextSlide.$element.addClass(direction);{nextSlide.$element[0].offsetWidth}angular.forEach(slides,function(slide){angular.extend(slide,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(nextSlide,{direction:direction,active:!0,entering:!0}),angular.extend(self.currentSlide||{},{direction:direction,leaving:!0}),$scope.$currentTransition=$transition(nextSlide.$element,{}),function(next,current){$scope.$currentTransition.then(function(){transitionDone(next,current)},function(){transitionDone(next,current)})}(nextSlide,self.currentSlide)}else transitionDone(nextSlide,self.currentSlide);self.currentSlide=nextSlide,currentIndex=nextIndex,restartTimer()}}function transitionDone(next,current){angular.extend(next,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(current||{},{direction:"",active:!1,leaving:!1,entering:!1}),$scope.$currentTransition=null}var nextIndex=slides.indexOf(nextSlide);void 0===direction&&(direction=nextIndex>currentIndex?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&($scope.$currentTransition?($scope.$currentTransition.cancel(),$timeout(goNext)):goNext())},$scope.$on("$destroy",function(){destroyed=!0}),self.indexOfSlide=function(slide){return slides.indexOf(slide)
},$scope.next=function(){var newIndex=(currentIndex+1)%slides.length;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"next")},$scope.prev=function(){var newIndex=0>currentIndex-1?slides.length-1:currentIndex-1;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"prev")},$scope.select=function(slide){self.select(slide)},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.slides=function(){return slides},$scope.$watch("interval",restartTimer),$scope.$on("$destroy",resetTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active?self.select(index>=slides.length?slides[index-1]:slides[index]):currentIndex>index&&currentIndex--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function($parse){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(scope,element,attrs,carouselCtrl){if(attrs.active){var getActive=$parse(attrs.active),setActive=getActive.assign,lastValue=scope.active=getActive(scope.$parent);scope.$watch(function(){var parentActive=getActive(scope.$parent);return parentActive!==scope.active&&(parentActive!==lastValue?lastValue=scope.active=parentActive:setActive(scope.$parent,parentActive=lastValue=scope.active)),parentActive})}carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].body.scrollTop||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].body.scrollLeft||$document[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function($scope,$attrs,dateFilter,dtConfig){function getValue(value,defaultValue){return angular.isDefined(value)?$scope.$parent.$eval(value):defaultValue}function getDaysInMonth(year,month){return new Date(year,month,0).getDate()}function getDates(startDate,n){for(var dates=new Array(n),current=startDate,i=0;n>i;)dates[i++]=new Date(current),current.setDate(current.getDate()+1);return dates}function makeDate(date,format,isSelected,isSecondary){return{date:date,label:dateFilter(date,format),selected:!!isSelected,secondary:!!isSecondary}}var format={day:getValue($attrs.dayFormat,dtConfig.dayFormat),month:getValue($attrs.monthFormat,dtConfig.monthFormat),year:getValue($attrs.yearFormat,dtConfig.yearFormat),dayHeader:getValue($attrs.dayHeaderFormat,dtConfig.dayHeaderFormat),dayTitle:getValue($attrs.dayTitleFormat,dtConfig.dayTitleFormat),monthTitle:getValue($attrs.monthTitleFormat,dtConfig.monthTitleFormat)},startingDay=getValue($attrs.startingDay,dtConfig.startingDay),yearRange=getValue($attrs.yearRange,dtConfig.yearRange);this.minDate=dtConfig.minDate?new Date(dtConfig.minDate):null,this.maxDate=dtConfig.maxDate?new Date(dtConfig.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(date,selected){var year=date.getFullYear(),month=date.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth),numDates=0;numDisplayedFromPreviousMonth>0&&(firstDate.setDate(-numDisplayedFromPreviousMonth+1),numDates+=numDisplayedFromPreviousMonth),numDates+=getDaysInMonth(year,month+1),numDates+=(7-numDates%7)%7;for(var days=getDates(firstDate,numDates),labels=new Array(7),i=0;numDates>i;i++){var dt=new Date(days[i]);days[i]=makeDate(dt,format.day,selected&&selected.getDate()===dt.getDate()&&selected.getMonth()===dt.getMonth()&&selected.getFullYear()===dt.getFullYear(),dt.getMonth()!==month)}for(var j=0;7>j;j++)labels[j]=dateFilter(days[j].date,format.dayHeader);return{objects:days,title:dateFilter(date,format.dayTitle),labels:labels}},compare:function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(date,selected){for(var months=new Array(12),year=date.getFullYear(),i=0;12>i;i++){var dt=new Date(year,i,1);months[i]=makeDate(dt,format.month,selected&&selected.getMonth()===i&&selected.getFullYear()===year)}return{objects:months,title:dateFilter(date,format.monthTitle)}},compare:function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(date,selected){for(var years=new Array(yearRange),year=date.getFullYear(),startYear=parseInt((year-1)/yearRange,10)*yearRange+1,i=0;yearRange>i;i++){var dt=new Date(startYear+i,0,1);years[i]=makeDate(dt,format.year,selected&&selected.getFullYear()===dt.getFullYear())}return{objects:years,title:[years[0].label,years[yearRange-1].label].join(" - ")}},compare:function(date1,date2){return date1.getFullYear()-date2.getFullYear()},split:5,step:{years:yearRange}}],this.isDisabled=function(date,mode){var currentMode=this.modes[mode||0];return this.minDate&&currentMode.compare(date,this.minDate)<0||this.maxDate&&currentMode.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:currentMode.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(dateFilter,$parse,datepickerConfig,$log){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){function updateShowWeekNumbers(){scope.showWeekNumbers=0===mode&&showWeeks}function split(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays}function refill(updateSelected){var date=null,valid=!0;ngModel.$modelValue&&(date=new Date(ngModel.$modelValue),isNaN(date)?(valid=!1,$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):updateSelected&&(selected=date)),ngModel.$setValidity("date",valid);var currentMode=datepickerCtrl.modes[mode],data=currentMode.getVisibleDates(selected,date);angular.forEach(data.objects,function(obj){obj.disabled=datepickerCtrl.isDisabled(obj.date,mode)}),ngModel.$setValidity("date-disabled",!date||!datepickerCtrl.isDisabled(date)),scope.rows=split(data.objects,currentMode.split),scope.labels=data.labels||[],scope.title=data.title}function setMode(value){mode=value,updateShowWeekNumbers(),refill()}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}var datepickerCtrl=ctrls[0],ngModel=ctrls[1];if(ngModel){var mode=0,selected=new Date,showWeeks=datepickerConfig.showWeeks;attrs.showWeeks?scope.$parent.$watch($parse(attrs.showWeeks),function(value){showWeeks=!!value,updateShowWeekNumbers()}):updateShowWeekNumbers(),attrs.min&&scope.$parent.$watch($parse(attrs.min),function(value){datepickerCtrl.minDate=value?new Date(value):null,refill()}),attrs.max&&scope.$parent.$watch($parse(attrs.max),function(value){datepickerCtrl.maxDate=value?new Date(value):null,refill()}),ngModel.$render=function(){refill(!0)},scope.select=function(date){if(0===mode){var dt=ngModel.$modelValue?new Date(ngModel.$modelValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModel.$setViewValue(dt),refill(!0)}else selected=date,setMode(mode-1)},scope.move=function(direction){var step=datepickerCtrl.modes[mode].step;selected.setMonth(selected.getMonth()+direction*(step.months||0)),selected.setFullYear(selected.getFullYear()+direction*(step.years||0)),refill()},scope.toggleMode=function(){setMode((mode+1)%datepickerCtrl.modes.length)},scope.getWeekNumber=function(row){return 0===mode&&scope.showWeekNumbers&&7===row.length?getISO8601WeekNumber(row[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function($compile,$parse,$document,$position,dateFilter,datepickerPopupConfig,datepickerConfig){return{restrict:"EA",require:"ngModel",link:function(originalScope,element,attrs,ngModel){function setOpen(value){setIsOpen?setIsOpen(originalScope,!!value):scope.isOpen=!!value}function parseDate(viewValue){if(viewValue){if(angular.isDate(viewValue))return ngModel.$setValidity("date",!0),viewValue;if(angular.isString(viewValue)){var date=new Date(viewValue);return isNaN(date)?void ngModel.$setValidity("date",!1):(ngModel.$setValidity("date",!0),date)}return void ngModel.$setValidity("date",!1)}return ngModel.$setValidity("date",!0),null}function addWatchableAttribute(attribute,scopeProperty,datepickerAttribute){attribute&&(originalScope.$watch($parse(attribute),function(value){scope[scopeProperty]=value}),datepickerEl.attr(datepickerAttribute||scopeProperty,scopeProperty))}function updatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight")}var dateFormat,scope=originalScope.$new(),closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?originalScope.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?originalScope.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;attrs.$observe("datepickerPopup",function(value){dateFormat=value||datepickerPopupConfig.dateFormat,ngModel.$render()}),scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?originalScope.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,originalScope.$on("$destroy",function(){$popup.remove(),scope.$destroy()}),attrs.$observe("currentText",function(text){scope.currentText=angular.isDefined(text)?text:datepickerPopupConfig.currentText}),attrs.$observe("toggleWeeksText",function(text){scope.toggleWeeksText=angular.isDefined(text)?text:datepickerPopupConfig.toggleWeeksText}),attrs.$observe("clearText",function(text){scope.clearText=angular.isDefined(text)?text:datepickerPopupConfig.clearText}),attrs.$observe("closeText",function(text){scope.closeText=angular.isDefined(text)?text:datepickerPopupConfig.closeText});var getIsOpen,setIsOpen;attrs.isOpen&&(getIsOpen=$parse(attrs.isOpen),setIsOpen=getIsOpen.assign,originalScope.$watch(getIsOpen,function(value){scope.isOpen=!!value})),scope.isOpen=getIsOpen?getIsOpen(originalScope):!1;var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){setOpen(!1)})},elementFocusBind=function(){scope.$apply(function(){setOpen(!0)})},popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection()"});var datepickerEl=angular.element(popupEl.children()[0]),datepickerOptions={};attrs.datepickerOptions&&(datepickerOptions=originalScope.$eval(attrs.datepickerOptions),datepickerEl.attr(angular.extend({},datepickerOptions))),ngModel.$parsers.unshift(parseDate),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt),ngModel.$setViewValue(scope.date),ngModel.$render(),closeOnDateSelection&&setOpen(!1)},element.bind("input change keyup",function(){scope.$apply(function(){scope.date=ngModel.$modelValue})}),ngModel.$render=function(){var date=ngModel.$viewValue?dateFilter(ngModel.$viewValue,dateFormat):"";element.val(date),scope.date=ngModel.$modelValue},addWatchableAttribute(attrs.min,"min"),addWatchableAttribute(attrs.max,"max"),attrs.showWeeks?addWatchableAttribute(attrs.showWeeks,"showWeeks","show-weeks"):(scope.showWeeks="show-weeks"in datepickerOptions?datepickerOptions["show-weeks"]:datepickerConfig.showWeeks,datepickerEl.attr("show-weeks","showWeeks")),attrs.dateDisabled&&datepickerEl.attr("date-disabled",attrs.dateDisabled);var documentBindingInitialized=!1,elementFocusInitialized=!1;scope.$watch("isOpen",function(value){value?(updatePosition(),$document.bind("click",documentClickBind),elementFocusInitialized&&element.unbind("focus",elementFocusBind),element[0].focus(),documentBindingInitialized=!0):(documentBindingInitialized&&$document.unbind("click",documentClickBind),element.bind("focus",elementFocusBind),elementFocusInitialized=!0),setIsOpen&&setIsOpen(originalScope,value)}),scope.today=function(){scope.dateSelection(new Date)},scope.clear=function(){scope.dateSelection(null)};var $popup=$compile(popupEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(scope,element){element.bind("click",function(event){event.preventDefault(),event.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function($document){var openElement=null,closeMenu=angular.noop;return{restrict:"CA",link:function(scope,element){scope.$watch("$location.path",function(){closeMenu()}),element.parent().bind("click",function(){closeMenu()}),element.bind("click",function(event){var elementWasOpen=element===openElement;event.preventDefault(),event.stopPropagation(),openElement&&closeMenu(),elementWasOpen||element.hasClass("disabled")||element.prop("disabled")||(element.parent().addClass("open"),openElement=element,closeMenu=function(event){event&&(event.preventDefault(),event.stopPropagation()),$document.unbind("click",closeMenu),element.parent().removeClass("open"),closeMenu=angular.noop,openElement=null},$document.bind("click",closeMenu))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$timeout",function($timeout){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(scope){scope.animate=!1,$timeout(function(){scope.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function($modalStack,$timeout){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(scope,element,attrs){scope.windowClass=attrs.windowClass||"",$timeout(function(){scope.animate=!0,element[0].focus()}),scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function($transition,$timeout,$document,$compile,$rootScope,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,300,checkRemoveBackdrop),body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0)}function checkRemoveBackdrop(){if(backdropDomEl&&-1==backdropIndex()){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,150,function(){backdropScopeRef.$destroy(),backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,emulateTime,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),done&&done())}scope.animate=!1;var transitionEndEventName=$transition.transitionEndEventName;if(transitionEndEventName){var timeout=$timeout(afterAnimating,emulateTime);domEl.bind(transitionEndEventName,function(){$timeout.cancel(timeout),afterAnimating(),scope.$apply()})}else $timeout(afterAnimating,0)}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top(),modal&&modal.value.keyboard&&$rootScope.$apply(function(){$modalStack.dismiss(modal.key)}))}),$modalStack.open=function(modalInstance,modal){openedWindows.add(modalInstance,{deferred:modal.deferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();currBackdropIndex>=0&&!backdropDomEl&&(backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex,backdropDomEl=$compile("<div modal-backdrop></div>")(backdropScope),body.prepend(backdropDomEl));var angularDomEl=angular.element("<div modal-window></div>");angularDomEl.attr("window-class",modal.windowClass),angularDomEl.attr("index",openedWindows.length()-1),angularDomEl.attr("animate","animate"),angularDomEl.html(modal.content);var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,body.prepend(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance).value;modalWindow&&(modalWindow.deferred.resolve(result),removeModalWindow(modalInstance))},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance).value;modalWindow&&(modalWindow.deferred.reject(reason),removeModalWindow(modalInstance))},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal;)this.dismiss(topModal.key,reason),topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function($injector,$rootScope,$q,$http,$templateCache,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$http.get(options.templateUrl,{cache:$templateCache}).then(function(result){return result.data})}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){$modalStack.close(modalInstance,result)},dismiss:function(reason){$modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,content:tplAndVars[0],backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,windowClass:modalOptions.windowClass})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(){modalOpenedDeferred.reject(!1)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function($scope,$attrs,$parse,$interpolate){var self=this,setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(defaultItemsPerPage){$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=defaultItemsPerPage},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===$scope.totalPages},this.isActive=function(page){return this.page===page},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.getAttributeValue=function(attribute,defaultValue,interpolate){return angular.isDefined(attribute)?interpolate?$interpolate(attribute)($scope.$parent):$scope.$parent.$eval(attribute):defaultValue},this.render=function(){this.page=parseInt($scope.page,10)||1,this.page>0&&this.page<=$scope.totalPages&&($scope.pages=this.getPages(this.page,$scope.totalPages))},$scope.selectPage=function(page){!self.isActive(page)&&page>0&&page<=$scope.totalPages&&($scope.page=page,$scope.onSelectPage({page:page}))},$scope.$watch("page",function(){self.render()}),$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),self.page>value?$scope.selectPage(value):self.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,config){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,paginationCtrl){function makePage(number,text,isActive,isDisabled){return{number:number,text:text,active:isActive,disabled:isDisabled}}var maxSize,boundaryLinks=paginationCtrl.getAttributeValue(attrs.boundaryLinks,config.boundaryLinks),directionLinks=paginationCtrl.getAttributeValue(attrs.directionLinks,config.directionLinks),firstText=paginationCtrl.getAttributeValue(attrs.firstText,config.firstText,!0),previousText=paginationCtrl.getAttributeValue(attrs.previousText,config.previousText,!0),nextText=paginationCtrl.getAttributeValue(attrs.nextText,config.nextText,!0),lastText=paginationCtrl.getAttributeValue(attrs.lastText,config.lastText,!0),rotate=paginationCtrl.getAttributeValue(attrs.rotate,config.rotate);paginationCtrl.init(config.itemsPerPage),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()}),paginationCtrl.getPages=function(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&totalPages>maxSize;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;endPage>=number;number++){var page=makePage(number,number,paginationCtrl.isActive(number),!1);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1,!1);pages.unshift(previousPageSet)}if(totalPages>endPage){var nextPageSet=makePage(endPage+1,"...",!1,!1);pages.push(nextPageSet)}}if(directionLinks){var previousPage=makePage(currentPage-1,previousText,!1,paginationCtrl.noPrevious());pages.unshift(previousPage);var nextPage=makePage(currentPage+1,nextText,!1,paginationCtrl.noNext());pages.push(nextPage)}if(boundaryLinks){var firstPage=makePage(1,firstText,!1,paginationCtrl.noPrevious());pages.unshift(firstPage);var lastPage=makePage(totalPages,lastText,!1,paginationCtrl.noNext());pages.push(lastPage)}return pages}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:!0}).directive("pager",["pagerConfig",function(config){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,paginationCtrl){function makePage(number,text,isDisabled,isPrevious,isNext){return{number:number,text:text,disabled:isDisabled,previous:align&&isPrevious,next:align&&isNext}}var previousText=paginationCtrl.getAttributeValue(attrs.previousText,config.previousText,!0),nextText=paginationCtrl.getAttributeValue(attrs.nextText,config.nextText,!0),align=paginationCtrl.getAttributeValue(attrs.align,config.align);paginationCtrl.init(config.itemsPerPage),paginationCtrl.getPages=function(currentPage){return[makePage(currentPage-1,previousText,paginationCtrl.noPrevious(),!0,!1),makePage(currentPage+1,nextText,paginationCtrl.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function($window,$compile,$timeout,$parse,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"tt_title"+endSym+'" content="'+startSym+"tt_content"+endSym+'" placement="'+startSym+"tt_placement"+endSym+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){scope.tt_isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){(!hasEnableExp||scope.$eval(attrs[prefix+"Enable"]))&&(scope.tt_popupDelay?(popupTimeout=$timeout(show,scope.tt_popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return scope.tt_content?(createTooltip(),transitionTimeout&&$timeout.cancel(transitionTimeout),tooltip.css({top:0,left:0,display:"block"}),appendToBody?$document.find("body").append(tooltip):element.after(tooltip),positionTooltip(),scope.tt_isOpen=!0,scope.$digest(),positionTooltip):angular.noop}function hide(){scope.tt_isOpen=!1,$timeout.cancel(popupTimeout),scope.tt_animation?transitionTimeout=$timeout(removeTooltip,500):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltip=tooltipLinker(scope,function(){}),scope.$digest()}function removeTooltip(){tooltip&&(tooltip.remove(),tooltip=null)}var tooltip,transitionTimeout,popupTimeout,appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:!1,triggers=getTriggers(void 0),hasRegisteredTriggers=!1,hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),positionTooltip=function(){var position,ttWidth,ttHeight,ttPosition;switch(position=appendToBody?$position.offset(element):$position.position(element),ttWidth=tooltip.prop("offsetWidth"),ttHeight=tooltip.prop("offsetHeight"),scope.tt_placement){case"right":ttPosition={top:position.top+position.height/2-ttHeight/2,left:position.left+position.width};break;case"bottom":ttPosition={top:position.top+position.height,left:position.left+position.width/2-ttWidth/2};break;case"left":ttPosition={top:position.top+position.height/2-ttHeight/2,left:position.left-ttWidth};break;default:ttPosition={top:position.top-ttHeight,left:position.left+position.width/2-ttWidth/2}}ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)
};scope.tt_isOpen=!1,attrs.$observe(type,function(val){scope.tt_content=val,!val&&scope.tt_isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){scope.tt_title=val}),attrs.$observe(prefix+"Placement",function(val){scope.tt_placement=angular.isDefined(val)?val:options.placement}),attrs.$observe(prefix+"PopupDelay",function(val){var delay=parseInt(val,10);scope.tt_popupDelay=isNaN(delay)?options.popupDelay:delay});var unregisterTriggers=function(){hasRegisteredTriggers&&(element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind))};attrs.$observe(prefix+"Trigger",function(val){unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind)),hasRegisteredTriggers=!0});var animation=scope.$eval(attrs[prefix+"Animation"]);scope.tt_animation=angular.isDefined(animation)?!!animation:options.animation,attrs.$observe(prefix+"AppendToBody",function(val){appendToBody=angular.isDefined(val)?$parse(val)(scope):appendToBody}),appendToBody&&scope.$on("$locationChangeSuccess",function(){scope.tt_isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function($scope,$attrs,progressConfig,$transition){var self=this,bars=[],max=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):progressConfig.max,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.addBar=function(bar,element){var oldValue=0,index=bar.$parent.$index;angular.isDefined(index)&&bars[index]&&(oldValue=bars[index].value),bars.push(bar),this.update(element,bar.value,oldValue),bar.$watch("value",function(value,oldValue){value!==oldValue&&self.update(element,value,oldValue)}),bar.$on("$destroy",function(){self.removeBar(bar)})},this.update=function(element,newValue,oldValue){var percent=this.getPercentage(newValue);animate?(element.css("width",this.getPercentage(oldValue)+"%"),$transition(element,{width:percent+"%"})):element.css({transition:"none",width:percent+"%"})},this.removeBar=function(bar){bars.splice(bars.indexOf(bar),1)},this.getPercentage=function(value){return Math.round(100*value/max)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function($scope,$attrs,$parse,ratingConfig){this.maxRange=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max,this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff,this.createRateObjects=function(states){for(var defaultOptions={stateOn:this.stateOn,stateOff:this.stateOff},i=0,n=states.length;n>i;i++)states[i]=angular.extend({index:i},defaultOptions,states[i]);return states},$scope.range=this.createRateObjects(angular.isDefined($attrs.ratingStates)?angular.copy($scope.$parent.$eval($attrs.ratingStates)):new Array(this.maxRange)),$scope.rate=function(value){$scope.value===value||$scope.readonly||($scope.value=value)},$scope.enter=function(value){$scope.readonly||($scope.val=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.val=angular.copy($scope.value),$scope.onLeave()},$scope.$watch("value",function(value){$scope.val=value}),$scope.readonly=!1,$attrs.readonly&&$scope.$parent.$watch($parse($attrs.readonly),function(value){$scope.readonly=!!value})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(tab){angular.forEach(tabs,function(tab){tab.active=!1}),tab.active=!0},ctrl.addTab=function(tab){tabs.push(tab),(1===tabs.length||tab.active)&&ctrl.select(tab)},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):!1,scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):!1,scope.type=angular.isDefined(attrs.type)?scope.$parent.$eval(attrs.type):"tabs"}}}).directive("tab",["$parse",function($parse){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){var getActive,setActive;attrs.active?(getActive=$parse(attrs.active),setActive=getActive.assign,scope.$parent.$watch(getActive,function(value,oldVal){value!==oldVal&&(scope.active=!!value)}),scope.active=getActive(scope.$parent)):setActive=getActive=angular.noop,scope.$watch("active",function(active){setActive(scope.$parent,active),active?(tabsetCtrl.select(scope),scope.onSelect()):scope.onDeselect()}),scope.disabled=!1,attrs.disabled&&scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value}),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function($parse,$log,timepickerConfig,$locale){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ngModel){function getHoursFromTemplate(){var hours=parseInt(scope.hours,10),valid=scope.showMeridian?hours>0&&13>hours:hours>=0&&24>hours;return valid?(scope.showMeridian&&(12===hours&&(hours=0),scope.meridian===meridians[1]&&(hours+=12)),hours):void 0}function getMinutesFromTemplate(){var minutes=parseInt(scope.minutes,10);return minutes>=0&&60>minutes?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value}function refresh(keyboardChange){makeValid(),ngModel.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModel.$setValidity("time",!0),scope.invalidHours=!1,scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),scope.hours="h"===keyboardChange?hours:pad(hours),scope.minutes="m"===keyboardChange?minutes:pad(minutes),scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}if(ngModel){var selected=new Date,meridians=angular.isDefined(attrs.meridians)?scope.$parent.$eval(attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,hourStep=timepickerConfig.hourStep;attrs.hourStep&&scope.$parent.$watch($parse(attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;attrs.minuteStep&&scope.$parent.$watch($parse(attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),scope.showMeridian=timepickerConfig.showMeridian,attrs.showMeridian&&scope.$parent.$watch($parse(attrs.showMeridian),function(value){if(scope.showMeridian=!!value,ngModel.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()});var inputs=element.find("input"),hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined(attrs.mousewheel)?scope.$eval(attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){scope.$apply(isScrollingUp(e)?scope.incrementHours():scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){scope.$apply(isScrollingUp(e)?scope.incrementMinutes():scope.decrementMinutes()),e.preventDefault()})}if(scope.readonlyInput=angular.isDefined(attrs.readonlyInput)?scope.$eval(attrs.readonlyInput):timepickerConfig.readonlyInput,scope.readonlyInput)scope.updateHours=angular.noop,scope.updateMinutes=angular.noop;else{var invalidate=function(invalidHours,invalidMinutes){ngModel.$setViewValue(null),ngModel.$setValidity("time",!1),angular.isDefined(invalidHours)&&(scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&(scope.invalidMinutes=invalidMinutes)};scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(){!scope.validHours&&scope.hours<10&&scope.$apply(function(){scope.hours=pad(scope.hours)})}),scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(){!scope.invalidMinutes&&scope.minutes<10&&scope.$apply(function(){scope.minutes=pad(scope.minutes)})})}ngModel.$render=function(){var date=ngModel.$modelValue?new Date(ngModel.$modelValue):null;isNaN(date)?(ngModel.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},scope.incrementHours=function(){addMinutes(60*hourStep)},scope.decrementHours=function(){addMinutes(60*-hourStep)},scope.incrementMinutes=function(){addMinutes(minuteStep)},scope.decrementMinutes=function(){addMinutes(-minuteStep)},scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+input+"'.");return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var hasFocus,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=attrs.typeaheadAppendToBody?$parse(attrs.typeaheadAppendToBody):!1,$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var resetMatches=function(){scope.matches=[],scope.activeIdx=-1},getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){if(inputValue===modelCtrl.$viewValue&&hasFocus){if(matches.length>0){scope.activeIdx=0,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight")}else resetMatches();isLoadingSetter(originalScope,!1)}},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0;var timeoutPromise;modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,inputValue&&inputValue.length>=minSearch?waitTime>0?(timeoutPromise&&$timeout.cancel(timeoutPromise),timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),element[0].focus()},element.bind("keydown",function(evt){0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),element.bind("blur",function(){hasFocus=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&(resetMatches(),scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler)});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function($http,$templateCache,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$http.get(tplUrl,{cache:$templateCache}).success(function(tplContent){element.replaceWith($compile(tplContent.trim())(scope))})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n	<li ng-transclude></li>\n"+'	<li ng-show="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n			<button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n	</li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),function(context){function Lazy(source){if(source instanceof Array)return new ArrayWrapper(source);if("string"==typeof source)return new StringWrapper(source);if(source instanceof Sequence)return source;if(Lazy.extensions){for(var result,extensions=Lazy.extensions,length=extensions.length;!result&&length--;)result=extensions[length](source);if(result)return result}return new ObjectWrapper(source)}function Sequence(){}function Iterator(sequence){this.sequence=sequence,this.index=-1}function MemoizedSequence(parent){this.parent=parent}function MappedSequence(parent,mapFn){this.parent=parent,this.mapFn=mapFn}function MappingIterator(sequence,mapFn){this.iterator=sequence.getIterator(),this.mapFn=mapFn,this.index=-1}function FilteredSequence(parent,filterFn){this.parent=parent,this.filterFn=filterFn}function FilteringIterator(sequence,filterFn){this.iterator=sequence.getIterator(),this.filterFn=filterFn,this.index=0
}function ReversedSequence(parent){this.parent=parent}function ReversedIterator(sequence){this.sequence=sequence}function ConcatenatedSequence(parent,arrays){this.parent=parent,this.arrays=arrays}function TakeSequence(parent,count){this.parent=parent,this.count=count}function TakeIterator(sequence,count){this.iterator=sequence.getIterator(),this.count=count}function TakeWhileSequence(parent,predicate){this.parent=parent,this.predicate=predicate}function DropSequence(parent,count){this.parent=parent,this.count="number"==typeof count?count:1}function DropWhileSequence(parent,predicate){this.parent=parent,this.predicate=predicate}function SortedSequence(parent,sortFn){this.parent=parent,this.sortFn=sortFn}function GroupedSequence(parent,keyFn){this.parent=parent,this.keyFn=keyFn}function IndexedSequence(parent,keyFn){this.parent=parent,this.keyFn=keyFn}function CountedSequence(parent,keyFn){this.parent=parent,this.keyFn=keyFn}function UniqueSequence(parent,keyFn){this.parent=parent,this.keyFn=keyFn}function ZippedSequence(parent,arrays){this.parent=parent,this.arrays=arrays}function ShuffledSequence(parent){this.parent=parent}function FlattenedSequence(parent){this.parent=parent}function WithoutSequence(parent,values){this.parent=parent,this.values=values}function IntersectionSequence(parent,arrays){this.parent=parent,this.arrays=arrays}function UniqueMemoizer(iterator){this.iterator=iterator,this.set=new Set,this.memo=[],this.currentValue=void 0}function ChunkedSequence(parent,size){this.parent=parent,this.chunkSize=size}function ChunkedIterator(sequence,size){this.iterator=sequence.getIterator(),this.size=size}function TappedSequence(parent,callback){this.parent=parent,this.callback=callback}function SimpleIntersectionSequence(parent,array){this.parent=parent,this.array=array,this.each=getEachForIntersection(array)}function getEachForIntersection(source){return source.length<40?SimpleIntersectionSequence.prototype.eachArrayCache:SimpleIntersectionSequence.prototype.eachMemoizerCache}function SimpleZippedSequence(parent,array){this.parent=parent,this.array=array}function ArrayLikeSequence(){}function IndexedIterator(sequence){this.sequence=sequence,this.index=-1}function IndexedMappedSequence(parent,mapFn){this.parent=parent,this.mapFn=mapFn}function IndexedFilteredSequence(parent,filterFn){this.parent=parent,this.filterFn=filterFn}function IndexedReversedSequence(parent){this.parent=parent}function IndexedTakeSequence(parent,count){this.parent=parent,this.count=count}function IndexedDropSequence(parent,count){this.parent=parent,this.count="number"==typeof count?count:1}function IndexedConcatenatedSequence(parent,other){this.parent=parent,this.other=other}function IndexedUniqueSequence(parent,keyFn){this.parent=parent,this.each=getEachForParent(parent),this.keyFn=keyFn}function getEachForParent(parent){return parent.length()<100?IndexedUniqueSequence.prototype.eachArrayCache:UniqueSequence.prototype.each}function ArrayWrapper(source){this.source=source}function MappedArrayWrapper(parent,mapFn){this.parent=parent,this.mapFn=mapFn}function FilteredArrayWrapper(parent,filterFn){this.parent=parent,this.filterFn=filterFn}function UniqueArrayWrapper(parent,keyFn){this.parent=parent,this.each=getEachForSource(parent.source),this.keyFn=keyFn}function getEachForSource(source){return source.length<40?UniqueArrayWrapper.prototype.eachNoCache:source.length<100?UniqueArrayWrapper.prototype.eachArrayCache:UniqueArrayWrapper.prototype.eachSetCache}function ConcatArrayWrapper(parent,other){this.parent=parent,this.other=other}function ObjectLikeSequence(){}function AssignSequence(parent,other){this.parent=parent,this.other=other}function DefaultsSequence(parent,defaults){this.parent=parent,this.defaults=defaults}function InvertedSequence(parent){this.parent=parent}function MergedSequence(parent,others,mergeFn){this.parent=parent,this.others=others,this.mergeFn=mergeFn}function mergeObjects(a,b){if("undefined"==typeof b)return a;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return b;var prop,merged={};for(prop in a)merged[prop]=mergeObjects(a[prop],b[prop]);for(prop in b)merged[prop]||(merged[prop]=b[prop]);return merged}function PickSequence(parent,properties){this.parent=parent,this.properties=properties}function OmitSequence(parent,properties){this.parent=parent,this.properties=properties}function ObjectWrapper(source){this.source=source}function StringLikeSequence(){}function CharIterator(source){this.source=Lazy(source),this.index=-1}function StringSegment(parent,start,stop){this.parent=parent,this.start=Math.max(0,start),this.stop=stop}function MappedStringLikeSequence(parent,mapFn){this.parent=parent,this.mapFn=mapFn}function ReversedStringLikeSequence(parent){this.parent=parent}function StringMatchSequence(source,pattern){this.source=source,this.pattern=pattern}function StringMatchIterator(source,pattern){this.source=source,this.pattern=cloneRegex(pattern)}function SplitStringSequence(source,pattern){this.source=source,this.pattern=pattern}function SplitWithRegExpIterator(source,pattern){this.source=source,this.pattern=cloneRegex(pattern)}function SplitWithStringIterator(source,delimiter){this.source=source,this.delimiter=delimiter}function StringWrapper(source){this.source=source}function GeneratedSequence(generatorFn,length){this.get=generatorFn,this.fixedLength=length}function GeneratedIterator(sequence){this.sequence=sequence,this.index=0,this.currentValue=null}function AsyncSequence(parent,interval){if(parent instanceof AsyncSequence)throw new Error("Sequence is already asynchronous!");this.parent=parent,this.interval=interval,this.onNextCallback=getOnNextCallback(interval),this.cancelCallback=getCancelCallback(interval)}function AsyncHandle(cancelFn){this.resolveListeners=[],this.rejectListeners=[],this.state=PENDING,this.cancelFn=cancelFn}function resolve(promise,x){if(promise===x)return void promise._reject(new TypeError("Cannot resolve a promise to itself"));if(x instanceof AsyncHandle)return void x.then(function(value){resolve(promise,value)},function(reason){promise._reject(reason)});var then;try{then=/function|object/.test(typeof x)&&null!=x&&x.then}catch(e){return void promise._reject(e)}var thenableState=PENDING;if("function"!=typeof then)promise._resolve(x);else try{then.call(x,function(value){thenableState===PENDING&&(thenableState=RESOLVED,resolve(promise,value))},function(reason){thenableState===PENDING&&(thenableState=REJECTED,promise._reject(reason))})}catch(e){if(thenableState!==PENDING)return;promise._reject(e)}}function consumeListeners(listeners,value,callback){callback||(callback=getOnNextCallback()),callback(function(){listeners.length>0&&(listeners.shift()(value),consumeListeners(listeners,value,callback))})}function getOnNextCallback(interval){return"undefined"==typeof interval&&"function"==typeof setImmediate?setImmediate:(interval=interval||0,function(fn){return setTimeout(fn,interval)})}function getCancelCallback(interval){return"undefined"==typeof interval&&"function"==typeof clearImmediate?clearImmediate:clearTimeout}function transform(fn,value){return value instanceof AsyncHandle?value.then(function(){fn(value)}):fn(value)}function WatchedPropertySequence(object,propertyNames){this.listeners=[],propertyNames?propertyNames instanceof Array||(propertyNames=[propertyNames]):propertyNames=Lazy(object).keys().toArray();var listeners=this.listeners,index=0;Lazy(propertyNames).each(function(propertyName){var propertyValue=object[propertyName];Object.defineProperty(object,propertyName,{get:function(){return propertyValue},set:function(value){for(var i=listeners.length-1;i>=0;--i)listeners[i]({property:propertyName,value:value},index)===!1&&listeners.splice(i,1);propertyValue=value,++index}})})}function StreamLikeSequence(){}function SplitStreamSequence(parent,delimiter){this.parent=parent,this.delimiter=delimiter,this.each=this.getEachForDelimiter(delimiter)}function MatchedStreamSequence(parent,pattern){this.parent=parent,this.pattern=cloneRegex(pattern)}function createCallback(callback,defaultValue){switch(typeof callback){case"function":return callback;case"string":return function(e){return e[callback]};case"object":return function(e){return Lazy(callback).all(function(value,key){return e[key]===value})};case"undefined":return defaultValue?function(){return defaultValue}:Lazy.identity;default:throw new Error("Don't know how to make a callback from a "+typeof callback+"!")}}function createComparator(callback){return callback?(callback=createCallback(callback),function(x,y){return compare(callback(x),callback(y))}):compare}function reverseArguments(fn){return function(x,y){return fn(y,x)}}function createSet(values){var set=new Set;return Lazy(values||[]).flatten().each(function(e){set.add(e)}),set}function compare(x,y){return x===y?0:x>y?1:-1}function forEach(array,fn){for(var i=-1,len=array.length;++i<len;)if(fn(array[i],i)===!1)return!1;return!0}function getFirst(sequence){var result;return sequence.each(function(e){return result=e,!1}),result}function arrayContains(array,element){var i=-1,length=array.length;if(element!==element){for(;++i<length;)if(array[i]!==array[i])return!0;return!1}for(;++i<length;)if(array[i]===element)return!0;return!1}function arrayContainsBefore(array,element,index,keyFn){var i=-1;if(keyFn){for(keyFn=createCallback(keyFn);++i<index;)if(keyFn(array[i])===keyFn(element))return!0}else for(;++i<index;)if(array[i]===element)return!0;return!1}function swap(array,i,j){var temp=array[i];array[i]=array[j],array[j]=temp}function cloneRegex(pattern){return eval(""+pattern+(pattern.global?"":"g"))}function Set(){this.table={},this.objects=[]}function Queue(capacity){this.contents=new Array(capacity),this.start=0,this.count=0}function defineSequenceType(base,name,overrides){var ctor=function(){};ctor.prototype=new base;for(var override in overrides)ctor.prototype[override]=overrides[override];for(var factory=function(){var sequence=new ctor;return sequence.parent=this,sequence.init&&sequence.init.apply(sequence,arguments),sequence},methodNames="string"==typeof name?[name]:name,i=0;i<methodNames.length;++i)base.prototype[methodNames[i]]=factory;return ctor}Lazy.VERSION="0.3.2",Lazy.noop=function(){},Lazy.identity=function(x){return x},Lazy.strict=function(){function StrictLazy(source){if(null==source)throw new Error("You cannot wrap null or undefined using Lazy.");if("number"==typeof source||"boolean"==typeof source)throw new Error("You cannot wrap primitive values using Lazy.");return Lazy(source)}return Lazy(Lazy).each(function(property,name){StrictLazy[name]=property}),StrictLazy},Sequence.define=function(methodName,overrides){if(!overrides||!overrides.getIterator&&!overrides.each)throw new Error("A custom sequence must implement *at least* getIterator or each!");return defineSequenceType(Sequence,methodName,overrides)},Sequence.prototype.size=function(){return this.getIndex().length()},Sequence.prototype.getIterator=function(){return new Iterator(this)},Sequence.prototype.root=function(){return this.parent.root()},Sequence.prototype.isAsync=function(){return this.parent?this.parent.isAsync():!1},Sequence.prototype.value=function(){return this.toArray()},Sequence.prototype.apply=function(source){var result,root=this.root(),previousSource=root.source;try{root.source=source,result=this.value()}finally{root.source=previousSource}return result},Iterator.prototype.current=function(){return this.cachedIndex&&this.cachedIndex.get(this.index)},Iterator.prototype.moveNext=function(){var cachedIndex=this.cachedIndex;return cachedIndex||(cachedIndex=this.cachedIndex=this.sequence.getIndex()),this.index>=cachedIndex.length()-1?!1:(++this.index,!0)},Sequence.prototype.toArray=function(){return this.reduce(function(arr,element){return arr.push(element),arr},[])},Sequence.prototype.getIndex=function(){return this.cachedIndex||(this.cachedIndex=new ArrayWrapper(this.toArray())),this.cachedIndex},Sequence.prototype.memoize=function(){return new MemoizedSequence(this)},Sequence.prototype.toObject=function(){return this.reduce(function(object,pair){return object[pair[0]]=pair[1],object},{})},Sequence.prototype.each=function(fn){for(var iterator=this.getIterator(),i=-1;iterator.moveNext();)if(fn(iterator.current(),++i)===!1)return!1;return!0},Sequence.prototype.forEach=function(fn){return this.each(fn)},Sequence.prototype.map=function(mapFn){return new MappedSequence(this,createCallback(mapFn))},Sequence.prototype.collect=function(mapFn){return this.map(mapFn)},MappedSequence.prototype=new Sequence,MappedSequence.prototype.getIterator=function(){return new MappingIterator(this.parent,this.mapFn)},MappedSequence.prototype.each=function(fn){var mapFn=this.mapFn;return this.parent.each(function(e,i){return fn(mapFn(e,i),i)})},MappingIterator.prototype.current=function(){return this.mapFn(this.iterator.current(),this.index)},MappingIterator.prototype.moveNext=function(){return this.iterator.moveNext()?(++this.index,!0):!1},Sequence.prototype.pluck=function(property){return this.map(property)},Sequence.prototype.invoke=function(methodName){return this.map(function(e){return e[methodName]()})},Sequence.prototype.filter=function(filterFn){return new FilteredSequence(this,createCallback(filterFn))},Sequence.prototype.select=function(filterFn){return this.filter(filterFn)},FilteredSequence.prototype=new Sequence,FilteredSequence.prototype.getIterator=function(){return new FilteringIterator(this.parent,this.filterFn)},FilteredSequence.prototype.each=function(fn){var filterFn=this.filterFn;if(this.parent instanceof ObjectLikeSequence)return this.parent.each(function(v,k){return filterFn(v,k)?fn(v,k):void 0});var j=0;return this.parent.each(function(e,i){return filterFn(e,i)?fn(e,j++):void 0})},FilteredSequence.prototype.reverse=function(){return this.parent.reverse().filter(this.filterFn)},FilteringIterator.prototype.current=function(){return this.value},FilteringIterator.prototype.moveNext=function(){for(var value,iterator=this.iterator,filterFn=this.filterFn;iterator.moveNext();)if(value=iterator.current(),filterFn(value,this.index++))return this.value=value,!0;return this.value=void 0,!1},Sequence.prototype.reject=function(rejectFn){return rejectFn=createCallback(rejectFn),this.filter(function(e){return!rejectFn(e)})},Sequence.prototype.ofType=function(type){return this.filter(function(e){return typeof e===type})},Sequence.prototype.where=function(properties){return this.filter(properties)},Sequence.prototype.reverse=function(){return new ReversedSequence(this)},ReversedSequence.prototype=new Sequence,ReversedSequence.prototype.getIterator=function(){return new ReversedIterator(this.parent)},ReversedIterator.prototype.current=function(){return this.sequence.getIndex().get(this.index)},ReversedIterator.prototype.moveNext=function(){var indexed=this.sequence.getIndex(),length=indexed.length();return"undefined"==typeof this.index&&(this.index=length),--this.index>=0},Sequence.prototype.concat=function(){return new ConcatenatedSequence(this,arraySlice.call(arguments,0))},ConcatenatedSequence.prototype=new Sequence,ConcatenatedSequence.prototype.each=function(fn){var done=!1,i=0;this.parent.each(function(e){return fn(e,i++)===!1?(done=!0,!1):void 0}),done||Lazy(this.arrays).flatten().each(function(e){return fn(e,i++)===!1?!1:void 0})},Sequence.prototype.first=function(count){return"undefined"==typeof count?getFirst(this):new TakeSequence(this,count)},Sequence.prototype.head=Sequence.prototype.take=function(count){return this.first(count)},TakeSequence.prototype=new Sequence,TakeSequence.prototype.getIterator=function(){return new TakeIterator(this.parent,this.count)},TakeSequence.prototype.each=function(fn){var count=this.count,i=0,handle=this.parent.each(function(e){var result;return count>i&&(result=fn(e,i++)),i>=count?!1:result});return handle instanceof AsyncHandle?handle:i===count},TakeIterator.prototype.current=function(){return this.iterator.current()},TakeIterator.prototype.moveNext=function(){return--this.count>=0&&this.iterator.moveNext()},Sequence.prototype.takeWhile=function(predicate){return new TakeWhileSequence(this,predicate)},TakeWhileSequence.prototype=new Sequence,TakeWhileSequence.prototype.each=function(fn){var predicate=this.predicate,finished=!1,j=0,result=this.parent.each(function(e,i){return predicate(e,i)?fn(e,j++):(finished=!0,!1)});return result instanceof AsyncHandle?result:finished},Sequence.prototype.initial=function(count){return"undefined"==typeof count&&(count=1),this.take(this.getIndex().length()-count)},Sequence.prototype.last=function(count){return"undefined"==typeof count?this.reverse().first():this.reverse().take(count).reverse()},Sequence.prototype.findWhere=function(properties){return this.where(properties).first()},Sequence.prototype.rest=function(count){return new DropSequence(this,count)},Sequence.prototype.skip=Sequence.prototype.tail=Sequence.prototype.drop=function(count){return this.rest(count)},DropSequence.prototype=new Sequence,DropSequence.prototype.each=function(fn){var count=this.count,dropped=0,i=0;return this.parent.each(function(e){return dropped++<count?void 0:fn(e,i++)})},Sequence.prototype.dropWhile=function(predicate){return new DropWhileSequence(this,predicate)},Sequence.prototype.skipWhile=function(predicate){return this.dropWhile(predicate)},DropWhileSequence.prototype=new Sequence,DropWhileSequence.prototype.each=function(fn){var predicate=this.predicate,done=!1;return this.parent.each(function(e){if(!done){if(predicate(e))return;done=!0}return fn(e)})},Sequence.prototype.sort=function(sortFn,descending){return sortFn||(sortFn=compare),descending&&(sortFn=reverseArguments(sortFn)),new SortedSequence(this,sortFn)},Sequence.prototype.sortBy=function(sortFn,descending){return sortFn=createComparator(sortFn),descending&&(sortFn=reverseArguments(sortFn)),new SortedSequence(this,sortFn)},SortedSequence.prototype=new Sequence,SortedSequence.prototype.each=function(fn){var sortFn=this.sortFn,result=this.parent.toArray();return result.sort(sortFn),forEach(result,fn)},SortedSequence.prototype.reverse=function(){return new SortedSequence(this.parent,reverseArguments(this.sortFn))},Sequence.prototype.groupBy=function(keyFn){return new GroupedSequence(this,keyFn)},Sequence.prototype.indexBy=function(keyFn){return new IndexedSequence(this,keyFn)},Sequence.prototype.countBy=function(keyFn){return new CountedSequence(this,keyFn)},Sequence.prototype.uniq=function(keyFn){return new UniqueSequence(this,keyFn)},Sequence.prototype.unique=function(keyFn){return this.uniq(keyFn)},UniqueSequence.prototype=new Sequence,UniqueSequence.prototype.each=function(fn){var cache=new Set,keyFn=this.keyFn,i=0;return keyFn?(keyFn=createCallback(keyFn),this.parent.each(function(e){return cache.add(keyFn(e))?fn(e,i++):void 0})):this.parent.each(function(e){return cache.add(e)?fn(e,i++):void 0})},Sequence.prototype.zip=function(var_args){return 1===arguments.length?new SimpleZippedSequence(this,var_args):new ZippedSequence(this,arraySlice.call(arguments,0))},ZippedSequence.prototype=new Sequence,ZippedSequence.prototype.each=function(fn){var arrays=this.arrays,i=0;this.parent.each(function(e){for(var group=[e],j=0;j<arrays.length;++j)arrays[j].length>i&&group.push(arrays[j][i]);return fn(group,i++)})},Sequence.prototype.shuffle=function(){return new ShuffledSequence(this)},ShuffledSequence.prototype=new Sequence,ShuffledSequence.prototype.each=function(fn){for(var shuffled=this.parent.toArray(),floor=Math.floor,random=Math.random,j=0,i=shuffled.length-1;i>0;--i)if(swap(shuffled,i,floor(random()*i)+1),fn(shuffled[i],j++)===!1)return;fn(shuffled[0],j)},Sequence.prototype.flatten=function(){return new FlattenedSequence(this)},FlattenedSequence.prototype=new Sequence,FlattenedSequence.prototype.each=function(fn){var index=0;return this.parent.each(function recurseVisitor(e){return e instanceof Array?forEach(e,recurseVisitor):e instanceof Sequence?e.each(recurseVisitor):fn(e,index++)})},Sequence.prototype.compact=function(){return this.filter(function(e){return!!e})},Sequence.prototype.without=function(){return new WithoutSequence(this,arraySlice.call(arguments,0))},Sequence.prototype.difference=function(){return this.without.apply(this,arguments)},WithoutSequence.prototype=new Sequence,WithoutSequence.prototype.each=function(fn){var set=createSet(this.values),i=0;return this.parent.each(function(e){return set.contains(e)?void 0:fn(e,i++)})},Sequence.prototype.union=function(var_args){return this.concat(var_args).uniq()},Sequence.prototype.intersection=function(var_args){return 1===arguments.length&&arguments[0]instanceof Array?new SimpleIntersectionSequence(this,var_args):new IntersectionSequence(this,arraySlice.call(arguments,0))},IntersectionSequence.prototype=new Sequence,IntersectionSequence.prototype.each=function(fn){var sets=Lazy(this.arrays).map(function(values){return new UniqueMemoizer(Lazy(values).getIterator())}),setIterator=new UniqueMemoizer(sets.getIterator()),i=0;return this.parent.each(function(e){var includedInAll=!0;return setIterator.each(function(set){return set.contains(e)?void 0:(includedInAll=!1,!1)}),includedInAll?fn(e,i++):void 0})},UniqueMemoizer.prototype.current=function(){return this.currentValue},UniqueMemoizer.prototype.moveNext=function(){for(var current,iterator=this.iterator,set=this.set,memo=this.memo;iterator.moveNext();)if(current=iterator.current(),set.add(current))return memo.push(current),this.currentValue=current,!0;return!1},UniqueMemoizer.prototype.each=function(fn){for(var memo=this.memo,length=memo.length,i=-1;++i<length;)if(fn(memo[i],i)===!1)return!1;for(;this.moveNext()&&fn(this.currentValue,i++)!==!1;);},UniqueMemoizer.prototype.contains=function(e){if(this.set.contains(e))return!0;for(;this.moveNext();)if(this.currentValue===e)return!0;return!1},Sequence.prototype.every=function(predicate){return predicate=createCallback(predicate),this.each(function(e,i){return!!predicate(e,i)})},Sequence.prototype.all=function(predicate){return this.every(predicate)},Sequence.prototype.some=function(predicate){predicate=createCallback(predicate,!0);var success=!1;return this.each(function(e){return predicate(e)?(success=!0,!1):void 0}),success},Sequence.prototype.any=function(predicate){return this.some(predicate)},Sequence.prototype.none=function(predicate){return!this.any(predicate)},Sequence.prototype.isEmpty=function(){return!this.any()},Sequence.prototype.indexOf=function(value){var foundIndex=-1;return this.each(function(e,i){return e===value?(foundIndex=i,!1):void 0}),foundIndex},Sequence.prototype.lastIndexOf=function(value){var index=this.reverse().indexOf(value);return-1!==index&&(index=this.getIndex().length()-index-1),index},Sequence.prototype.sortedIndex=function(value){for(var i,indexed=this.getIndex(),lower=0,upper=indexed.length();upper>lower;)i=lower+upper>>>1,-1===compare(indexed.get(i),value)?lower=i+1:upper=i;return lower},Sequence.prototype.contains=function(value){return-1!==this.indexOf(value)},Sequence.prototype.reduce=function(aggregator,memo){if(arguments.length<2)return this.tail().reduce(aggregator,this.head());var eachResult=this.each(function(e,i){memo=aggregator(memo,e,i)});return eachResult instanceof AsyncHandle?eachResult.then(function(){return memo}):memo},Sequence.prototype.inject=Sequence.prototype.foldl=function(aggregator,memo){return this.reduce(aggregator,memo)},Sequence.prototype.reduceRight=function(aggregator,memo){if(arguments.length<2)return this.initial(1).reduceRight(aggregator,this.last());var i=this.getIndex().length()-1;return this.reverse().reduce(function(m,e){return aggregator(m,e,i--)},memo)},Sequence.prototype.foldr=function(aggregator,memo){return this.reduceRight(aggregator,memo)},Sequence.prototype.consecutive=function(count){var queue=new Queue(count),segments=this.map(function(element){return queue.add(element).count===count?queue.toArray():void 0});return segments.compact()},Sequence.prototype.chunk=function(size){if(1>size)throw new Error("You must specify a positive chunk size.");return new ChunkedSequence(this,size)},ChunkedSequence.prototype=new Sequence,ChunkedSequence.prototype.getIterator=function(){return new ChunkedIterator(this.parent,this.chunkSize)},ChunkedIterator.prototype.current=function(){return this.currentChunk},ChunkedIterator.prototype.moveNext=function(){for(var iterator=this.iterator,chunkSize=this.size,chunk=[];chunk.length<chunkSize&&iterator.moveNext();)chunk.push(iterator.current());return 0===chunk.length?!1:(this.currentChunk=chunk,!0)},Sequence.prototype.tap=function(callback){return new TappedSequence(this,callback)},TappedSequence.prototype=new Sequence,TappedSequence.prototype.each=function(fn){var callback=this.callback;return this.parent.each(function(e,i){return callback(e,i),fn(e,i)})},Sequence.prototype.find=function(predicate){return this.filter(predicate).first()},Sequence.prototype.detect=function(predicate){return this.find(predicate)},Sequence.prototype.min=function(valueFn){return"undefined"!=typeof valueFn?this.minBy(valueFn):this.reduce(function(x,y){return x>y?y:x},1/0)},Sequence.prototype.minBy=function(valueFn){return valueFn=createCallback(valueFn),this.reduce(function(x,y){return valueFn(y)<valueFn(x)?y:x})},Sequence.prototype.max=function(valueFn){return"undefined"!=typeof valueFn?this.maxBy(valueFn):this.reduce(function(x,y){return y>x?y:x},-1/0)},Sequence.prototype.maxBy=function(valueFn){return valueFn=createCallback(valueFn),this.reduce(function(x,y){return valueFn(y)>valueFn(x)?y:x})},Sequence.prototype.sum=function(valueFn){return"undefined"!=typeof valueFn?this.sumBy(valueFn):this.reduce(function(x,y){return x+y},0)},Sequence.prototype.sumBy=function(valueFn){return valueFn=createCallback(valueFn),this.reduce(function(x,y){return x+valueFn(y)},0)},Sequence.prototype.join=function(delimiter){return delimiter="string"==typeof delimiter?delimiter:",",this.reduce(function(str,e){return str.length>0&&(str+=delimiter),str+e},"")},Sequence.prototype.toString=function(delimiter){return this.join(delimiter)},Sequence.prototype.async=function(interval){return new AsyncSequence(this,interval)},SimpleIntersectionSequence.prototype=new Sequence,SimpleIntersectionSequence.prototype.eachMemoizerCache=function(fn){var iterator=new UniqueMemoizer(Lazy(this.array).getIterator()),i=0;return this.parent.each(function(e){return iterator.contains(e)?fn(e,i++):void 0})},SimpleIntersectionSequence.prototype.eachArrayCache=function(fn){var array=this.array,find=arrayContains,i=0;return this.parent.each(function(e){return find(array,e)?fn(e,i++):void 0})},SimpleZippedSequence.prototype=new Sequence,SimpleZippedSequence.prototype.each=function(fn){var array=this.array;return this.parent.each(function(e,i){return fn([e,array[i]],i)})},ArrayLikeSequence.prototype=new Sequence,ArrayLikeSequence.define=function(methodName,overrides){if(!overrides||"function"!=typeof overrides.get)throw new Error("A custom array-like sequence must implement *at least* get!");return defineSequenceType(ArrayLikeSequence,methodName,overrides)},ArrayLikeSequence.prototype.get=function(i){return this.parent.get(i)},ArrayLikeSequence.prototype.length=function(){return this.parent.length()},ArrayLikeSequence.prototype.getIndex=function(){return this},ArrayLikeSequence.prototype.getIterator=function(){return new IndexedIterator(this)},IndexedIterator.prototype.current=function(){return this.sequence.get(this.index)},IndexedIterator.prototype.moveNext=function(){return this.index>=this.sequence.length()-1?!1:(++this.index,!0)},ArrayLikeSequence.prototype.each=function(fn){for(var length=this.length(),i=-1;++i<length;)if(fn(this.get(i),i)===!1)return!1;return!0},ArrayLikeSequence.prototype.pop=function(){return this.initial()},ArrayLikeSequence.prototype.shift=function(){return this.drop()},ArrayLikeSequence.prototype.slice=function(begin,end){var length=this.length();0>begin&&(begin=length+begin);var result=this.drop(begin);return"number"==typeof end&&(0>end&&(end=length+end),result=result.take(end-begin)),result},ArrayLikeSequence.prototype.map=function(mapFn){return new IndexedMappedSequence(this,createCallback(mapFn))},IndexedMappedSequence.prototype=new ArrayLikeSequence,IndexedMappedSequence.prototype.get=function(i){return 0>i||i>=this.parent.length()?void 0:this.mapFn(this.parent.get(i),i)},ArrayLikeSequence.prototype.filter=function(filterFn){return new IndexedFilteredSequence(this,createCallback(filterFn))},IndexedFilteredSequence.prototype=new FilteredSequence,IndexedFilteredSequence.prototype.each=function(fn){for(var e,parent=this.parent,filterFn=this.filterFn,length=this.parent.length(),i=-1,j=0;++i<length;)if(e=parent.get(i),filterFn(e,i)&&fn(e,j++)===!1)return!1;return!0},ArrayLikeSequence.prototype.reverse=function(){return new IndexedReversedSequence(this)},IndexedReversedSequence.prototype=new ArrayLikeSequence,IndexedReversedSequence.prototype.get=function(i){return this.parent.get(this.length()-i-1)},ArrayLikeSequence.prototype.first=function(count){return"undefined"==typeof count?this.get(0):new IndexedTakeSequence(this,count)},IndexedTakeSequence.prototype=new ArrayLikeSequence,IndexedTakeSequence.prototype.length=function(){var parentLength=this.parent.length();return this.count<=parentLength?this.count:parentLength},ArrayLikeSequence.prototype.rest=function(count){return new IndexedDropSequence(this,count)},IndexedDropSequence.prototype=new ArrayLikeSequence,IndexedDropSequence.prototype.get=function(i){return this.parent.get(this.count+i)},IndexedDropSequence.prototype.length=function(){var parentLength=this.parent.length();return this.count<=parentLength?parentLength-this.count:0},ArrayLikeSequence.prototype.concat=function(var_args){return 1===arguments.length&&arguments[0]instanceof Array?new IndexedConcatenatedSequence(this,var_args):Sequence.prototype.concat.apply(this,arguments)},IndexedConcatenatedSequence.prototype=new ArrayLikeSequence,IndexedConcatenatedSequence.prototype.get=function(i){var parentLength=this.parent.length();return parentLength>i?this.parent.get(i):this.other[i-parentLength]},IndexedConcatenatedSequence.prototype.length=function(){return this.parent.length()+this.other.length},ArrayLikeSequence.prototype.uniq=function(keyFn){return new IndexedUniqueSequence(this,createCallback(keyFn))},IndexedUniqueSequence.prototype=new Sequence,IndexedUniqueSequence.prototype.eachArrayCache=function(fn){for(var key,value,parent=this.parent,keyFn=this.keyFn,length=parent.length(),cache=[],find=arrayContains,i=-1,j=0;++i<length;)if(value=parent.get(i),key=keyFn(value),!find(cache,key)&&(cache.push(key),fn(value,j++)===!1))return!1},IndexedUniqueSequence.prototype.eachSetCache=UniqueSequence.prototype.each,MemoizedSequence.prototype=new ArrayLikeSequence,MemoizedSequence.prototype.cache=function(){return this.cachedResult||(this.cachedResult=this.parent.toArray())},MemoizedSequence.prototype.get=function(i){return this.cache()[i]},MemoizedSequence.prototype.length=function(){return this.cache().length},MemoizedSequence.prototype.slice=function(begin,end){return this.cache().slice(begin,end)},MemoizedSequence.prototype.toArray=function(){return this.cache().slice(0)},ArrayWrapper.prototype=new ArrayLikeSequence,ArrayWrapper.prototype.root=function(){return this},ArrayWrapper.prototype.isAsync=function(){return!1},ArrayWrapper.prototype.get=function(i){return this.source[i]},ArrayWrapper.prototype.length=function(){return this.source.length},ArrayWrapper.prototype.each=function(fn){return forEach(this.source,fn)},ArrayWrapper.prototype.map=function(mapFn){return new MappedArrayWrapper(this,createCallback(mapFn))},ArrayWrapper.prototype.filter=function(filterFn){return new FilteredArrayWrapper(this,createCallback(filterFn))},ArrayWrapper.prototype.uniq=function(keyFn){return new UniqueArrayWrapper(this,keyFn)},ArrayWrapper.prototype.concat=function(var_args){return 1===arguments.length&&arguments[0]instanceof Array?new ConcatArrayWrapper(this,var_args):ArrayLikeSequence.prototype.concat.apply(this,arguments)
},ArrayWrapper.prototype.toArray=function(){return this.source.slice(0)},MappedArrayWrapper.prototype=new ArrayLikeSequence,MappedArrayWrapper.prototype.get=function(i){var source=this.parent.source;return 0>i||i>=source.length?void 0:this.mapFn(source[i])},MappedArrayWrapper.prototype.length=function(){return this.parent.source.length},MappedArrayWrapper.prototype.each=function(fn){for(var source=this.parent.source,length=source.length,mapFn=this.mapFn,i=-1;++i<length;)if(fn(mapFn(source[i],i),i)===!1)return!1;return!0},FilteredArrayWrapper.prototype=new FilteredSequence,FilteredArrayWrapper.prototype.each=function(fn){for(var e,source=this.parent.source,filterFn=this.filterFn,length=source.length,i=-1,j=0;++i<length;)if(e=source[i],filterFn(e,i)&&fn(e,j++)===!1)return!1;return!0},UniqueArrayWrapper.prototype=new Sequence,UniqueArrayWrapper.prototype.eachNoCache=function(fn){for(var value,source=this.parent.source,keyFn=this.keyFn,length=source.length,find=arrayContainsBefore,i=-1,k=0;++i<length;)if(value=source[i],!find(source,value,i,keyFn)&&fn(value,k++)===!1)return!1;return!0},UniqueArrayWrapper.prototype.eachArrayCache=function(fn){var key,value,source=this.parent.source,keyFn=this.keyFn,length=source.length,cache=[],find=arrayContains,i=-1,j=0;if(keyFn){for(keyFn=createCallback(keyFn);++i<length;)if(value=source[i],key=keyFn(value),!find(cache,key)&&(cache.push(key),fn(value,j++)===!1))return!1}else for(;++i<length;)if(value=source[i],!find(cache,value)&&(cache.push(value),fn(value,j++)===!1))return!1;return!0},UniqueArrayWrapper.prototype.eachSetCache=UniqueSequence.prototype.each,ConcatArrayWrapper.prototype=new ArrayLikeSequence,ConcatArrayWrapper.prototype.get=function(i){var source=this.parent.source,sourceLength=source.length;return sourceLength>i?source[i]:this.other[i-sourceLength]},ConcatArrayWrapper.prototype.length=function(){return this.parent.source.length+this.other.length},ConcatArrayWrapper.prototype.each=function(fn){for(var source=this.parent.source,sourceLength=source.length,other=this.other,otherLength=other.length,i=0,j=-1;++j<sourceLength;)if(fn(source[j],i++)===!1)return!1;for(j=-1;++j<otherLength;)if(fn(other[j],i++)===!1)return!1;return!0},ObjectLikeSequence.prototype=new Sequence,ObjectLikeSequence.define=function(methodName,overrides){if(!overrides||"function"!=typeof overrides.each)throw new Error("A custom object-like sequence must implement *at least* each!");return defineSequenceType(ObjectLikeSequence,methodName,overrides)},ObjectLikeSequence.prototype.value=function(){return this.toObject()},ObjectLikeSequence.prototype.get=function(key){var pair=this.pairs().find(function(pair){return pair[0]===key});return pair?pair[1]:void 0},ObjectLikeSequence.prototype.keys=function(){return this.map(function(v,k){return k})},ObjectLikeSequence.prototype.values=function(){return this.map(function(v){return v})},ObjectLikeSequence.prototype.async=function(){throw new Error("An ObjectLikeSequence does not support asynchronous iteration.")},ObjectLikeSequence.prototype.reverse=function(){return this},ObjectLikeSequence.prototype.assign=function(other){return new AssignSequence(this,other)},ObjectLikeSequence.prototype.extend=function(other){return this.assign(other)},AssignSequence.prototype=new ObjectLikeSequence,AssignSequence.prototype.get=function(key){return this.other[key]||this.parent.get(key)},AssignSequence.prototype.each=function(fn){var merged=new Set,done=!1;return Lazy(this.other).each(function(value,key){return fn(value,key)===!1?(done=!0,!1):void merged.add(key)}),done?void 0:this.parent.each(function(value,key){return merged.contains(key)||fn(value,key)!==!1?void 0:!1})},ObjectLikeSequence.prototype.defaults=function defaults(defaults){return new DefaultsSequence(this,defaults)},DefaultsSequence.prototype=new ObjectLikeSequence,DefaultsSequence.prototype.get=function(key){return this.parent.get(key)||this.defaults[key]},DefaultsSequence.prototype.each=function(fn){var merged=new Set,done=!1;this.parent.each(function(value,key){return fn(value,key)===!1?(done=!0,!1):void("undefined"!=typeof value&&merged.add(key))}),done||Lazy(this.defaults).each(function(value,key){return merged.contains(key)||fn(value,key)!==!1?void 0:!1})},ObjectLikeSequence.prototype.invert=function(){return new InvertedSequence(this)},InvertedSequence.prototype=new ObjectLikeSequence,InvertedSequence.prototype.each=function(fn){this.parent.each(function(value,key){return fn(key,value)})},ObjectLikeSequence.prototype.merge=function(){var mergeFn=arguments.length>1&&"function"==typeof arguments[arguments.length-1]?arrayPop.call(arguments):null;return new MergedSequence(this,arraySlice.call(arguments,0),mergeFn)},MergedSequence.prototype=new ObjectLikeSequence,MergedSequence.prototype.each=function(fn){var others=this.others,mergeFn=this.mergeFn||mergeObjects,keys={},iteratedFullSource=this.parent.each(function(value,key){var merged=value;return forEach(others,function(other){key in other&&(merged=mergeFn(merged,other[key]))}),keys[key]=!0,fn(merged,key)});if(iteratedFullSource===!1)return!1;var remaining={};return forEach(others,function(other){for(var k in other)keys[k]||(remaining[k]=mergeFn(remaining[k],other[k]))}),Lazy(remaining).each(fn)},ObjectLikeSequence.prototype.functions=function(){return this.filter(function(v){return"function"==typeof v}).map(function(v,k){return k})},ObjectLikeSequence.prototype.methods=function(){return this.functions()},ObjectLikeSequence.prototype.pick=function(properties){return new PickSequence(this,properties)},PickSequence.prototype=new ObjectLikeSequence,PickSequence.prototype.get=function(key){return arrayContains(this.properties,key)?this.parent.get(key):void 0},PickSequence.prototype.each=function(fn){var inArray=arrayContains,properties=this.properties;return this.parent.each(function(value,key){return inArray(properties,key)?fn(value,key):void 0})},ObjectLikeSequence.prototype.omit=function(properties){return new OmitSequence(this,properties)},OmitSequence.prototype=new ObjectLikeSequence,OmitSequence.prototype.get=function(key){return arrayContains(this.properties,key)?void 0:this.parent.get(key)},OmitSequence.prototype.each=function(fn){var inArray=arrayContains,properties=this.properties;return this.parent.each(function(value,key){return inArray(properties,key)?void 0:fn(value,key)})},ObjectLikeSequence.prototype.pairs=function(){return this.map(function(v,k){return[k,v]})},ObjectLikeSequence.prototype.toArray=function(){return this.pairs().toArray()},ObjectLikeSequence.prototype.toObject=function(){return this.reduce(function(object,value,key){return object[key]=value,object},{})},GroupedSequence.prototype=new ObjectLikeSequence,GroupedSequence.prototype.each=function(fn){var result,keyFn=createCallback(this.keyFn);return result=this.parent.reduce(function(grouped,e){var key=keyFn(e);return grouped[key]instanceof Array?grouped[key].push(e):grouped[key]=[e],grouped},{}),transform(function(grouped){for(var key in grouped)if(fn(grouped[key],key)===!1)return!1},result)},IndexedSequence.prototype=new ObjectLikeSequence,IndexedSequence.prototype.each=function(fn){var keyFn=createCallback(this.keyFn),indexed={};return this.parent.each(function(e){var key=keyFn(e);return indexed[key]?void 0:(indexed[key]=e,fn(e,key))})},CountedSequence.prototype=new ObjectLikeSequence,CountedSequence.prototype.each=function(fn){var keyFn=createCallback(this.keyFn),counted={};this.parent.each(function(e){var key=keyFn(e);counted[key]?counted[key]+=1:counted[key]=1});for(var key in counted)if(fn(counted[key],key)===!1)return!1;return!0},ObjectLikeSequence.prototype.watch=function(){throw new Error("You can only call #watch on a directly wrapped object.")},ObjectWrapper.prototype=new ObjectLikeSequence,ObjectWrapper.prototype.root=function(){return this},ObjectWrapper.prototype.isAsync=function(){return!1},ObjectWrapper.prototype.get=function(key){return this.source[key]},ObjectWrapper.prototype.each=function(fn){var key,source=this.source;for(key in source)if(fn(source[key],key)===!1)return!1;return!0},StringLikeSequence.prototype=new ArrayLikeSequence,StringLikeSequence.define=function(methodName,overrides){if(!overrides||"function"!=typeof overrides.get)throw new Error("A custom string-like sequence must implement *at least* get!");return defineSequenceType(StringLikeSequence,methodName,overrides)},StringLikeSequence.prototype.value=function(){return this.toString()},StringLikeSequence.prototype.getIterator=function(){return new CharIterator(this)},CharIterator.prototype.current=function(){return this.source.charAt(this.index)},CharIterator.prototype.moveNext=function(){return++this.index<this.source.length()},StringLikeSequence.prototype.charAt=function(i){return this.get(i)},StringLikeSequence.prototype.charCodeAt=function(i){var char=this.charAt(i);return char?char.charCodeAt(0):0/0},StringLikeSequence.prototype.substring=function(start,stop){return new StringSegment(this,start,stop)},StringSegment.prototype=new StringLikeSequence,StringSegment.prototype.get=function(i){return this.parent.get(i+this.start)},StringSegment.prototype.length=function(){return("number"==typeof this.stop?this.stop:this.parent.length())-this.start},StringLikeSequence.prototype.first=function(count){return"undefined"==typeof count?this.charAt(0):this.substring(0,count)},StringLikeSequence.prototype.last=function(count){return"undefined"==typeof count?this.charAt(this.length()-1):this.substring(this.length()-count)},StringLikeSequence.prototype.drop=function(count){return this.substring(count)},StringLikeSequence.prototype.indexOf=function(substring,startIndex){return this.toString().indexOf(substring,startIndex)},StringLikeSequence.prototype.lastIndexOf=function(substring,startIndex){return this.toString().lastIndexOf(substring,startIndex)},StringLikeSequence.prototype.contains=function(substring){return-1!==this.indexOf(substring)},StringLikeSequence.prototype.endsWith=function(suffix){return this.substring(this.length()-suffix.length).toString()===suffix},StringLikeSequence.prototype.startsWith=function(prefix){return this.substring(0,prefix.length).toString()===prefix},StringLikeSequence.prototype.toUpperCase=function(){return this.mapString(function(char){return char.toUpperCase()})},StringLikeSequence.prototype.toLowerCase=function(){return this.mapString(function(char){return char.toLowerCase()})},StringLikeSequence.prototype.mapString=function(mapFn){return new MappedStringLikeSequence(this,mapFn)},MappedStringLikeSequence.prototype=new StringLikeSequence,MappedStringLikeSequence.prototype.get=IndexedMappedSequence.prototype.get,MappedStringLikeSequence.prototype.length=IndexedMappedSequence.prototype.length,StringLikeSequence.prototype.reverse=function(){return new ReversedStringLikeSequence(this)},ReversedStringLikeSequence.prototype=new StringLikeSequence,ReversedStringLikeSequence.prototype.get=IndexedReversedSequence.prototype.get,ReversedStringLikeSequence.prototype.length=IndexedReversedSequence.prototype.length,StringLikeSequence.prototype.toString=function(){return this.join("")},StringLikeSequence.prototype.match=function(pattern){return new StringMatchSequence(this.source,pattern)},StringMatchSequence.prototype=new Sequence,StringMatchSequence.prototype.getIterator=function(){return new StringMatchIterator(this.source,this.pattern)},StringMatchIterator.prototype.current=function(){return this.match[0]},StringMatchIterator.prototype.moveNext=function(){return!!(this.match=this.pattern.exec(this.source))},StringLikeSequence.prototype.split=function(delimiter){return new SplitStringSequence(this.source,delimiter)},SplitStringSequence.prototype=new Sequence,SplitStringSequence.prototype.getIterator=function(){return this.pattern instanceof RegExp?""===this.pattern.source||"(?:)"===this.pattern.source?new CharIterator(this.source):new SplitWithRegExpIterator(this.source,this.pattern):""===this.pattern?new CharIterator(this.source):new SplitWithStringIterator(this.source,this.pattern)},SplitWithRegExpIterator.prototype.current=function(){return this.source.substring(this.start,this.end)},SplitWithRegExpIterator.prototype.moveNext=function(){if(!this.pattern)return!1;var match=this.pattern.exec(this.source);return match?(this.start=this.nextStart?this.nextStart:0,this.end=match.index,this.nextStart=match.index+match[0].length,!0):this.pattern?(this.start=this.nextStart,this.end=void 0,this.nextStart=void 0,this.pattern=void 0,!0):!1},SplitWithStringIterator.prototype.current=function(){return this.source.substring(this.leftIndex,this.rightIndex)},SplitWithStringIterator.prototype.moveNext=function(){return this.finished||(this.leftIndex="undefined"!=typeof this.leftIndex?this.rightIndex+this.delimiter.length:0,this.rightIndex=this.source.indexOf(this.delimiter,this.leftIndex)),-1===this.rightIndex?(this.finished=!0,this.rightIndex=void 0,!0):!this.finished},StringWrapper.prototype=new StringLikeSequence,StringWrapper.prototype.root=function(){return this},StringWrapper.prototype.isAsync=function(){return!1},StringWrapper.prototype.get=function(i){return this.source.charAt(i)},StringWrapper.prototype.length=function(){return this.source.length},GeneratedSequence.prototype=new Sequence,GeneratedSequence.prototype.isAsync=function(){return!1},GeneratedSequence.prototype.length=function(){return this.fixedLength},GeneratedSequence.prototype.each=function(fn){for(var generatorFn=this.get,length=this.fixedLength,i=0;"undefined"==typeof length||length>i;)if(fn(generatorFn(i++))===!1)return!1;return!0},GeneratedSequence.prototype.getIterator=function(){return new GeneratedIterator(this)},GeneratedIterator.prototype.current=function(){return this.currentValue},GeneratedIterator.prototype.moveNext=function(){var sequence=this.sequence;return"number"==typeof sequence.fixedLength&&this.index>=sequence.fixedLength?!1:(this.currentValue=sequence.get(this.index++),!0)},AsyncSequence.prototype=new Sequence,AsyncSequence.prototype.isAsync=function(){return!0},AsyncSequence.prototype.getIterator=function(){throw new Error("An AsyncSequence does not support synchronous iteration.")},AsyncSequence.prototype.each=function(fn){var iterator=this.parent.getIterator(),onNextCallback=this.onNextCallback,cancelCallback=this.cancelCallback,i=0,handle=new AsyncHandle(function(){cancellationId&&cancelCallback(cancellationId)}),cancellationId=onNextCallback(function iterate(){cancellationId=null;try{iterator.moveNext()&&fn(iterator.current(),i++)!==!1?cancellationId=onNextCallback(iterate):handle._resolve()}catch(e){handle._reject(e)}});return handle};var PENDING=1,RESOLVED=2,REJECTED=3;AsyncHandle.prototype.then=function(onFulfilled,onRejected){var promise=new AsyncHandle(this.cancelFn);return this.resolveListeners.push(function(value){try{if("function"!=typeof onFulfilled)return void resolve(promise,value);resolve(promise,onFulfilled(value))}catch(e){promise._reject(e)}}),this.rejectListeners.push(function(reason){try{if("function"!=typeof onRejected)return void promise._reject(reason);resolve(promise,onRejected(reason))}catch(e){promise._reject(e)}}),this.state===RESOLVED&&this._resolve(this.value),this.state===REJECTED&&this._reject(this.reason),promise},AsyncHandle.prototype._resolve=function(value){this.state!==REJECTED&&(this.state===PENDING&&(this.state=RESOLVED,this.value=value),consumeListeners(this.resolveListeners,this.value))},AsyncHandle.prototype._reject=function(reason){this.state!==RESOLVED&&(this.state===PENDING&&(this.state=REJECTED,this.reason=reason),consumeListeners(this.rejectListeners,this.reason))},AsyncHandle.prototype.cancel=function(){this.cancelFn&&(this.cancelFn(),this.cancelFn=null,this._resolve(!1))},AsyncHandle.prototype.onComplete=function(callback){return this.resolveListeners.push(callback),this},AsyncHandle.prototype.onError=function(callback){return this.rejectListeners.push(callback),this},AsyncSequence.prototype.reverse=function(){return this.parent.reverse().async()},AsyncSequence.prototype.find=function(predicate){var found,handle=this.each(function(e,i){return predicate(e,i)?(found=e,!1):void 0});return handle.then(function(){return found})},AsyncSequence.prototype.indexOf=function(value){var foundIndex=-1,handle=this.each(function(e,i){return e===value?(foundIndex=i,!1):void 0});return handle.then(function(){return foundIndex})},AsyncSequence.prototype.contains=function(value){var found=!1,handle=this.each(function(e){return e===value?(found=!0,!1):void 0});return handle.then(function(){return found})},AsyncSequence.prototype.async=function(){return this},ObjectWrapper.prototype.watch=function(propertyNames){return new WatchedPropertySequence(this.source,propertyNames)},WatchedPropertySequence.prototype=new AsyncSequence,WatchedPropertySequence.prototype.each=function(fn){this.listeners.push(fn)},StreamLikeSequence.prototype=new AsyncSequence,StreamLikeSequence.prototype.isAsync=function(){return!0},StreamLikeSequence.prototype.split=function(delimiter){return new SplitStreamSequence(this,delimiter)},SplitStreamSequence.prototype=new Sequence,SplitStreamSequence.prototype.getEachForDelimiter=function(delimiter){return delimiter instanceof RegExp?this.regexEach:this.stringEach},SplitStreamSequence.prototype.regexEach=function(fn){var end,delimiter=cloneRegex(this.delimiter),buffer="",start=0,index=0,handle=this.parent.each(function(chunk){buffer+=chunk;for(var match;match=delimiter.exec(buffer);){if(end=match.index,fn(buffer.substring(start,end),index++)===!1)return!1;start=end+match[0].length}buffer=buffer.substring(start),start=0});return handle.onComplete(function(){buffer.length>0&&fn(buffer)}),handle},SplitStreamSequence.prototype.stringEach=function(fn){var delimiter=this.delimiter,pieceIndex=0,buffer="",handle=this.parent.each(function(chunk){buffer+=chunk;for(var delimiterIndex;(delimiterIndex=buffer.indexOf(delimiter))>=0;){var piece=buffer.substr(0,delimiterIndex);if(buffer=buffer.substr(delimiterIndex+delimiter.length),fn(piece,pieceIndex++)===!1)return!1}return!0});return handle.onComplete(function(){fn(buffer,pieceIndex++)}),handle},StreamLikeSequence.prototype.lines=function(){return this.split("\n")},StreamLikeSequence.prototype.match=function(pattern){return new MatchedStreamSequence(this,pattern)},MatchedStreamSequence.prototype=new AsyncSequence,MatchedStreamSequence.prototype.each=function(fn){var pattern=this.pattern,done=!1,i=0;return this.parent.each(function(chunk){return Lazy(chunk).match(pattern).each(function(match){return fn(match,i++)===!1?(done=!0,!1):void 0}),!done})},Lazy.createWrapper=function(initializer){var ctor=function(){this.listeners=[]};return ctor.prototype=new StreamLikeSequence,ctor.prototype.each=function(listener){this.listeners.push(listener)},ctor.prototype.emit=function(data){for(var listeners=this.listeners,len=listeners.length,i=len-1;i>=0;--i)listeners[i](data)===!1&&listeners.splice(i,1)},function(){var sequence=new ctor;return initializer.apply(sequence,arguments),sequence}},Lazy.generate=function(generatorFn,length){return new GeneratedSequence(generatorFn,length)},Lazy.range=function(){var start=arguments.length>1?arguments[0]:0,stop=arguments.length>1?arguments[1]:arguments[0],step=arguments.length>2?arguments[2]:1;return this.generate(function(i){return start+step*i}).take(Math.floor((stop-start)/step))},Lazy.repeat=function(value,count){return Lazy.generate(function(){return value},count)},Lazy.Sequence=Sequence,Lazy.ArrayLikeSequence=ArrayLikeSequence,Lazy.ObjectLikeSequence=ObjectLikeSequence,Lazy.StringLikeSequence=StringLikeSequence,Lazy.StreamLikeSequence=StreamLikeSequence,Lazy.GeneratedSequence=GeneratedSequence,Lazy.AsyncSequence=AsyncSequence,Lazy.AsyncHandle=AsyncHandle,Lazy.clone=function(target){return Lazy(target).value()},Lazy.deprecate=function(message,fn){return function(){return console.warn(message),fn.apply(this,arguments)}};var arrayPop=Array.prototype.pop,arraySlice=Array.prototype.slice;Set.prototype.add=function(value){var objects,table=this.table,type=typeof value;switch(type){case"number":case"boolean":case"undefined":return table[value]?!1:(table[value]=!0,!0);case"string":switch(value.charAt(0)){case"_":case"f":case"t":case"c":case"u":case"@":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"N":value="@"+value}return table[value]?!1:(table[value]=!0,!0);default:return objects=this.objects,arrayContains(objects,value)?!1:(objects.push(value),!0)}},Set.prototype.contains=function(value){var type=typeof value;switch(type){case"number":case"boolean":case"undefined":return!!this.table[value];case"string":switch(value.charAt(0)){case"_":case"f":case"t":case"c":case"u":case"@":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"N":value="@"+value}return!!this.table[value];default:return arrayContains(this.objects,value)}},Queue.prototype.add=function(element){var contents=this.contents,capacity=contents.length,start=this.start;return this.count===capacity?(contents[start]=element,this.start=(start+1)%capacity):contents[this.count++]=element,this},Queue.prototype.toArray=function(){var contents=this.contents,start=this.start,count=this.count,snapshot=contents.slice(start,start+count);return snapshot.length<count&&(snapshot=snapshot.concat(contents.slice(0,count-snapshot.length))),snapshot},"object"==typeof module&&module&&module.exports===context?module.exports=Lazy:context.Lazy=Lazy}(this),function(root,factory){"use strict";"function"==typeof define&&define.amd?define(["moment"],factory):"object"==typeof exports?module.exports=factory(require("moment")):factory(root.moment)}(this,function(moment){"use strict";function charCodeToInt(charCode){return charCode>96?charCode-87:charCode>64?charCode-29:charCode-48}function unpackBase60(string){var num,i=0,parts=string.split("."),whole=parts[0],fractional=parts[1]||"",multiplier=1,out=0,sign=1;for(45===string.charCodeAt(0)&&(i=1,sign=-1),i;i<whole.length;i++)num=charCodeToInt(whole.charCodeAt(i)),out=60*out+num;for(i=0;i<fractional.length;i++)multiplier/=60,num=charCodeToInt(fractional.charCodeAt(i)),out+=num*multiplier;return out*sign}function arrayToInt(array){for(var i=0;i<array.length;i++)array[i]=unpackBase60(array[i])}function intToUntil(array,length){for(var i=0;length>i;i++)array[i]=Math.round((array[i-1]||0)+6e4*array[i]);array[length-1]=1/0}function mapIndices(source,indices){var i,out=[];for(i=0;i<indices.length;i++)out[i]=source[indices[i]];return out}function unpack(string){var data=string.split("|"),offsets=data[2].split(" "),indices=data[3].split(""),untils=data[4].split(" ");return arrayToInt(offsets),arrayToInt(indices),arrayToInt(untils),intToUntil(untils,indices.length),{name:data[0],abbrs:mapIndices(data[1].split(" "),indices),offsets:mapIndices(offsets,indices),untils:untils}}function Zone(packedString){var unpacked=unpack(packedString);this.name=unpacked.name,this.abbrs=unpacked.abbrs,this.untils=unpacked.untils,this.offsets=unpacked.offsets}function normalizeName(name){return(name||"").toLowerCase().replace(/\//g,"_")}function addZone(packed){var i,zone;for("string"==typeof packed&&(packed=[packed]),i=0;i<packed.length;i++)zone=new Zone(packed[i]),zones[normalizeName(zone.name)]=zone}function getZone(name){name=normalizeName(name);var linkName=links[name];return linkName&&zones[linkName]&&(name=linkName),zones[name]||null}function getNames(){var i,out=[];for(i in zones)zones.hasOwnProperty(i)&&zones[i]&&out.push(zones[i].name);return out.sort()}function addLink(aliases){var i,alias;for("string"==typeof aliases&&(aliases=[aliases]),i=0;i<aliases.length;i++)alias=normalizeName(aliases[i]).split("|"),links[alias[0]]=alias[1],links[alias[1]]=alias[0]}function loadData(data){addZone(data.zones),addLink(data.links),tz.dataVersion=data.version}function zoneExists(name){return zoneExists.didShowError||(zoneExists.didShowError=!0,"undefined"!=typeof console&&"function"==typeof console.error&&console.error("moment.tz.zoneExists('"+name+"') has been deprecated in favor of !moment.tz.zone('"+name+"')")),!!getZone(name)}function needsOffset(m){return!(!m._a||void 0!==m._tzm)}function tz(){var args=Array.prototype.slice.call(arguments,0,-1),name=arguments[arguments.length-1],zone=getZone(name),out=moment.utc.apply(null,args);return zone&&needsOffset(out)&&out.add("minutes",zone.parse(out)),out.tz(name),out}function abbrWrap(old){return function(){return this._z?this._z.abbr(this):old.call(this)}}function resetZoneWrap(old){return function(){return this._z=null,old.call(this)}}if(void 0!==moment.tz)return moment;var VERSION="0.0.6",zones={},links={};Zone.prototype={_index:function(timestamp){var i,target=+timestamp,untils=this.untils;for(i=0;i<untils.length;i++)if(target<untils[i])return i},parse:function(timestamp){var i,target=+timestamp,offsets=this.offsets,untils=this.untils;for(i=0;i<untils.length;i++)if(target<untils[i]-6e4*offsets[i])return offsets[i]},abbr:function(mom){return this.abbrs[this._index(mom)]},offset:function(mom){return this.offsets[this._index(mom)]}},tz.version=VERSION,tz.dataVersion="",tz._zones=zones,tz._links=links,tz.add=addZone,tz.link=addLink,tz.load=loadData,tz.zone=getZone,tz.zoneExists=zoneExists,tz.names=getNames,tz.Zone=Zone,tz.unpack=unpack,tz.unpackBase60=unpackBase60,tz.needsOffset=needsOffset;var fn=moment.fn;return moment.tz=tz,moment.updateOffset=function(mom,keepTime){var offset;mom._z&&(offset=mom._z.offset(mom),Math.abs(offset)<16&&(offset/=60),mom.zone(offset,keepTime))},fn.tz=function(name){return name?(this._z=getZone(name),this._z&&moment.updateOffset(this),this):this._z?this._z.name:void 0},fn.zoneName=abbrWrap(fn.zoneName),fn.zoneAbbr=abbrWrap(fn.zoneAbbr),fn.utc=resetZoneWrap(fn.utc),moment.momentProperties._z=null,loadData({version:"2014e",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 1o10 jz0 gN0 pb0 1qN0 dX0 e10 xz0 1o10 bb0 e10 An0 1o10 5z0 e10 FX0 1o10 2L0 e10 IL0 1C10 Lz0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uo0 e00 DA0 11A0 rA0 e00 Jc0 WM0 m00 gM0 M00 WM0 jc0 e00 RA0 11A0 dA0 e00 Uo0 11A0 800 gM0 Xc0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HAST HADT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Metlakatla|MeST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|01010101010101010101010|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT|30 40|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST WST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|EST MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Choibalsan|CHOT|-80|0|","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT|-70|0|","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|0102|1BWi0 1qM0 WM0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT|-a0 -b0 -b0 -a0|01023|1BWg0 1qM0 WM0 17V0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|0102|1BWj0 1qM0 WM0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT|-b0 -c0 -c0|0102|1BWf0 1qM0 WM0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|0123|1BWj0 1qN0 WM0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|0102|1BWk0 1qM0 WM0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|0102|1BWk0 1qM0 WM0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST|-90|0|","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|0102|1BWg0 1qM0 WM0","Asia/Samarkand|UZT|-50|0|","Asia/Singapore|SGT|-80|0|","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT|-80|0|","Asia/Ust-Nera|MAGT MAGST MAGT VLAT|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 17V0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|0102|1BWg0 1qM0 WM0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|0102|1BWh0 1qM0 WM0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|0102|1BWl0 1qM0 WM0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|EST EST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|CST CST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|EST|-a0|0|","Australia/Darwin|CST|-9u|0|","Australia/Eucla|CWST|-8J|0|","Australia/LHI|LHST LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|WST|-80|0|","Chile/EasterIsland|EASST EAST|50 60|01010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1wn0 Rd0 1zb0 Op0 1zb0 Rd0 1wn0 Rd0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|0102|1BWo0 1qM0 WM0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|0102|1BWn0 1qM0 WM0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK|-20 -30 -40|0101010102|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0","Europe/Volgograd|VOLT VOLST VOLT|-30 -40 -40|0102|1BWn0 1qM0 WM0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|WST WSDT WSDT WST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1Q10 xz0 1Q10 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Q10 xz0 1Q10","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT|-bu|0|","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pitcairn|PST|80|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Cayman","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Cancun|America/Merida","America/Cancun|America/Mexico_City","America/Cancun|America/Monterrey","America/Cancun|Mexico/General","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Grand_Turk","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Kashgar","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|Asia/Urumqi","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Chisinau","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Tiraspol","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Pyongyang|Asia/Seoul","Asia/Pyongyang|ROK","Asia/Samarkand|Asia/Tashkent","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Kaliningrad|Europe/Minsk","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),moment
}),function(){var a=angular.module("LocalStorageModule",[]);a.provider("localStorageService",function(){this.prefix="ls",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(b){this.prefix=b},this.setStorageCookie=function(c,b){this.cookie={expiry:c,path:b}},this.setNotify=function(b,c){this.notify={setItem:b,removeItem:c}},this.$get=["$rootScope",function(m){var h=this.prefix,c=this.cookie,p=this.notify;"."!==h.substr(-1)&&(h=h?h+".":"");var e=function(){try{var q="localStorage"in window&&null!==window.localStorage,r=h+"__"+Math.round(1e7*Math.random());return q&&(localStorage.setItem(r,""),localStorage.removeItem(r)),!0}catch(s){return m.$broadcast("LocalStorageModule.notification.error",s.message),!1}}(),i=function(q,r){if(!e)return m.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.setItem&&m.$broadcast("LocalStorageModule.notification.setitem",{key:q,newvalue:r,storageType:"cookie"}),j(q,r);"undefined"==typeof r&&(r=null);try{(angular.isObject(r)||angular.isArray(r))&&(r=angular.toJson(r)),localStorage.setItem(h+q,r),p.setItem&&m.$broadcast("LocalStorageModule.notification.setitem",{key:q,newvalue:r,storageType:"localStorage"})}catch(s){return m.$broadcast("LocalStorageModule.notification.error",s.message),j(q,r)}return!0},l=function(q){if(!e)return m.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),f(q);var r=localStorage.getItem(h+q);return r&&"null"!==r?"{"===r.charAt(0)||"["===r.charAt(0)?angular.fromJson(r):r:null},g=function(q){if(!e)return m.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.removeItem&&m.$broadcast("LocalStorageModule.notification.removeitem",{key:q,storageType:"cookie"}),n(q);try{localStorage.removeItem(h+q),p.removeItem&&m.$broadcast("LocalStorageModule.notification.removeitem",{key:q,storageType:"localStorage"})}catch(r){return m.$broadcast("LocalStorageModule.notification.error",r.message),n(q)}return!0},k=function(){if(!e)return m.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var q=h.length,s=[];for(var r in localStorage)if(r.substr(0,q)===h)try{s.push(r.substr(q))}catch(t){return m.$broadcast("LocalStorageModule.notification.error",t.Description),[]}return s},b=function(q){var q=q||"",v=h.slice(0,-1)+".",t=RegExp(v+q);if(!e)return m.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),d();var r=h.length;for(var s in localStorage)if(t.test(s))try{g(s.substr(r))}catch(u){return m.$broadcast("LocalStorageModule.notification.error",u.message),d()}return!0},o=function(){try{return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}catch(q){return m.$broadcast("LocalStorageModule.notification.error",q.message),!1}},j=function(s,t){if("undefined"==typeof t)return!1;if(!o())return m.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var r="",q=new Date;null===t?(q.setTime(q.getTime()+-864e5),r="; expires="+q.toGMTString(),t=""):0!==c.expiry&&(q.setTime(q.getTime()+24*c.expiry*60*60*1e3),r="; expires="+q.toGMTString()),s&&(document.cookie=h+s+"="+encodeURIComponent(t)+r+"; path="+c.path)}catch(u){return m.$broadcast("LocalStorageModule.notification.error",u.message),!1}return!0},f=function(s){if(!o())return m.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var t=document.cookie.split(";"),r=0;r<t.length;r++){for(var q=t[r];" "===q.charAt(0);)q=q.substring(1,q.length);if(0===q.indexOf(h+s+"="))return decodeURIComponent(q.substring(h.length+s.length+1,q.length))}return null},n=function(q){j(q,null)},d=function(){for(var r=null,q=h.length,v=document.cookie.split(";"),t=0;t<v.length;t++){for(r=v[t];" "===r.charAt(0);)r=r.substring(1,r.length);var s=r.substring(q,r.indexOf("="));n(s)}};return{isSupported:e,set:i,add:i,get:l,keys:k,remove:g,clearAll:b,cookie:{set:j,add:j,get:f,remove:n,clearAll:d}}}]})}.call(this),!function(a,b,c){"use strict";function d(){this.$get=function(){function a(a,b,c){for(var d=a[c],e=b(d);c>0;){var f=Math.floor((c+1)/2)-1,g=a[f];if(e>=b(g))break;a[f]=d,a[c]=g,c=f}}function c(a,b,c){for(var d=a.length,e=a[c],f=b(e);;){var g=2*(c+1),h=g-1,i=null;if(d>h){var j=a[h],k=b(j);f>k&&(i=h)}if(d>g){var l=a[g],m=b(l);m<(null===i?f:b(a[h]))&&(i=g)}if(null===i)break;a[c]=a[i],a[i]=e,c=i}}function d(a){if(a&&!b.isFunction(a))throw new Error("BinaryHeap(weightFunc): weightFunc: must be a function!");a=a||function(a){return a},this.weightFunc=a,this.heap=[]}return d.prototype.push=function(b){this.heap.push(b),a(this.heap,this.weightFunc,this.heap.length-1)},d.prototype.peek=function(){return this.heap[0]},d.prototype.pop=function(){var a=this.heap[0],b=this.heap.pop();return this.heap.length>0&&(this.heap[0]=b,c(this.heap,this.weightFunc,0)),a},d.prototype.remove=function(d){for(var e=this.heap.length,f=0;e>f;f++)if(b.equals(this.heap[f],d)){var g=this.heap[f],h=this.heap.pop();return f!==e-1&&(this.heap[f]=h,a(this.heap,this.weightFunc,f),c(this.heap,this.weightFunc,f)),g}return null},d.prototype.removeAll=function(){this.heap=[]},d.prototype.size=function(){return this.heap.length},d}}function e(){function a(a,c){c(b.isNumber(a)?0>a?"must be greater than zero!":null:"must be a number!")}var d,e=function(){return{capacity:Number.MAX_VALUE,maxAge:null,deleteOnExpire:"none",onExpire:null,cacheFlushInterval:null,recycleFreq:1e3,storageMode:"none",storageImpl:null,verifyIntegrity:!0,disabled:!1}};this.setCacheDefaults=function(c){var f="$angularCacheFactoryProvider.setCacheDefaults(options): ";if(c=c||{},!b.isObject(c))throw new Error(f+"options: must be an object!");if("disabled"in c&&(c.disabled=c.disabled===!0),"capacity"in c&&a(c.capacity,function(a){if(a)throw new Error(f+"capacity: "+a)}),"deleteOnExpire"in c){if(!b.isString(c.deleteOnExpire))throw new Error(f+"deleteOnExpire: must be a string!");if("none"!==c.deleteOnExpire&&"passive"!==c.deleteOnExpire&&"aggressive"!==c.deleteOnExpire)throw new Error(f+'deleteOnExpire: accepted values are "none", "passive" or "aggressive"!')}if("maxAge"in c&&a(c.maxAge,function(a){if(a)throw new Error(f+"maxAge: "+a)}),"recycleFreq"in c&&a(c.recycleFreq,function(a){if(a)throw new Error(f+"recycleFreq: "+a)}),"cacheFlushInterval"in c&&a(c.cacheFlushInterval,function(a){if(a)throw new Error(f+"cacheFlushInterval: "+a)}),"storageMode"in c){if(!b.isString(c.storageMode))throw new Error(f+"storageMode: must be a string!");if("none"!==c.storageMode&&"localStorage"!==c.storageMode&&"sessionStorage"!==c.storageMode)throw new Error(f+'storageMode: accepted values are "none", "localStorage" or "sessionStorage"!');if("storageImpl"in c){if(!b.isObject(c.storageImpl))throw new Error(f+"storageImpl: must be an object!");if(!("setItem"in c.storageImpl&&"function"==typeof c.storageImpl.setItem))throw new Error(f+'storageImpl: must implement "setItem(key, value)"!');if(!("getItem"in c.storageImpl&&"function"==typeof c.storageImpl.getItem))throw new Error(f+'storageImpl: must implement "getItem(key)"!');if(!("removeItem"in c.storageImpl)||"function"!=typeof c.storageImpl.removeItem)throw new Error(f+'storageImpl: must implement "removeItem(key)"!')}}if("onExpire"in c&&"function"!=typeof c.onExpire)throw new Error(f+"onExpire: must be a function!");d=b.extend({},e(),c)},this.setCacheDefaults({}),this.$get=["$window","BinaryHeap",function(e,f){function g(a){return a&&b.isNumber(a)?a.toString():a}function h(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c}function i(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c}function j(j,k){function m(b){a(b,function(a){if(a)throw new Error("capacity: "+a);for(B.capacity=b;E.size()>B.capacity;)H.remove(E.peek().key,{verifyIntegrity:!1})})}function n(a){if(!b.isString(a))throw new Error("deleteOnExpire: must be a string!");if("none"!==a&&"passive"!==a&&"aggressive"!==a)throw new Error('deleteOnExpire: accepted values are "none", "passive" or "aggressive"!');B.deleteOnExpire=a}function o(b){var c=i(C);if(null===b){if(B.maxAge)for(var d=0;d<c.length;d++){var e=c[d];"maxAge"in C[e]||(delete C[e].expires,D.remove(C[e]))}B.maxAge=b}else a(b,function(a){if(a)throw new Error("maxAge: "+a);if(b!==B.maxAge){B.maxAge=b;for(var d=(new Date).getTime(),e=0;e<c.length;e++){var f=c[e];"maxAge"in C[f]||(D.remove(C[f]),C[f].expires=C[f].created+B.maxAge,D.push(C[f]),C[f].expires<d&&H.remove(f,{verifyIntegrity:!1}))}}})}function p(){for(var a=(new Date).getTime(),b=D.peek();b&&b.expires&&b.expires<a;)H.remove(b.key,{verifyIntegrity:!1}),B.onExpire&&B.onExpire(b.key,b.value),b=D.peek()}function q(b){null===b?(B.recycleFreqId&&(clearInterval(B.recycleFreqId),delete B.recycleFreqId),B.recycleFreq=d.recycleFreq,B.recycleFreqId=setInterval(p,B.recycleFreq)):a(b,function(a){if(a)throw new Error("recycleFreq: "+a);B.recycleFreq=b,B.recycleFreqId&&clearInterval(B.recycleFreqId),B.recycleFreqId=setInterval(p,B.recycleFreq)})}function r(b){null===b?(B.cacheFlushIntervalId&&(clearInterval(B.cacheFlushIntervalId),delete B.cacheFlushIntervalId),B.cacheFlushInterval=b):a(b,function(a){if(a)throw new Error("cacheFlushInterval: "+a);b!==B.cacheFlushInterval&&(B.cacheFlushIntervalId&&clearInterval(B.cacheFlushIntervalId),B.cacheFlushInterval=b,B.cacheFlushIntervalId=setInterval(H.removeAll,B.cacheFlushInterval))})}function s(a,c){var d,f;if(!b.isString(a))throw new Error("storageMode: must be a string!");if("none"!==a&&"localStorage"!==a&&"sessionStorage"!==a)throw new Error('storageMode: accepted values are "none", "localStorage" or "sessionStorage"!');if(("localStorage"===B.storageMode||"sessionStorage"===B.storageMode)&&a!==B.storageMode){for(d=i(C),f=0;f<d.length;f++)I.removeItem(F+".data."+d[f]);I.removeItem(F+".keys")}if(B.storageMode=a,c){if(!b.isObject(c))throw new Error("storageImpl: must be an object!");if(!("setItem"in c&&"function"==typeof c.setItem))throw new Error('storageImpl: must implement "setItem(key, value)"!');if(!("getItem"in c&&"function"==typeof c.getItem))throw new Error('storageImpl: must implement "getItem(key)"!');if(!("removeItem"in c)||"function"!=typeof c.removeItem)throw new Error('storageImpl: must implement "removeItem(key)"!');I=c}else"localStorage"===B.storageMode?I=e.localStorage:"sessionStorage"===B.storageMode&&(I=e.sessionStorage);if("none"!==B.storageMode&&I)if(G)for(d=i(C),f=0;f<d.length;f++)v(d[f]);else u()}function t(a,c,e){if(a=a||{},e=e||{},c=!!c,!b.isObject(a))throw new Error("AngularCache.setOptions(cacheOptions, strict, options): cacheOptions: must be an object!");if(w(e.verifyIntegrity),c&&(a=b.extend({},d,a)),"disabled"in a&&(B.disabled=a.disabled===!0),"verifyIntegrity"in a&&(B.verifyIntegrity=a.verifyIntegrity===!0),"capacity"in a&&m(a.capacity),"deleteOnExpire"in a&&n(a.deleteOnExpire),"maxAge"in a&&o(a.maxAge),"recycleFreq"in a&&q(a.recycleFreq),"cacheFlushInterval"in a&&r(a.cacheFlushInterval),"storageMode"in a&&s(a.storageMode,a.storageImpl),"onExpire"in a){if(null!==a.onExpire&&"function"!=typeof a.onExpire)throw new Error("onExpire: must be a function!");B.onExpire=a.onExpire}G=!0}function u(){var a=b.fromJson(I.getItem(F+".keys"));if(I.removeItem(F+".keys"),a&&a.length){for(var c=0;c<a.length;c++){var d=b.fromJson(I.getItem(F+".data."+a[c]))||{},e=d.maxAge||B.maxAge,f=d.deleteOnExpire||B.deleteOnExpire;if(e&&(new Date).getTime()-d.created>e&&"aggressive"===f)I.removeItem(F+".data."+a[c]);else{var g={created:d.created};d.expires&&(g.expires=d.expires),d.accessed&&(g.accessed=d.accessed),d.maxAge&&(g.maxAge=d.maxAge),d.deleteOnExpire&&(g.deleteOnExpire=d.deleteOnExpire),H.put(a[c],d.value,g)}}v(null)}}function v(a){"none"!==B.storageMode&&I&&(I.setItem(F+".keys",b.toJson(i(C))),a&&I.setItem(F+".data."+a,b.toJson(C[a])))}function w(a){if((a||a!==!1&&B.verifyIntegrity)&&"none"!==B.storageMode&&I){var c=i(C);I.setItem(F+".keys",b.toJson(c));for(var d=0;d<c.length;d++)I.setItem(F+".data."+c[d],b.toJson(C[c[d]]))}}function x(a,c){if((c||c!==!1&&B.verifyIntegrity)&&"none"!==B.storageMode&&I){var d=I.getItem(F+".data."+a);if(!d&&a in C)H.remove(a);else if(d){var e=b.fromJson(d),f=e?e.value:null;f&&H.put(a,f)}}}function y(a){if("none"!==B.storageMode&&I){var c=a||i(C);I.setItem(F+".keys",b.toJson(c))}}function z(a){"none"!==B.storageMode&&I&&a in C&&I.setItem(F+".data."+a,b.toJson(C[a]))}function A(){if("none"!==B.storageMode&&I){for(var a=i(C),c=0;c<a.length;c++)I.removeItem(F+".data."+a[c]);I.setItem(F+".keys",b.toJson([]))}}var B=b.extend({},{id:j}),C={},D=new f(function(a){return a.expires}),E=new f(function(a){return a.accessed}),F="angular-cache.caches."+j,G=!1,H=this,I=null;k=k||{},this.put=function(c,d,e){if(!B.disabled){if(e=e||{},c=g(c),!b.isString(c))throw new Error("AngularCache.put(key, value, options): key: must be a string!");if(e&&!b.isObject(e))throw new Error("AngularCache.put(key, value, options): options: must be an object!");if(e.maxAge&&null!==e.maxAge)a(e.maxAge,function(a){if(a)throw new Error("AngularCache.put(key, value, options): maxAge: "+a)});else{if(e.deleteOnExpire&&!b.isString(e.deleteOnExpire))throw new Error("AngularCache.put(key, value, options): deleteOnExpire: must be a string!");if(e.deleteOnExpire&&"none"!==e.deleteOnExpire&&"passive"!==e.deleteOnExpire&&"aggressive"!==e.deleteOnExpire)throw new Error('AngularCache.put(key, value, options): deleteOnExpire: accepted values are "none", "passive" or "aggressive"!');if(b.isUndefined(d))return}var f,h,i=(new Date).getTime();return w(e.verifyIntegrity),C[c]?(D.remove(C[c]),E.remove(C[c])):C[c]={key:c},h=C[c],h.value=d,h.created=parseInt(e.created,10)||h.created||i,h.accessed=parseInt(e.accessed,10)||i,e.deleteOnExpire&&(h.deleteOnExpire=e.deleteOnExpire),e.maxAge&&(h.maxAge=e.maxAge),(h.maxAge||B.maxAge)&&(h.expires=h.created+(h.maxAge||B.maxAge)),f=h.deleteOnExpire||B.deleteOnExpire,h.expires&&"aggressive"===f&&D.push(h),y(),z(c),E.push(h),E.size()>B.capacity&&this.remove(E.peek().key,{verifyIntegrity:!1}),d}},this.get=function(a,d){if(!B.disabled){if(b.isArray(a)){var e=a,f=[];return b.forEach(e,function(a){var c=H.get(a,d);b.isDefined(c)&&f.push(c)}),f}if(a=g(a),d=d||{},!b.isString(a))throw new Error("AngularCache.get(key, options): key: must be a string!");if(d&&!b.isObject(d))throw new Error("AngularCache.get(key, options): options: must be an object!");if(d.onExpire&&!b.isFunction(d.onExpire))throw new Error("AngularCache.get(key, options): onExpire: must be a function!");if(x(a,d.verifyIntegrity),a in C){var h=C[a],i=h.value,j=(new Date).getTime(),k=h.deleteOnExpire||B.deleteOnExpire;return E.remove(h),h.accessed=j,E.push(h),"passive"===k&&"expires"in h&&h.expires<j&&(this.remove(a,{verifyIntegrity:!1}),B.onExpire?B.onExpire(a,h.value,d.onExpire):d.onExpire&&d.onExpire(a,h.value),i=c),z(a),i}}},this.remove=function(a,b){b=b||{},w(b.verifyIntegrity),E.remove(C[a]),D.remove(C[a]),"none"!==B.storageMode&&I&&I.removeItem(F+".data."+a),delete C[a],y()},this.removeAll=function(){A(),E.removeAll(),D.removeAll(),C={}},this.removeExpired=function(a){a=a||{};for(var b=(new Date).getTime(),c=i(C),d={},e=0;e<c.length;e++)C[c[e]]&&C[c[e]].expires&&C[c[e]].expires<b&&(d[c[e]]=C[c[e]].value);for(var f in d)H.remove(f);if(w(a.verifyIntegrity),a.asArray){var g=[];for(f in d)g.push(d[f]);return g}return d},this.destroy=function(){B.cacheFlushIntervalId&&clearInterval(B.cacheFlushIntervalId),B.recycleFreqId&&clearInterval(B.recycleFreqId),this.removeAll(),"none"!==B.storageMode&&I&&(I.removeItem(F+".keys"),I.removeItem(F)),I=null,C=null,E=null,D=null,B=null,F=null,H=null;for(var a=i(this),b=0;b<a.length;b++)this.hasOwnProperty(a[b])&&delete this[a[b]];l[j]=null,delete l[j]},this.info=function(a){if(a){if(C[a]){var c={created:C[a].created,accessed:C[a].accessed,expires:C[a].expires,maxAge:C[a].maxAge||B.maxAge,deleteOnExpire:C[a].deleteOnExpire||B.deleteOnExpire,isExpired:!1};return c.maxAge&&(c.isExpired=(new Date).getTime()-c.created>c.maxAge),c}return C[a]}return b.extend({},B,{size:E&&E.size()||0})},this.keySet=function(){return h(C)},this.keys=function(){return i(C)},this.setOptions=t,t(k,!0,{verifyIntegrity:!1})}function k(a,c){if(a in l)throw new Error("cacheId "+a+" taken!");if(!b.isString(a))throw new Error("cacheId must be a string!");return l[a]=new j(a,c),l[a]}var l={};return k.info=function(){for(var a=i(l),c={size:a.length,caches:{}},e=0;e<a.length;e++){var f=a[e];c.caches[f]=l[f].info()}return c.cacheDefaults=b.extend({},d),c},k.get=function(a){if(!b.isString(a))throw new Error("$angularCacheFactory.get(cacheId): cacheId: must be a string!");return l[a]},k.keySet=function(){return h(l)},k.keys=function(){return i(l)},k.removeAll=function(){for(var a=i(l),b=0;b<a.length;b++)l[a[b]].destroy()},k.clearAll=function(){for(var a=i(l),b=0;b<a.length;b++)l[a[b]].removeAll()},k.enableAll=function(){for(var a=i(l),b=0;b<a.length;b++)l[a[b]].setOptions({disabled:!1})},k.disableAll=function(){for(var a=i(l),b=0;b<a.length;b++)l[a[b]].setOptions({disabled:!0})},k}]}b.module("jmdobry.binary-heap",[]).provider("BinaryHeap",d),b.module("jmdobry.angular-cache",["ng","jmdobry.binary-heap"]).provider("$angularCacheFactory",e)}(window,window.angular),function(factory){"undefined"!=typeof module&&module.exports?module.exports=factory():"function"==typeof define&&define.amd?define(factory):this.NProgress=factory()}(function(){function clamp(n,min,max){return min>n?min:n>max?max:n}function toBarPerc(n){return 100*(-1+n)}function barPositionCSS(n,speed,ease){var barCSS;return barCSS="translate3d"===Settings.positionUsing?{transform:"translate3d("+toBarPerc(n)+"%,0,0)"}:"translate"===Settings.positionUsing?{transform:"translate("+toBarPerc(n)+"%,0)"}:{"margin-left":toBarPerc(n)+"%"},barCSS.transition="all "+speed+"ms "+ease,barCSS}function hasClass(element,name){var list="string"==typeof element?element:classList(element);return list.indexOf(" "+name+" ")>=0}function addClass(element,name){var oldList=classList(element),newList=oldList+name;hasClass(oldList,name)||(element.className=newList.substring(1))}function removeClass(element,name){var newList,oldList=classList(element);hasClass(element,name)&&(newList=oldList.replace(" "+name+" "," "),element.className=newList.substring(1,newList.length-1))}function classList(element){return(" "+(element.className||"")+" ").replace(/\s+/gi," ")}function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element)}var NProgress={};NProgress.version="0.1.3";var Settings=NProgress.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};NProgress.configure=function(options){var key,value;for(key in options)value=options[key],void 0!==value&&options.hasOwnProperty(key)&&(Settings[key]=value);return this},NProgress.status=null,NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1),NProgress.status=1===n?null:n;var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;return progress.offsetWidth,queue(function(next){""===Settings.positionUsing&&(Settings.positionUsing=NProgress.getPositioningCSS()),css(bar,barPositionCSS(n,speed,ease)),1===n?(css(progress,{transition:"none",opacity:1}),progress.offsetWidth,setTimeout(function(){css(progress,{transition:"all "+speed+"ms linear",opacity:0}),setTimeout(function(){NProgress.remove(),next()},speed)},speed)):setTimeout(next,speed)}),this},NProgress.isStarted=function(){return"number"==typeof NProgress.status},NProgress.start=function(){NProgress.status||NProgress.set(0);var work=function(){setTimeout(function(){NProgress.status&&(NProgress.trickle(),work())},Settings.trickleSpeed)};return Settings.trickle&&work(),this},NProgress.done=function(force){return force||NProgress.status?NProgress.inc(.3+.5*Math.random()).set(1):this},NProgress.inc=function(amount){var n=NProgress.status;return n?("number"!=typeof amount&&(amount=(1-n)*clamp(Math.random()*n,.1,.95)),n=clamp(n+amount,0,.994),NProgress.set(n)):NProgress.start()},NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate)},function(){var initial=0,current=0;NProgress.promise=function($promise){return $promise&&"resolved"!=$promise.state()?(0==current&&NProgress.start(),initial++,current++,$promise.always(function(){current--,0==current?(initial=0,NProgress.done()):NProgress.set((initial-current)/initial)}),this):this}}(),NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById("nprogress");addClass(document.documentElement,"nprogress-busy");var progress=document.createElement("div");progress.id="nprogress",progress.innerHTML=Settings.template;var spinner,bar=progress.querySelector(Settings.barSelector),perc=fromStart?"-100":toBarPerc(NProgress.status||0);return css(bar,{transition:"all 0 linear",transform:"translate3d("+perc+"%,0,0)"}),Settings.showSpinner||(spinner=progress.querySelector(Settings.spinnerSelector),spinner&&removeElement(spinner)),document.body.appendChild(progress),progress},NProgress.remove=function(){removeClass(document.documentElement,"nprogress-busy");var progress=document.getElementById("nprogress");progress&&removeElement(progress)},NProgress.isRendered=function(){return!!document.getElementById("nprogress")},NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style,vendorPrefix="WebkitTransform"in bodyStyle?"Webkit":"MozTransform"in bodyStyle?"Moz":"msTransform"in bodyStyle?"ms":"OTransform"in bodyStyle?"O":"";return vendorPrefix+"Perspective"in bodyStyle?"translate3d":vendorPrefix+"Transform"in bodyStyle?"translate":"margin"};var queue=function(){function next(){var fn=pending.shift();fn&&fn(next)}var pending=[];return function(fn){pending.push(fn),1==pending.length&&next()}}(),css=function(){function camelCase(string){return string.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase()})}function getVendorProp(name){var style=document.body.style;if(name in style)return name;for(var vendorName,i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1);i--;)if(vendorName=cssPrefixes[i]+capName,vendorName in style)return vendorName;return name}function getStyleProp(name){return name=camelCase(name),cssProps[name]||(cssProps[name]=getVendorProp(name))}function applyCss(element,prop,value){prop=getStyleProp(prop),element.style[prop]=value}var cssPrefixes=["Webkit","O","Moz","ms"],cssProps={};return function(element,properties){var prop,value,args=arguments;if(2==args.length)for(prop in properties)value=properties[prop],void 0!==value&&properties.hasOwnProperty(prop)&&applyCss(element,prop,value);else applyCss(element,args[1],args[2])}}();return NProgress}),angular.module("templates-main",["admin/masquerading/_modal_list_avail","auditing/_modal_view_confirmation_detail","auditing/events","catering/_header_add","catering/_header_main","catering/add","catering/categories/view","catering/items/_header_index","catering/items/index","catering/items/new","catering/main","catering/menus/new","client-module/release_to_team_automate_invitations","client-module/release_to_team_business_unit","client-module/release_to_team_class","client-module/release_to_team_release_expiry","clients/_new_address","clients/_new_admin","clients/_new_config","clients/_new_facility_lease","clients/_new_name","clients/new","clients/view","companies/add","companies/addSearchResults","companies/edit","companies/forms/address","companies/forms/config","companies/forms/details","companies/forms/notifications","companies/index","companies/new","companies/searchByEmail","dashboard/_header_main","dashboard/_modal_manual_ticket_create","dashboard/debug","dashboard/main","employees/_add_employee","employees/_header_add","employees/_header_main","employees/add","employees/main","events/_header_main","events/_modal_add_event_date","events/add","events/add_date","events/add_event","events/client_index","events/edit","events/edit_date","events/forms/attachments","events/forms/control","events/forms/date","events/forms/event","events/forms/ticketing","events/main","events/release","events/view","facilities/_header_add","facilities/_header_main","facilities/_header_view","facilities/add","facilities/add_facility","facilities/edit","facilities/edit_lease","facilities/forms/facility","facilities/main","facilities/new","facilities/new_lease","facilities/view","inventory/_modal_drinksChoices","inventory/_modal_guest_names","inventory/_modal_snack_conditions","inventory/add","inventory/confirm_attendance","inventory/confirm_drinks","inventory/confirm_host_details","inventory/confirm_menu","inventory/confirm_options","inventory/confirm_parking","inventory/confirm_review","inventory/confirm_snacks","inventory/shared/review","inventory_releases/main","layouts/authenticated","layouts/guest","login","navigation/main","navigation/user_header_menu","notifications/index","reporting/_modal_report_select","reporting/catering/event_select","reporting/catering/view","reporting/guest_report","reporting/index","reporting/suite_orders/event_select","reporting/suite_orders/unconfirmed","reporting/suite_orders/view","resetPassword","resetPasswordRequest","teasers/modal_help","teasers/modal_release_to_team","tickets/index","ui/modal/backdrop","ui/modal/window"]),angular.module("admin/masquerading/_modal_list_avail",[]).run(["$templateCache",function($templateCache){$templateCache.put("admin/masquerading/_modal_list_avail",'<div class=panel><div class=flex-toolbar><div class=title>Users</div><div class="field search"><input type=search placeholder=Search ng-model=filterModel autofocus></div></div><hr><div class=employees-table><div ng-repeat="user in users| filter:filterModel:strict track by user.id" class="record repeat-animation"><div class=details><div ng-bind=user.full_name class=name></div><div ng-bind=user.company_name class=company></div><div ng-bind=user.email class=email></div></div><div class=actions><button ng-click=masqueradeAs(user) class="small dark-accent outline"><i class=icon-thin-218_thinking_brain_head_mind></i><span>Masquerade</span></button></div></div></div></div>')}]),angular.module("auditing/_modal_view_confirmation_detail",[]).run(["$templateCache",function($templateCache){$templateCache.put("auditing/_modal_view_confirmation_detail",'<div id=reviewInventoryOptions class=in-modal><div ng-if=Options.selectedOptions.is_attending class=panel><div class=top-bar><div ng-bind=Options.selectedOptions.company.friendly_name class=title></div></div><br><p ng-bind=Options.selectedOptions.event_date.event_name></p><br><div ng-if=Options.selectedOptions.selection.menu class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Menu</div></div><h1 ng-bind=Options.selectedOptions.selection.menu.name></h1></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Additional Beverages</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.drinks"><td ng-bind=item.name></td></tr></tbody></table><br><div class=top-bar><div class=title>Wine, Beer and Pairings</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Devil’s Lair The Hidden Cave Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Redback Original</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Beez Neez</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Saltram 1859 Shiraz</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Muscat</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Topaque</td></tr><tr ng-show=Options.selectedOptions.selection.standardDrinkList><td>Your Standard Drinks List</td></tr><tr ng-if=Options.shouldShowCoke()><td>A variety of Coca-Cola soft drinks</td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.snacks class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Snacks</div></div><table><thead><tr><th>Name</th><th class=actions>Quantity</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.snacks"><td ng-bind=item.name></td><td ng-bind=item.count class=actions></td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.parkingSpaces class=flex-center><div class=panel><div class=top-bar><div class=title>Parking</div></div><h1>{{Options.selectedOptions.selection.parkingSpaces}}</h1></div></div><br><div class=flex-center><div class=panel><div class=top-bar><div class=title>Details</div></div><div class=field><label>Instructions<textarea ng-model=Options.selectedOptions.selection.notes disabled></textarea></label></div><div class=field><label>Host Details<textarea ng-model=Options.selectedOptions.selection.host_details disabled></textarea></label></div><div class=field><label>Host can order additional items<input type=checkbox ng-model=Options.selectedOptions.selection.hostCanOrderAdditionalItems disabled></label></div></div></div></div><div ng-if=!Options.selectedOptions.is_attending class=panel><div class=top-bar><div ng-bind=Options.selectedOptions.company.friendly_name class=title></div></div><br><p ng-bind=Options.selectedOptions.event_date.event_name></p><br><p class=bold>This event has been marked as not attending.</p></div></div>')}]),angular.module("auditing/events",[]).run(["$templateCache",function($templateCache){$templateCache.put("auditing/events",'<div class=panel><div ng-if="Auth.currentUser.company.company_type == \'venue\'" class=toolbar><div class=filters><div class="field search"><input type=text placeholder="Client / Event Name" ng-change=updateFilter() ng-model=$parent.filterValue autofocus></div></div></div><table><thead><tr><th>ID</th><th class=time>Date Confirmed</th><th>Name</th><th>Start Time</th><th>Facility Name</th><th ng-if="Auth.currentUser.company.company_type ==\'venue\'">Client Name</th><th ng-if="Auth.currentUser.company.company_type ==\'venue\'">Reminders</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="event in data | filterMultiple:filterModel | orderBy:\'event_date.start\'" ng-class="!event.is_attending &amp;&amp; \'red\'"><td ng-bind=$index></td><td ng-bind="event.created_at | date" class=time></td><td><span ng-bind=event.event_date.event_name></span></td><td><span ng-bind="event.event_date.start | amDateFormat: \'D\'"></span><sup ng-bind="event.event_date.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="event.event_date.start | amDateFormat: \' MMM YYYY\'"></span><div ng-bind="event.event_date.start | amDateFormat: \'h:mm a\'" class=time></div></td><td ng-bind=event.facility_name></td><td ng-if="Auth.currentUser.company.company_type ==\'venue\'" ng-bind=event.company.name></td><td ng-if="Auth.currentUser.company.company_type ==\'venue\'"><div ng-if="event.company.ticket_type == \'hard\'" class=field><label>Hard Tickets Sent<input type=checkbox ng-model=event.data.hardTicketsSent ng-change=updateOption(event)></label></div><div ng-if=event.selection.parkingSpaces class=field><label>Parking Allocated<input type=checkbox ng-model=event.data.parkingAllocated ng-change=updateOption(event)></label></div></td><td class=actions><button ng-click=viewDetails(event) class="dark-accent outline small">View Details</button></td></tr></tbody></table></div>')
}]),angular.module("catering/_header_add",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/_header_add","<h1>New Company</h1>")}]),angular.module("catering/_header_main",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/_header_main","<h1>Catering Management</h1>")}]),angular.module("catering/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/add",'<div class=flex-center><div class="panel smallish"><fieldset><legend>Search By Email</legend><div class=field><input type=text placeholder=admin@company.com.au ng-model=email></div><div class="field right"><button ng-click=search(email) class=dark-accent>Search</button></div></fieldset></div></div>')}]),angular.module("catering/categories/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/categories/view",'<div class=toolbar><button ui-sref="authenticated.main.catering.menu.item.new({category_id: category.id})" class=dark-accent>Add Item</button></div><table><thead><tr><th>Name</th><th>Price</th></tr></thead><tbody><tr ng-repeat="item in category.menu_items"><td ng-bind=item.name></td><td>{{item.price_cents/100 | currency}}</td></tr></tbody></table>')}]),angular.module("catering/items/_header_index",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/items/_header_index","<h1>Menu Categories</h1>")}]),angular.module("catering/items/index",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/items/index",'<div class=toolbar><button ui-sref=authenticated.main.catering.menu.categories.new class=dark-accent>New Category</button></div><div ng-repeat="category in categories"><div ng-bind=category.name class=title></div><hr><div class="flex-panel-grid quad"><div ng-repeat="child in category.children" ui-sref=authenticated.main.catering.menu.category.view({id:child.id}) ng-class="child.items.length &gt; 0 &amp;&amp; \'paper-stack\'" class="category panel paper-stack"><div class=top-bar><div class=title><a ng-bind=child.name></a></div><div class=count>{{child.items.length}}</div></div></div><div class="category panel dashed">New Sub-Category</div></div></div>')}]),angular.module("catering/items/new",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/items/new",'<div class=flex-center><div class="panel smallish"><fieldset><legend>New Menu Item</legend><div class=field><input type=text placeholder="Item Name" ng-model=item.name autofocus></div><div class=field><textarea placeholder="Item Description" ng-model=item.description></textarea></div><div class=field><input type=text placeholder=Price min=0 ng-model=item.price money=money></div><div class="field right"><button ng-click=createItem(item) class=dark-accent>Create Item</button></div></fieldset></div></div>')}]),angular.module("catering/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/main","<div class=flex-container><div class=flex-container><div class=panel><div class=top-bar></div><button ui-sref=authenticated.main.catering.menu.category.index class=dark-accent>View Menu Items</button></div><div class=panel><div class=top-bar></div><button ui-sref=authenticated.main.catering.menu.new class=dark-accent>Build Menu</button></div></div></div>")}]),angular.module("catering/menus/new",[]).run(["$templateCache",function($templateCache){$templateCache.put("catering/menus/new",'<div class=flex-container><div id=menu-items-container class=flex-left><div class="panel smaller"><div class=top-bar><div class=title>Menu Items</div><input type=text placeholder=Search... ng-model=itemFilter></div><div id=menu-items-list><div ng-repeat="category in categories"><div ng-repeat="child in category.children"><div ng-repeat="item in child.menu_items | filter:itemFilter" ui-draggable=true drag=item class=menu-item><div class=inner-left><div ng-bind=item.name class=item-name></div><div ng-bind=item.description class=item-description></div></div><div class=inner-right><div ng-bind=child.name class=item-category></div></div></div></div></div></div></div></div><div id=menu-builder class=flex-right><div class=panel><div class=top-bar><div class=title>Menu Build</div><button ng-click=saveMenu() class="small dark-accent wider">Create Menu</button></div><div id=menu-builder-sections-list><div ui-draggable=true ng-repeat="section in menu.sections" ui-on-drop="addItemToSection(section, $event, $data)" class="menu-section dashed"><div class=field><input type=text autofocus placeholder="Section Name" ng-model=section.name></div><ol><li ng-repeat="item in section.items"><a ng-bind=item.name></a><input type=checkbox ng-model=item.data.drink></li></ol></div><button ng-click=addMenuSection() class=grey>Add Menu Section</button></div></div></div></div>')}]),angular.module("client-module/release_to_team_automate_invitations",[]).run(["$templateCache",function($templateCache){$templateCache.put("client-module/release_to_team_automate_invitations",'<div class=flex-center><div id=steps><div data-desc="Identify Class" class="step done">1</div><div data-desc="Allocate To Business Units" class="step done">2</div><div data-desc="Release Expiry" class="step done">3</div><div data-desc="Automate Invitation" class="step active">4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Automate Invitations</div></div><hr><div class=alert-info>Once a ticket is requested, and a guest email or mobile is captured, the system can automatically issue an invitation using your company’s logo or template. Once a connection is made with the guest we can then automate RSVP. Finally, guest information like a survey after the event or details around the guest’s favourite event or team can be requested and used for future development of this relationship.</div><form novalidate name=form><div class=field><select ng-model=event_class><option ng-value=circus>Yes</option><option value="" selected>No</option></select></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.release.releaseExpiry class=grey>Previous</button><button ng-disabled=form.$invalid class=dark-accent>Release</button></div></div></div></div>')}]),angular.module("client-module/release_to_team_business_unit",[]).run(["$templateCache",function($templateCache){$templateCache.put("client-module/release_to_team_business_unit",'<div class=flex-center><div id=steps><div data-desc="Identify Class" class="step done">1</div><div data-desc="Allocate To Business Units" class="step active">2</div><div data-desc="Release Expiry" class=step>3</div><div data-desc="Automate Invitation" class=step>4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Allocate To Business Units</div></div><hr><div class=alert-info>You can share tickets across your teams for fair allocations. Or choose ALL to simply allow “first in” access.</div><form novalidate name=form><div class="field large"><label>Marketing<input type=number required min=0 placeholder=0></label></div><div class="field large"><label>Sales<input type=number required min=0 placeholder=0></label></div><div class="field large"><label>Operations<input type=number required min=0 placeholder=0></label></div><div class="field large"><label>Administration<input type=number required min=0 placeholder=0></label></div><div class="field large"><label>All<input type=number required min=0 placeholder=0></label></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.release.identifyClass class=grey>Previous</button><button ui-sref=authenticated.main.inventory.release.releaseExpiry ng-disabled=form.$invalid class=dark-accent>Next</button></div></div></div></div>')}]),angular.module("client-module/release_to_team_class",[]).run(["$templateCache",function($templateCache){$templateCache.put("client-module/release_to_team_class",'<div class=flex-center><div id=steps><div data-desc="Identify Class" class="step active">1</div><div data-desc="Allocate To Business Units" class=step>2</div><div data-desc="Release Expiry" class=step>3</div><div data-desc="Automate Invitation" class=step>4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Event Class</div></div><hr><div class=alert-info>This identifies the class of a ticket. Only users at or above this class get access to these tickets to request.</div><form novalidate name=form><div class=field><select ng-model=event_class><option ng-value=circus>Class A</option><option ng-value=live_event>Class B</option><option ng-value=live_event>Class C</option><option ng-value=live_event>Class D</option><option selected value="">Select Event Class</option></select></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.release.allocateBusinessUnits ng-disabled=form.$invalid class=dark-accent>Next</button></div></div></div></div>')}]),angular.module("client-module/release_to_team_release_expiry",[]).run(["$templateCache",function($templateCache){$templateCache.put("client-module/release_to_team_release_expiry",'<div class=flex-center><div id=steps><div data-desc="Identify Class" class="step done">1</div><div data-desc="Allocate To Business Units" class="step done">2</div><div data-desc="Release Expiry" class="step active">3</div><div data-desc="Automate Invitation" class=step>4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Release Expiry</div></div><hr><div class=alert-info>Sometimes Tickets are not used. After a certain number of days you can release to other teams or to everyone if tickets are not in demand.</div><form novalidate name=form><div class=field><label>Number of days to remain available<input type=number required min=0 placeholder=0></label></div><div class=field><select ng-model=event_class><option ng-value=circus>Release to next class</option><option ng-value=live_event>Place back in allocation pool</option><option selected value="">Select Expiry Action</option></select></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.release.allocateBusinessUnits class=grey>Previous</button><button ui-sref=authenticated.main.inventory.release.automateInvitations ng-disabled=form.$invalid class=dark-accent>Next</button></div></div></div></div>')}]),angular.module("clients/_new_address",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/_new_address",'<div class=flex-center><div id=steps><div data-desc="Company Name" class="step done">1</div><div data-desc="Company Address" class="step active">2</div><div data-desc="Platform Config" class=step>3</div><div data-desc="Company Administrator" class=step>4</div></div></div><div class=flex-center><div class=panel><form novalidate name=form><div class=field><input type=text placeholder=Address ng-model=company.data.address1 required></div><div class=field><input type=text placeholder="Address 2" ng-model=company.data.address2></div><div class=inline-postcode><div class="suburb field"><input type=text placeholder=Suburb ng-model=company.data.suburb required></div><div class="postcode field"><input type=text placeholder=Postcode ng-model=company.data.postcode required ng-minlength=4 ng-maxlength=4 ng-pattern="/^\\d+$/"></div></div><div class=inline-state><div class="city field"><input type=text placeholder=City ng-model=company.data.city required></div><div class="state field"><select ng-model=company.data.state required><option value=NSW>New South Wales</option><option value=VIC>Victoria</option><option value=QLD>Queensland</option><option value=SA>South Australia</option><option value=WA>Western Australia</option><option value=ACT>Australian Capital Territory</option><option value=NT>Northern Territory</option><option value=TAS>Tasmania</option></select></div></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.clients.add.name class=grey>Previous</button><button ui-sref=authenticated.main.clients.add.config ng-disabled=address.$invalid class=dark-accent>Next</button></div></div></div></div>')}]),angular.module("clients/_new_admin",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/_new_admin",'<div class=flex-center><div id=steps><div data-desc="Company Name" class="step done">1</div><div data-desc="Company Address" class="step done">2</div><div data-desc="Platform Config" class="step done">3</div><div data-desc="Company Administrator" class="step active">4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Company Administrator</div></div><form name=admin novalidate><div class=field><input type=email placeholder=Email ng-model=admin.email></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.clients.add.config class=grey>Previous</button><button ng-click=save(company.data) ng-disabled=admin.$invalid class=dark-accent>Save</button></div></div></div></div>')}]),angular.module("clients/_new_config",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/_new_config",'<div class=flex-center><div id=steps><div data-desc="Company Name" class="step done">1</div><div data-desc="Company Address" class="step done">2</div><div data-desc="Platform Config" class="step active">3</div><div data-desc="Company Administrator" class=step>4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Platform Configuration</div></div><form><legend>Ticket Type</legend><div class=field><select ng-model=company.data.ticket_type><option value=ezyticket>EzyTicket</option><option value=hard>Hard Ticket</option><option value=digital>Digital Ticket</option></select></div><legend>Notifcations</legend><div class=field><label>Email<input type=checkbox ng-model=company.data.notify_email></label></div><div class=field><label>SMS<input type=checkbox ng-model=company.data.notify_sms></label></div><br><div class=right><button ui-sref=authenticated.main.clients.add.address class=grey>Previous</button><button ui-sref=authenticated.main.clients.add.admin class=dark-accent>Next</button></div></form></div></div>')}]),angular.module("clients/_new_facility_lease",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/_new_facility_lease",'<div class=flex-center><div id=steps><div data-desc="Company Name" class="step done">1</div><div data-desc="Company Address" class="step done">2</div><div data-desc="Company Config" class="step done">3</div><div data-desc="Company Administrator" class="step done">4</div><div data-desc="Facility Lease" class="step active">5</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Facility Lease</div></div><form novalidate name=form></form><br><div class=toolbar><div class="actions full"><button ng-click=createLease(lease) class=dark-accent>Create Lease</button></div></div></div></div>')}]),angular.module("clients/_new_name",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/_new_name",'<div class=flex-center><div id=steps><div data-desc="Company Name" class="step active">1</div><div data-desc="Company Address" class=step>2</div><div data-desc="Platform Config" class=step>3</div><div data-desc="Company Administrator" class=step>4</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>New Company</div></div><form novalidate name=form><div class=field><input type=text placeholder="Company Name" ng-model=company.data.name required ng-minlength=2></div><div class=inline-numbers><div class=field><input type=text placeholder=Phone ng-model=company.data.phone required ng-minlength=8 ng-pattern="/^\\d+$/"></div><div class=field><input type=text placeholder=Fax ng-model=company.data.fax></div></div></form><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.clients.add.address ng-disabled=form.$invalid class=dark-accent>Next</button></div></div></div></div>')}]),angular.module("clients/new",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/new","<div id=new-company ui-view=steps class=animate-form></div>")}]),angular.module("clients/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("clients/view","<div id=event-view><div class=row><div class=panel><div class=details><div class=top-bar><div ng-bind=company.data.name ng-if=company.data.name class=title></div><div class=actions><button ng-click=editCompany() class=\"small grey\">Edit</button></div></div><div class=info-pair><div class=lead>Address:</div><div class=data><div ng-bind=company.data.address1></div><div ng-bind=company.data.address2></div><div ng-bind=company.data.suburb></div><div ng-bind=company.data.city></div><div>{{ [company.data.state,company.data.postcode].join(' ') }}</div></div></div><div class=info-pair><div class=lead>Contact:</div><div class=data><div ng-bind=company.data.phone ng-if=company.data.phone class=icon-thin-321_phone_telephone_call_ringing></div><div ng-bind=company.data.fax ng-if=company.data.fax class=icon-thin-181_printer></div></div></div><div class=info-pair><div class=lead>Notifications:</div><div class=data><br><div class=info-pair><div class=lead>SMS</div><div ng-bind=\"company.data.notify_sms ? 'Enabled' : 'Disabled'\" class=data></div></div><div class=info-pair><div class=lead>Email</div><div ng-bind=\"company.data.notify_email ? 'Enabled' : 'Disabled'\" class=data></div></div></div></div><div class=info-pair><div class=lead>Modules:</div><div class=data><br><div class=info-pair><div class=lead>Guest</div><div ng-bind=\"company.data.guest_module ? 'Enabled' : 'Disabled'\" class=data></div></div></div></div><div class=info-pair><div class=lead>Misc:</div><div class=data><br><div class=info-pair><div class=lead>Ticket</div><div ng-bind=company.data.ticket_type class=data></div></div></div></div></div></div><div class=panel><div class=top-bar><div class=title>Leased Facilities</div><button ng-click=newLease() class=\"small grey wide\">New Lease</button></div><table><tbody><tr ng-repeat=\"lease in leases\"><td ng-bind=lease.data.facility.name></td><td><span ng-bind=\"lease.data.start | amDateFormat: 'D'\"></span><sup ng-bind=\"lease.data.start | amDateFormat: 'Do' | filterNumeric\"></sup><span ng-bind=\"lease.data.start | amDateFormat: ' MMMM YYYY'\"></span><div ng-bind=\"lease.data.start | amDateFormat: 'h:mm a'\" class=time></div></td><td><span ng-bind=\"lease.data.finish | amDateFormat: 'D'\"></span><sup ng-bind=\"lease.data.finish | amDateFormat: 'Do' | filterNumeric\"></sup><span ng-bind=\"lease.data.finish | amDateFormat: ' MMMM YYYY'\"></span><div ng-bind=\"lease.data.finish | amDateFormat: 'h:mm a'\" class=time></div></td><td class=actions><button ng-click=editLease(lease) class=\"small dark-accent outline\">Edit</button></td></tr></tbody></table></div></div></div>")}]),angular.module("companies/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/add",'<div ui-view=form class="flex-center animate-form"></div>')}]),angular.module("companies/addSearchResults",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/addSearchResults","<div class=panel><div ng-show=results class=employee-profile><i ng-show=\"results.minimalProfile.sex == 'Male'\" class=icon-thin-191_user_profile_avatar></i><i ng-show=\"results.minimalProfile.sex == 'Female'\" class=icon-thin-192_user_profile_avatar_female></i><div><div class=name>{{ results.minimalProfile.first_name + ' ' + results.minimalProfile.last_name}}</div><div ng-bind=results.minimalCompany.name></div></div><button ng-click=createRelationshipWithCompany(results.minimalCompany) class=\"outline dark-accent small\">Add Company</button></div></div>")}]),angular.module("companies/edit",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/edit",'<div class=tabbed-panel><form name=editForm novalidate><tabset><tab heading=Details><div class=field><input type=text placeholder="Company Name" ng-model=company.data.name required ng-minlength=2></div><div class=inline-numbers><div class=field><input type=text placeholder=Phone ng-model=company.data.phone required ng-minlength=8 ng-pattern="/^\\d+$/"></div><div class=field><input type=text placeholder=Fax ng-model=company.data.fax></div></div><div class=field><input type=text placeholder=Address ng-model=company.data.address1 required></div><div class=field><input type=text placeholder="Address 2" ng-model=company.data.address2></div><div class=inline-postcode><div class="suburb field"><input type=text placeholder=Suburb ng-model=company.data.suburb required></div><div class="postcode field"><input type=text placeholder=Postcode ng-model=company.data.postcode required ng-minlength=4 ng-maxlength=4 ng-pattern="/^\\d+$/"></div></div><div class=inline-state><div class="city field"><input type=text placeholder=City ng-model=company.data.city required></div><div class="state field"><select ng-model=company.data.state required><option value=NSW>New South Wales</option><option value=VIC>Victoria</option><option value=QLD>Queensland</option><option value=SA>South Australia</option><option value=WA>Western Australia</option><option value=ACT>Australian Capital Territory</option><option value=NT>Northern Territory</option><option value=TAS>Tasmania</option></select></div></div></tab><tab heading=Notifications><div class=field><label>Email<input type=checkbox ng-model=company.data.notify_email></label></div><div class=field><label>SMS<input type=checkbox ng-model=company.data.notify_sms></label></div></tab><tab heading="Platform Config"><legend>Ticket Type</legend><div class=field><select ng-model=company.data.ticket_type><option value=ezyticket>EzyTicket</option><option value=hard>Hard Ticket</option><option value=digital>Digital Ticket</option></select></div></tab></tabset></form><hr><div class=modal-footer><button ng-disabled=editForm.$invalid ng-click=save() class="dark-accent full">Save Changes</button></div></div>')}]),angular.module("companies/forms/address",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/forms/address",'<div class=field><input type=text placeholder=Address ng-model=company.data.address1 required></div><div class=field><input type=text placeholder="Address 2" ng-model=company.data.address2></div><div class=inline-postcode><div class="suburb field"><input type=text placeholder=Suburb ng-model=company.data.suburb required></div><div class="postcode field"><input type=text placeholder=Postcode ng-model=company.data.postcode required ng-minlength=4 ng-maxlength=4 ng-pattern="/^\\d+$/"></div></div><div class=inline-state><div class="city field"><input type=text placeholder=City ng-model=company.data.city required></div><div class="state field"><select ng-model=company.data.state required><option value=NSW>New South Wales</option><option value=VIC>Victoria</option><option value=QLD>Queensland</option><option value=SA>South Australia</option><option value=WA>Western Australia</option><option value=ACT>Australian Capital Territory</option><option value=NT>Northern Territory</option><option value=TAS>Tasmania</option></select></div></div>')}]),angular.module("companies/forms/config",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/forms/config","<legend>Ticket Type</legend><div class=field><select ng-model=company.data.ticket_type><option value=ezyticket>EzyTicket</option><option value=hard>Hard Ticket</option><option value=digital>Digital Ticket</option></select></div>")}]),angular.module("companies/forms/details",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/forms/details",'<div class=field><input type=text placeholder="Company Name" ng-model=company.data.name required ng-minlength=2></div><div class=inline-numbers><div class=field><input type=text placeholder=Phone ng-model=company.data.phone required ng-minlength=8 ng-pattern="/^\\d+$/"></div><div class=field><input type=text placeholder=Fax ng-model=company.data.fax></div></div>')}]),angular.module("companies/forms/notifications",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/forms/notifications","<div class=field><label>Email<input type=checkbox ng-model=company.data.notify_email></label></div><div class=field><label>SMS<input type=checkbox ng-model=company.data.notify_sms></label></div>")}]),angular.module("companies/index",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/index",'<div class=toolbar><div class=filters><div class="field search"><input type=text placeholder="Name or Email" ng-model=filterValue ng-change=updateFilter() autofocus></div></div><div class=actions><button ui-sref=authenticated.main.company.add.search class=dark-accent>Add Company</button></div></div><table><thead><tr><th>Name</th><th>Manager Email</th><th>Ticket Type</th><th class=actions>Actions</th></tr><tbody><tr ng-repeat="client in data | filter:filterModel"><td ng-bind=client.data.name></td><td ng-bind=client.data.manager.email></td><td ng-bind=client.data.ticket_type></td><td class=actions><button ng-click=viewCompany(client.data.id) class="small dark-accent outline">View</button></td></tr></tbody></thead></table>')}]),angular.module("companies/new",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/new","<div id=new-company ui-view=steps class=panel></div>")}]),angular.module("companies/searchByEmail",[]).run(["$templateCache",function($templateCache){$templateCache.put("companies/searchByEmail",'<div class=panel><fieldset><legend>Search By Email</legend><div class=field><input type=text placeholder=admin@company.com.au ng-model=email></div><div class="field right"><button ui-sref=authenticated.main.clients.add class=grey>Manually Add</button><button ng-click=search(email) class=dark-accent>Search</button></div></fieldset></div>')}]),angular.module("dashboard/_header_main",[]).run(["$templateCache",function($templateCache){$templateCache.put("dashboard/_header_main","<h1>Dashboard</h1>")}]),angular.module("dashboard/_modal_manual_ticket_create",[]).run(["$templateCache",function($templateCache){$templateCache.put("dashboard/_modal_manual_ticket_create",'<div class=tabbed-panel><form name=editForm novalidate><tabset><tab heading="Request From Ticketek"></tab><tab heading="Manually Create"><form name=form><div class=field><label>Event Name<input type=text disabled ng-model=inventory.event_name></label></div><div class=field><label>Client Name<input type=text disabled ng-model=inventory.client_name></label></div><div class=field><label>Event Date<input type=datetime disabled to-unix=to-unix ng-model=inventory.event_start></label></div><div class=field><label>Ticket Prefix<input type=text placeholder="e.g: 20140702-8313-" ng-model=ticketPrefix required></label></div><div class="field right"><button ng-click=createManual(ticketPrefix) ng-disabled="form.$invalid || inProgress" class=dark-accent>Create</button></div></form></tab></tabset></form></div>')}]),angular.module("dashboard/debug",[]).run(["$templateCache",function($templateCache){$templateCache.put("dashboard/debug",'<div class=toolbar></div><div class="form add"><form><div class=flex-left><div class=panel><fieldset><legend>Current Company Details</legend><div class=field><label>Company Name<input type=text disabled ng-model=Auth.currentUser.company.name></label></div><div class=field><label>Company Type<input type=text disabled ng-model=Auth.currentUser.company.type></label></div><div class=field><label>Company ID<input type=text disabled ng-model=Auth.currentUser.company.id></label></div></fieldset></div><div class=panel><div class=flex-toolbar><div class=title>Manual Ticketing</div><div class="field search"><input type=search placeholder=Search ng-model=filterModel autofocus></div></div><table><thead><tr><th></th><th>Client Name</th><th>Event Name</th><th>Event Date</th><th>Facility Name</th><th>Ticket Count</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="item in inventory | orderBy:\'event_date_id\':false | filter:filterModel:strict track by item.id" class=repeat-animation><td><input type=checkbox ng-model=item.done></td><td ng-bind=item.client_name></td><td ng-bind=item.event_name></td><td ng-bind="item.event_start | amDateFormat:\'DD/MM/YYYY h:mm a\'"></td><td ng-bind=item.facility_name></td><td ng-bind=item.ticket_count></td><td class=actions><button ng-click=createTickets(item) class="dark-accent small">Create Tickets</button></td></tr></tbody></table></div></div><div class=flex-right><div class=panel><fieldset><legend>Current User Permissions</legend></fieldset><div ng-repeat="(name, permission) in Auth.currentUser.permissions" class=field><label ng-bind=name></label><input type=text disabled ng-model=permission></div></div><div class=panel><fieldset><legend>User</legend><div class=field><label>Access Token</label><input type=text disabled ng-model=Auth.accessToken></div></fieldset></div></div></form></div>')}]),angular.module("dashboard/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("dashboard/main",'<div class=panel><iframe ng-if="Auth.currentUser.company.company_type == \'venue\'" src="https://public.tableausoftware.com/views/allphones-Bi/EventDashBoard?:showVizHome=no#5"></iframe></div>')}]),angular.module("employees/_add_employee",[]).run(["$templateCache",function($templateCache){$templateCache.put("employees/_add_employee",'<div class="panel smallish"><fieldset><legend>New Employee</legend><div class=field><input type=email placeholder=Email ng-model=employee.email autofocus></div><div class=field><select ng-model=employee.department_id><option value="" selected>Department (optional)</option></select></div><div class="field right"><button ng-click=createEmployee(employee) class=dark-accent>Create Employee</button></div></fieldset></div>')}]),angular.module("employees/_header_add",[]).run(["$templateCache",function($templateCache){$templateCache.put("employees/_header_add","<h1>New Employee</h1>")}]),angular.module("employees/_header_main",[]).run(["$templateCache",function($templateCache){$templateCache.put("employees/_header_main","<h1>Employee Management</h1>")}]),angular.module("employees/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("employees/add",'<div class="add employee"><div class=flex-center><div id=steps><div data-desc="User Creation" class="step active">1</div><div data-desc="Assign Rights" class=step>2</div></div></div><div ui-view=step class="flex-center animate-form"></div></div>')}]),angular.module("employees/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("employees/main",'<div class=toolbar></div><table><thead><tr><th>Name</th><th>Email</th><th>Department</th></tr></thead><tbody><tr ng-repeat="user in data"><td ng-bind="user.profile.first_name + \' \' +user.profile.last_name"></td><td ng-bind=user.email></td><td ng-bind=user.department.name></td></tr></tbody></table>')}]),angular.module("events/_header_main",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/_header_main","<h1>Event Management</h1>")}]),angular.module("events/_modal_add_event_date",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/_modal_add_event_date",'<div class=panel><div class=top-bar><div class=title>Event Date</div><h1 ng-bind=date.start></h1></div><div class=field><label>Start Date<input type=datetime-local ng-model=date.start_time></label></div><div class=field><label>Finish Date<input type=datetime-local ng-model=date.end_time></label></div><div class=field><label>Agenda<textarea placeholder="e.g: Dinner at 6pm, Dessert served in foyer at 9pm" ng-model=date.agenda></textarea></label></div><div class="field right"><button ng-click=save() class=dark-accent>Save Event Date</button></div></div>')
}]),angular.module("events/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/add",'<div class=panel><form name=form><legend>New Event</legend><div class=field><select ng-model=event.data.event_type autofocus><option value="">Select Event Type</option><option ng-value=circus>Circus</option><option ng-value=live_event>Live Event</option><option ng-value=sports>Sports</option><option ng-value=childrens_entertainment>Childrens Entertainment</option></select></div><div class=field><select ng-model=event.data.status required><option value="">Select Event Status</option><option ng-value="Coming Soon">Coming Soon</option><option ng-value=Open>Open</option><option ng-value="Closing Soon">Closing Soon</option><option ng-value=Closed>Closed</option></select></div><div class=field><input type=text ng-model=event.data.name placeholder=Name required></div><div class=field><textarea ng-model=event.data.description placeholder=Description required></textarea></div></form><hr><div class=modal-footer><button ng-disabled=form.$invalid ng-click=save(event) class="dark-accent full">Create Event</button></div></div>')}]),angular.module("events/add_date",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/add_date",'<div class=panel><form name=form><legend>New Date</legend><div class=field><label>Event Start<input type=datetime-local ng-model=date.data.start date-fix=date-fix to-unix=to-unix required></label></div><div class=field><label>Event Finish<input type=datetime-local ng-model=date.data.finish date-fix=date-fix to-unix=to-unix required></label></div></form><hr><div class=modal-footer><button ng-disabled=form.$invalid ng-click=save(event) class="dark-accent full">Create Date</button></div></div>')}]),angular.module("events/add_event",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/add_event",'<div class=panel><fieldset><legend>New Event</legend><div class=field><input type=text placeholder="Event Name" ng-model=event.name autofocus></div><div class=field><textarea placeholder="Event Description" ng-model=event.description></textarea></div><div class=field><select ng-model=event.type><option ng-value=circus>Circus</option><option ng-value=live_event>Live Event</option><option>Foo Bar</option></select></div><div class="field right"><button ng-click=createEvent(event) class=dark-accent>Create Event</button></div></fieldset></div>')}]),angular.module("events/client_index",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/client_index",'<wdiv class=toolbar></wdiv><div class=panel><div class=top-bar><div class=title>Released Inventory</div></div><table><thead><tr><th>Name</th><th>Type</th><th>Status</th><th>Start Time</th><th>Venue</th><th>Facility Name</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="event in data | orderBy:\'event_start\'" ng-class="event.completed &amp;&amp; \'green\'"><td><span ng-bind=event.event_name></span><span ng-click=openFile(event.inventory_options.menu_file) ng-if=event.inventory_options.menu_file class=menu-exists>M</span><span ng-click=openFile(event.inventory_options.agenda_file) ng-if=event.inventory_options.agenda_file class=agenda-exists>A</span><span ui-sref=authenticated.main.tickets.index class=tickets-exist>T</span></td><td ng-bind=event.event_type></td><td ng-bind=event.event_status></td><td><span ng-bind="event.event_start | amDateFormat: \'D\'"></span><sup ng-bind="event.event_start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="event.event_start | amDateFormat: \' MMM YYYY\'"></span><div ng-bind="event.event_start | amDateFormat: \'h:mm a\'" class=time></div></td><td ng-bind=event.venue_name></td><td ng-bind=event.facility_name></td><td class="actions block"><button ng-if=event.is_confirmed class="small green-confirmed"><i class=icon-thin-254_check_ok_done_success></i>Confirmed</button><button ng-if="event.event_status == \'Closed\'" tooltip="This event is marked as closed, Please contact the venue if you need any changes made to this event" class="small red-confirmed">Closed</button><div ng-if="event.event_status != \'Closed\'"><button ng-if=event.is_confirmed ng-click=reconfirmOption(event) tooltip="Clicking this button will void your old confirmation. You will need to confirm your attendance again." class="small dark-accent">Replace Order</button><button ui-sref="authenticated.main.inventory.confirmOptions({id: event.id})" ng-if="!event.is_confirmed &amp;&amp; event.event_status !=\'Coming Soon\'" class="small dark-accent">Confirm Attendance</button></div><button ng-click=confirmGuests(event.id) ng-if=event.is_confirmed class="small dark-accent">Guest List</button><button ui-sref="authenticated.main.inventory.release.identifyClass({id: event.id})" class="small dark-accent">Release To Team</button></td></tr></tbody></table></div><br><hr><div class=panel><div class=top-bar><div class=title>Upcoming Events</div></div><table><thead><tr><th>Name</th><th>Type</th><th>Start Time</th><th>Time Until Event</th><th>Number Of Events</th><th>Venue Name</th></tr></thead><tbody><tr ng-repeat="event in upcomingEvents | orderBy:\'first_event_date\':false"><td ng-bind=event.name></td><td ng-bind=event.event_type></td><td><div ng-bind="event.first_event_date | amDateFormat: \'h:mm a\'" class=time></div><span ng-bind="event.first_event_date | amDateFormat: \'dddd D\'"></span><sup ng-bind="event.first_event_date | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="event.first_event_date | amDateFormat: \' of MMMM YYYY\'"></span></td><td am-time-ago=event.first_event_date></td><td ng-bind=event.event_dates_count></td><td ng-bind=event.venue_name></td></tr></tbody></table></div>')}]),angular.module("events/edit",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/edit",'<div class=tabbed-panel><form name=editForm novalidate><tabset><tab heading=Details><div class=field><select ng-model=event.data.event_type autofocus><option value="">Select Event Type</option><option ng-value=circus>Circus</option><option ng-value=live_event>Live Event</option><option ng-value=sports>Sports</option><option ng-value=childrens_entertainment>Childrens Entertainment</option></select></div><div class=field><select ng-model=event.data.status required><option value="">Select Event Status</option><option ng-value="Coming Soon">Coming Soon</option><option ng-value=Open>Open</option><option ng-value="Closing Soon">Closing Soon</option><option ng-value=Closed>Closed</option></select></div><div class=field><input type=text ng-model=event.data.name placeholder=Name required></div><div class=field><textarea ng-model=event.data.description placeholder=Description required></textarea></div></tab><tab heading="Event Control"><form><div class="field pfix"><label>Send reminder to clients who haven\'t confirmed yet</label><input type=number placeholder=0><span class=postfix>Workdays Before Event</span></div><div class="field pfix"><label>Change event status to closed</label><input type=number placeholder=0><span class=postfix>Workdays Before Event</span></div></form></tab></tabset></form><hr><div class=modal-footer><button ng-disabled=editForm.$invalid ng-click=save(event) class="dark-accent full">Save Changes</button></div></div>')}]),angular.module("events/edit_date",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/edit_date",'<div class=tabbed-panel><form name=editForm novalidate><tabset><tab heading=Date><div class=field><label>Event Start<input type=datetime-local ng-model=date.data.start date-fix=date-fix to-unix=to-unix required></label></div><div class=field><label>Event Finish<input type=datetime-local ng-model=date.data.finish date-fix=date-fix to-unix=to-unix required></label></div></tab><tab heading=Attachments><form><div class=field><label>Event Agenda<input type=file></label></div><div class=field><label>Event Menu<input type=file></label></div><div class=field><label>Event Image<input type=file></label></div></form></tab><tab heading=Ticketing><form><div class=field><label>Ticketek Event Code<input type=text placeholder="e.g: ESDS20140428"></label></div><div class=field><label>Release tickets when available<input type=checkbox checked></label></div></form></tab></tabset></form><hr><div class=modal-footer><button ng-disabled=editForm.$invalid ng-click=save(event) class="dark-accent full">Save Date</button></div></div>')}]),angular.module("events/forms/attachments",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/forms/attachments","<div class=field><label>Event Agenda<input type=file></label></div><div class=field><label>Event Menu<input type=file></label></div><div class=field><label>Event Image<input type=file></label></div>")}]),angular.module("events/forms/control",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/forms/control",'<div class="field pfix"><label>Send reminder to clients who haven\'t confirmed yet</label><input type=number placeholder=0><span class=postfix>Workdays Before Event</span></div><div class="field pfix"><label>Change event status to closed</label><input type=number placeholder=0><span class=postfix>Workdays Before Event</span></div>')}]),angular.module("events/forms/date",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/forms/date","<div class=field><label>Event Start<input type=datetime-local ng-model=date.data.start date-fix=date-fix to-unix=to-unix required></label></div><div class=field><label>Event Finish<input type=datetime-local ng-model=date.data.finish date-fix=date-fix to-unix=to-unix required></label></div>")}]),angular.module("events/forms/event",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/forms/event",'<div class=field><select ng-model=event.data.event_type autofocus><option value="">Select Event Type</option><option ng-value=circus>Circus</option><option ng-value=live_event>Live Event</option><option ng-value=sports>Sports</option><option ng-value=childrens_entertainment>Childrens Entertainment</option></select></div><div class=field><select ng-model=event.data.status required><option value="">Select Event Status</option><option ng-value="Coming Soon">Coming Soon</option><option ng-value=Open>Open</option><option ng-value="Closing Soon">Closing Soon</option><option ng-value=Closed>Closed</option></select></div><div class=field><input type=text ng-model=event.data.name placeholder=Name required></div><div class=field><textarea ng-model=event.data.description placeholder=Description required></textarea></div>')}]),angular.module("events/forms/ticketing",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/forms/ticketing",'<div class=field><label>Ticketek Event Code<input type=text placeholder="e.g: ESDS20140428"></label></div><div class=field><label>Release tickets when available<input type=checkbox checked></label></div>')}]),angular.module("events/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/main",'<div class=toolbar><div class=filters><div class="field search"><input type=text placeholder=Search ng-model=filterModel.data.name autofocus><label><input type=checkbox ng-change=toggleShowUpcomingOnly() ng-model=upcomingOnly>Show only upcoming events</label><select ng-model=event_type ng-options="t.value as t.caption for t in event_types"></select></div></div><div class=actions><button ng-click=newEvent() class=dark-accent>Add Event</button></div></div><table><thead><tr><th>Name</th><th>Type</th><th>First Event Date</th><th>Time Until Event</th><th>Status</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="event in data | orderBy:\'data.first_event_date\':false | filter:filterModel:strict"><td ng-bind=event.data.name></td><td ng-bind=event.data.event_type></td><td><div ng-bind="event.data.first_event_date | amDateFormat: \'h:mm a\'" class=time></div><span ng-bind="event.data.first_event_date | amDateFormat: \'dddd D\'"></span><sup ng-bind="event.data.first_event_date | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="event.data.first_event_date | amDateFormat: \' of MMMM YYYY\'"></span></td><td am-time-ago=event.data.first_event_date></td><td ng-bind=event.data.status></td><td class=actions><button ui-sref="authenticated.main.event.view({event_id: event.data.id})" class="small dark-accent">View</button></td></tr></tbody></table>')}]),angular.module("events/release",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/release",'<div class=toolbar><button ng-click=releaseToInventory() class=dark-accent>Release To Inventory</button></div><table><thead><tr><th><input type=checkbox ng-change=toggleSelectAll() ng-model=allSelected></th><th>Company Name</th><th>Facility Name</th></tr></thead><tbody><tr ng-repeat="item in data"><td><input type=checkbox ng-model=item.selected></td><td ng-bind=item.company_name></td><td ng-bind=item.facility_name></td></tr></tbody></table>')}]),angular.module("events/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("events/view",'<div id=event-view><div class=row><div class=panel><div class=details><div class=top-bar><div ng-bind=event.data.name ng-if=event.data.name class=title></div><div class=actions><button ng-click=editEvent() class="small grey">Edit</button></div></div><div class=info-pair><div class=lead>Type</div><div class=data><div ng-bind=event.data.event_type></div></div></div><div class=info-pair><div class=lead>Status</div><div class=data><div ng-bind=event.data.status></div></div></div><div class=info-pair><div class=lead>Description</div><div class=data><div ng-bind=event.data.description></div></div></div><div class=info-pair><div class=lead>Agenda</div><div class=data><div ng-bind=event.data.agenda></div></div></div></div></div><div class=panel><div class=top-bar><div class=title>Event Dates</div><button ng-click=newEventDate() class="small grey wide">New Date</button></div><table><tbody><tr ng-repeat="date in dates"><td ng-bind=date.data.facility.name></td><td><span ng-bind="date.data.start | amDateFormat: \'D\'"></span><sup ng-bind="date.data.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="date.data.start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="date.data.start | amDateFormat: \'h:mm a\'" class=time></div></td><td><span ng-bind="date.data.finish | amDateFormat: \'D\'"></span><sup ng-bind="date.data.finish | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="date.data.finish | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="date.data.finish | amDateFormat: \'h:mm a\'" class=time></div></td><td class=actions><button ng-click=editDate(date) class="small dark-accent outline">Edit</button><button ng-click=releaseDate(date) class="small dark-accent outline">Release</button></td></tr></tbody></table></div></div></div>')}]),angular.module("facilities/_header_add",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/_header_add","<h1>New Facility</h1>")}]),angular.module("facilities/_header_main",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/_header_main","<h1>Facility Management</h1>")}]),angular.module("facilities/_header_view",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/_header_view","<h1 ng-bind=facility.name></h1>")}]),angular.module("facilities/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/add",'<div class="add facility"><div class=flex-center><div id=steps><div data-desc="Facility Creation" class="step active">1</div><div data-desc="Assign Facilities" class=step>2</div></div></div><div ui-view=step class="flex-center animate-form"></div></div>')}]),angular.module("facilities/add_facility",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/add_facility",'<div class=panel><fieldset><legend>New Facility</legend><div class=field><select ng-model=facility.type><option value="" selected>Facility Type</option><option value=Suite>Suite</option><option value=Parking>Parking</option></select></div><div class=field><input type=text placeholder="Facility Name" ng-model=facility.name autofocus></div><div class=field><input type=number placeholder="Facility Capacity" ng-model=facility.capacity min=0></div><div class="field right"><button ng-click=createFacility(facility) class=dark-accent>Create Facility</button></div></fieldset></div>')}]),angular.module("facilities/edit",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/edit",'<div class=panel><div class=top-bar><div class=title>Edit Facility</div></div><form name=form novalidate><div class=field><select ng-model=facility.data.facility_type required><option value="" selected>Facility Type</option><option value=Suite>Suite</option></select></div><div class=field><input type=text placeholder=Name ng-model=facility.data.name autofocus required></div><div class=field><input type=text placeholder=Capacity ng-model=facility.data.capacity ng-pattern="/^\\d+$/" required></div><div class="field right"><button ng-click=save(facility) ng-disabled=form.$invalid class=dark-accent>Save</button></div></form></div>')}]),angular.module("facilities/edit_lease",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/edit_lease",'<div class=panel><form name=leaseForm><div class=title>Edit Lease</div><div class=field><select ng-model=lease.data.company_id ng-options="client.data.id as client.data.name for client in companies" ng-if=companies required></select></div><div class=field><select ng-model=lease.data.facility_id ng-options="facility.data.id as facility.data.name for facility in facilities" ng-if=facilities required></select></div><div class=field><input type=datetime-local placeholder="Start Date" ng-model=lease.data.start date-fix=date-fix to-unix=to-unix required></div><div class=field><input type=datetime-local placeholder="End Date" ng-model=lease.data.finish date-fix=date-fix to-unix=to-unix required></div><div class=field><label>Enabled<input type=checkbox ng-model=lease.data.is_enabled></label></div><div class="field right"><button ng-click=save() ng-disabled=leaseForm.$invalid class=dark-accent>Save Lease</button></div></form></div>')}]),angular.module("facilities/forms/facility",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/forms/facility",'<form name=form novalidate><div class=field><select ng-model=facility.data.facility_type required><option value="" selected>Facility Type</option><option value=Suite>Suite</option></select></div><div class=field><input type=text placeholder=Name ng-model=facility.data.name autofocus required></div><div class=field><input type=text placeholder=Capacity ng-model=facility.data.capacity ng-pattern="/^\\d+$/" required></div><div class="field right"><button ng-click=save(facility) ng-disabled=form.$invalid class=dark-accent>Save</button></div></form>')}]),angular.module("facilities/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/main",'<div class=toolbar><div class=filters><div class="field search"><input type=text placeholder="Name or Company" ng-model=filterValue ng-change=updateFilter() autofocus></div></div><div class=actions><button ng-click=newFacility() class=dark-accent>Add Facility</button></div></div><table><thead><tr><th>Name</th><th>Type</th><th>Capacity</th><th class=actions>Company</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="facility in data | filter:filterModel"><td ng-bind=facility.data.name></td><td ng-bind=facility.data.facility_type></td><td ng-bind=facility.data.capacity></td><td ng-bind=facility.data.current_leasee_name class=actions></td><td class=actions><button ui-sref="authenticated.main.facility.view({facility_id: facility.data.id})" class="small dark-accent">View</button></td></tr></tbody></table>')}]),angular.module("facilities/new",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/new",'<div class=panel><div class=top-bar><div class=title>New Facility</div></div><form name=form novalidate><div class=field><select ng-model=facility.data.facility_type required><option value="" selected>Facility Type</option><option value=Suite>Suite</option></select></div><div class=field><input type=text placeholder=Name ng-model=facility.data.name autofocus required></div><div class=field><input type=text placeholder=Capacity ng-model=facility.data.capacity ng-pattern="/^\\d+$/" required></div><div class="field right"><button ng-click=save(facility) ng-disabled=form.$invalid class=dark-accent>Save</button></div></form></div>')}]),angular.module("facilities/new_lease",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/new_lease",'<div class=panel><form name=leaseForm><div class=title>New Lease</div><div class=field><select ng-model=lease.data.company_id ng-options="client.data.id as client.data.name for client in companies" ng-if=companies required></select></div><div class=field><select ng-model=lease.data.facility_id ng-options="facility.data.id as facility.data.name for facility in facilities" ng-if=facilities required></select></div><div class=field><input type=datetime-local placeholder="Start Date" ng-model=lease.data.start date-fix=date-fix to-unix=to-unix required></div><div class=field><input type=datetime-local placeholder="End Date" ng-model=lease.data.finish date-fix=date-fix to-unix=to-unix required></div><div class="field right"><button ng-click=save() ng-disabled=leaseForm.$invalid class=dark-accent>Create Lease</button></div></form></div>')}]),angular.module("facilities/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("facilities/view",'<div id=event-view><div class=row><div class=panel><div class=details><div class=top-bar><div ng-bind=facility.data.name class=title></div><div class=actions><button ng-click=editFacility() class="small grey">Edit</button></div></div><div class=info-pair><div class=lead>Capacity:</div><div class=data><div ng-bind=facility.data.capacity></div></div></div><div class=info-pair><div class=lead>Type:</div><div class=data><div ng-bind=facility.data.facility_type></div></div></div></div></div><div class=panel><div class=top-bar><div class=title>Facility Leases</div><button ng-click=newLease() class="small grey wide">New Lease</button></div><table><tbody><tr ng-repeat="lease in leases"><td ng-bind=lease.data.company.name></td><td><span ng-bind="lease.data.start | amDateFormat: \'D\'"></span><sup ng-bind="lease.data.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="lease.data.start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="lease.data.start | amDateFormat: \'h:mm a\'" class=time></div></td><td><span ng-bind="lease.data.finish | amDateFormat: \'D\'"></span><sup ng-bind="lease.data.finish | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="lease.data.finish | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="lease.data.finish | amDateFormat: \'h:mm a\'" class=time></div></td><td class=actions><button ng-click=editLease(lease) class="small dark-accent outline">Edit</button></td></tr></tbody></table></div></div></div>')}]),angular.module("inventory/_modal_drinksChoices",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/_modal_drinksChoices",'<div class=panel><div class=top-bar><div class=title>Beverages Package</div></div><div class=field><label><input type=checkbox ng-model=Options.selectedOptions.selection.foodBeveragePairing>Include Wine & Beer pairings to compliment menu selection</label></div><div class=field><label><input type=checkbox ng-model=Options.selectedOptions.selection.dessertWinePairing>Include Baileys of Glenrowan Fortified Founder Series wines with dessert</label></div><div class="field right"><button ng-click=next() class=dark-accent>Next</button></div></div>')}]),angular.module("inventory/_modal_guest_names",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/_modal_guest_names",'<div class=panel><div class=top-bar><div class=title>Guest Names</div></div><p style="margin-bottom: 1em; font-size:0.8em; color: #555">If no guest data currently exists, just click save</p><form name=form novalidate><div ng-repeat="guest in guestList" class=field><input type=text placeholder="Guest Name" autofocus ng-model=guest.name></div><div class="field right"><button ng-click=addNewGuestName() class="grey outline"><i class=icon-thin-251_plus_add></i><span>Add Guest Name</span></button></div></form><hr><div class=modal-footer><button ng-click=save() class="dark-accent full">Save</button></div></div>')}]),angular.module("inventory/_modal_snack_conditions",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/_modal_snack_conditions",'<div class=panel><div class=top-bar><div class=title>Snack Conditions</div></div><p>A minimum order of 4 platters applies when ordering from the snack menu (excluding crisps, tea & coffee service, cupcakes, birthday cakes & ice creams)</p><br><p>Service charge applicable to all snack menus: Monday to Saturday + $250, Sunday & Public Holidays +$300</p><hr><div class="field right"><button ng-click=$close() class=dark-accent>Accept</button></div></div>')}]),angular.module("inventory/add",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/add","<div class=flex-center><div class=panel><div class=top-bar><div class=title>Foo</div></div></div></div>")}]),angular.module("inventory/confirm_attendance",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_attendance",'<div class=flex-center><div class=panel><div class=top-bar><div class="title big">Confirm your attendance</div></div><hr><div class=details><div class=flex-left><img src=/{{details.event_data.file_name}}></div><div class=flex-right><div class=pairing><div class=title>Event Name</div><div ng-bind=details.event_name class=desc></div></div><div class=pairing><div class=title>Event Date</div><div class=desc><span ng-bind="details.start | amDateFormat: \'D\'"></span><sup ng-bind="details.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="details.start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="details.start | amDateFormat: \'h:mm a\'" class=time></div></div></div></div></div><div class=inner-align-right><button ng-click=notComing() class=grey>Not this time</button><button ui-sref=authenticated.main.inventory.confirmOptions.menu class=dark-accent>Yes</button></div></div></div>')}]),angular.module("inventory/confirm_drinks",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_drinks",'<div class=flex-center><div id=steps><div data-desc=Menu class="step done">1</div><div data-desc=Drinks class="step active">2</div><div data-desc=Snacks class=step>3</div><div data-desc=Parking class=step>4</div><div data-desc=Details class=step>5</div><div data-desc="Final Review" class=step>6</div></div></div><div class=toolbar><div class="actions full"><button ng-click=wantStandardDrinksMenu() tooltip="This button confirms a standard drinks order, if selected we will provide drinks to your suite" class=grey>Just Our Standard Drinks Order</button><button ui-sref=authenticated.main.inventory.confirmOptions.menu class=grey>Previous</button><button ng-click=goToSnackSelection() class=dark-accent>Next</button></div></div><div id=drinksGrid><div ng-repeat="section in Options.drinks.sections"><div ng-bind=section.name class=title></div><span ng-if=section.description ng-bind=section.description></span><hr><div class="flex-panel-grid quad"><div ng-repeat="item in section.items" class="category panel"><div class=flex><div ng-bind=item.name class=heading></div><i ng-click=openModalForItemImage(item) ng-if=item.data.image class=icon-thin-368_photo_image_camera_take_shot></i></div><div ng-bind=item.description class=description></div><br><div style="text-align: center" class=price>{{ item.price_cents / 100 | currency }}</div><br><div class=buttons><button ng-click=confirmDrink(item) ng-show=!item.requested class="grey small">Request</button><button ng-click=unConfirmDrink(item) ng-show=item.requested class="dark-accent small">Un-Request</button></div></div></div></div></div><hr><div class=toolbar><div class="actions full"><button ng-click=wantStandardDrinksMenu() tooltip="This button confirms a standard drinks order, if selected we will provide drinks to your suite" class=grey>Just Our Standard Drinks Order</button><button ui-sref=authenticated.main.inventory.confirmOptions.menu class=grey>Previous</button><button ng-click=goToSnackSelection() class=dark-accent>Next</button></div></div>')}]),angular.module("inventory/confirm_host_details",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_host_details",'<div class=flex-center><div id=steps><div data-desc=Menu class="step done">1</div><div data-desc=Drinks class="step done">2</div><div data-desc=Snacks class="step done">3</div><div data-desc=Parking class="step done">4</div><div data-desc=Details class="step active">5</div><div data-desc="Final Review" class=step>6</div></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Event Specific Details</div></div><form name=form novalidate><div class=field><label>Instructions<textarea placeholder="e.g: No peanuts / Needs disabled access" ng-model=Options.selectedOptions.selection.notes></textarea></label></div><div class=field><label>Host Details<textarea placeholder="John Smith, 0418 277 332" ng-model=Options.selectedOptions.selection.host_details required></textarea></label></div><div class=field><label>Host can order additional items<input type=checkbox ng-model=Options.selectedOptions.selection.hostCanOrderAdditionalItems></label></div><div class="field right"><button ui-sref=authenticated.main.inventory.confirmOptions.parking class=grey>Previous</button><button ng-click=buildOptions() ng-disabled=form.$invalid class=dark-accent>Next</button></div></form></div></div>')}]),angular.module("inventory/confirm_menu",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_menu",'<div class=flex-center><div id=steps><div data-desc=Menu class="step active">1</div><div data-desc=Snacks class=step>2</div><div data-desc=Drinks class=step>3</div><div data-desc=Parking class=step>4</div><div data-desc=Details class=step>5</div><div data-desc="Final Review" class=step>6</div></div></div><div class="flex-container menu-selection"><div ng-repeat="menu in Options.menus" ng-click=selectMenu(menu) class="panel menu"><div class=top-bar><div ng-bind=menu.name class=title></div></div><div class=menu-item-listing><div ng-repeat="section in menu.sections" class=menu-section><div ng-bind=section.name class=section-title></div><div ng-repeat="item in section.items" ng-class="item.drink &amp;&amp; \'highlighted\'" class=menu-item><a ng-bind=item.name></a></div></div></div><div class=bottom-bar><div class=title>{{menu.price_cents / 100 | currency }} per person</div></div></div></div><br><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.confirmOptions.drinks class=grey>No Thanks</button></div></div>')}]),angular.module("inventory/confirm_options",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_options","<div ui-view=step class=animate-fade></div>")}]),angular.module("inventory/confirm_parking",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_parking",'<div class=flex-center><div id=steps><div data-desc=Menu class="step done">1</div><div data-desc=Drinks class="step done">2</div><div data-desc=Snacks class="step done">3</div><div data-desc=Parking class="step active">4</div><div data-desc=Details class=step>5</div><div data-desc="Final Review" class=step>6</div></div></div><div class=flex-center><div id=parking class=panel><div class=top-bar><div class=title>P1 Prepaid Parking Requests</div></div><div class=field><input type=text placeholder=0 ng-model=Options.selectedOptions.selection.parkingSpaces></div><small>$25 per parking space</small></div></div><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.confirmOptions.snacks class=grey>Previous</button><button ui-sref=authenticated.main.inventory.confirmOptions.details class=dark-accent>Next</button></div></div>')
}]),angular.module("inventory/confirm_review",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_review",'<div id=reviewInventoryOptions><div class=flex-center><div id=steps><div data-desc=Menu class="step done">1</div><div data-desc=Drinks class="step done">2</div><div data-desc=Snacks class="step done">3</div><div data-desc=Parking class="step done">4</div><div data-desc=Details class="step done">5</div><div data-desc="Final Review" class="step active">6</div></div></div><div ng-if=Options.selectedOptions.selection.menu class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Menu</div></div><h1 ng-bind=Options.selectedOptions.selection.menu.name></h1></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Additional Beverages</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.drinks"><td ng-bind=item.name></td></tr></tbody></table><br><div class=top-bar><div class=title>Wine, Beer and Pairings</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Devil’s Lair The Hidden Cave Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Redback Original</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Beez Neez</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Saltram 1859 Shiraz</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Muscat</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Topaque</td></tr><tr ng-show=Options.selectedOptions.selection.standardDrinkList><td>Your Standard Drinks List</td></tr><tr ng-if=Options.shouldShowCoke()><td>A variety of Coca-Cola soft drinks</td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.snacks class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Snacks</div></div><table><thead><tr><th>Name</th><th class=actions>Quantity</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.snacks"><td ng-bind=item.name></td><td ng-bind=item.count class=actions></td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.parkingSpaces class=flex-center><div class=panel><div class=top-bar><div class=title>Parking</div></div><h1>{{Options.selectedOptions.selection.parkingSpaces}}</h1></div></div><br><div class=flex-center><div class=panel><div class=top-bar><div class=title>Details</div></div><div class=field><label>Instructions<textarea ng-model=Options.selectedOptions.selection.notes disabled></textarea></label></div><div class=field><label>Host Details<textarea ng-model=Options.selectedOptions.selection.host_details disabled></textarea></label></div><div class=field><label>Host can order additional items<input type=checkbox ng-model=Options.selectedOptions.selection.hostCanOrderAdditionalItems disabled></label></div></div></div><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.confirmOptions.details class=grey>Previous</button><button ng-click=confirmChoices() ng-bind=confirmButtonText ng-disabled=confirmButtonDisabled class=dark-accent></button></div></div></div>')}]),angular.module("inventory/confirm_snacks",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/confirm_snacks",'<div class=flex-center><div id=steps><div data-desc=Menu class="step done">1</div><div data-desc=Drinks class="step done">2</div><div data-desc=Snacks class="step active">3</div><div data-desc=Parking class=step>4</div><div data-desc=Details class=step>5</div><div data-desc="Final Review" class=step>6</div></div></div><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.confirmOptions.drinks class=grey>Previous</button><button ui-sref=authenticated.main.inventory.confirmOptions.parking class=dark-accent>Next</button></div></div><div id=snacksGrid><div ng-repeat="section in Options.snacks.sections"><div ng-bind=section.name class=title></div><hr><div class="flex-panel-grid quad"><div ng-repeat="snack in section.items" class="category panel"><div ng-bind=snack.name class=heading></div><div ng-bind=snack.description class=description></div><br><div class=price>{{ snack.price_cents / 100 | currency }}</div><br><div class=field><input type=number min=0 placeholder=0 ng-model=snack.count></div><div class=buttons><button ng-click=decrement(snack) ng-disabled="snack.count === 0" class="grey small wide">-</button><button ng-click=increment(snack) class="grey small wide">+</button></div></div></div></div></div><hr><div class=toolbar><div class="actions full"><button ui-sref=authenticated.main.inventory.confirmOptions.drinks class=grey>Previous</button><button ui-sref=authenticated.main.inventory.confirmOptions.parking class=dark-accent>Next</button></div></div>')}]),angular.module("inventory/shared/review",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory/shared/review",'<div ng-if=Options.selectedOptions.selection.menu class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Menu</div></div><h1 ng-bind=Options.selectedOptions.selection.menu.name></h1></div></div><div class=flex-center><div class=panel><div class=top-bar><div class=title>Additional Beverages</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.drinks"><td ng-bind=item.name></td></tr></tbody></table><br><div class=top-bar><div class=title>Wine, Beer and Pairings</div></div><table><thead><tr><th>Name</th></tr></thead><tbody><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Devil’s Lair The Hidden Cave Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Redback Original</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu One\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Beez Neez</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.selectedOptions.selection.menu.name == \'Menu Two\' &amp;&amp; !Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Matilda Bay Fat Yak Pale Ale</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Saltram 1859 Shiraz</td></tr><tr ng-show="Options.selectedOptions.selection.foodBeveragePairing &amp;&amp; Options.iceHockey"><td>Rosemount Estate District Release Chardonnay</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Muscat</td></tr><tr ng-show=Options.selectedOptions.selection.dessertWinePairing><td>Baileys of Glenrowan Fortified Founder Series Topaque</td></tr><tr ng-show=Options.selectedOptions.selection.standardDrinkList><td>Your Standard Drinks List</td></tr><tr ng-if=Options.shouldShowCoke()><td>A variety of Coca-Cola soft drinks</td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.snacks class=flex-center><div class=panel><div class=top-bar><div class=title>Selected Snacks</div></div><table><thead><tr><th>Name</th><th class=actions>Quantity</th></tr></thead><tbody><tr ng-repeat="item in Options.selectedOptions.selection.snacks"><td ng-bind=item.name></td><td ng-bind=item.count class=actions></td></tr></tbody></table></div></div><br><div ng-if=Options.selectedOptions.selection.parkingSpaces class=flex-center><div class=panel><div class=top-bar><div class=title>Parking</div></div><h1>{{Options.selectedOptions.selection.parkingSpaces}}</h1></div></div><br><div class=flex-center><div class=panel><div class=top-bar><div class=title>Details</div></div><div class=field><label>Instructions<textarea ng-model=Options.selectedOptions.selection.notes disabled></textarea></label></div><div class=field><label>Host Details<textarea ng-model=Options.selectedOptions.selection.host_details disabled></textarea></label></div><div class=field><label>Host can order additional items<input type=checkbox ng-model=Options.selectedOptions.selection.hostCanOrderAdditionalItems disabled></label></div></div></div>')}]),angular.module("inventory_releases/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("inventory_releases/main",'<div class=toolbar><div class=filters><div class="field search"><input type=text placeholder=Search ng-model=filterModel.data.name autofocus><label><input type=checkbox ng-change=toggleShowUpcomingOnly() ng-model=upcomingOnly>Show only upcoming events</label><select ng-model=event_type ng-options="t.value as t.caption for t in event_types"></select></div></div><div class=actions><button ng-click=newEvent() class=dark-accent>Add Event</button></div></div><table><thead><tr><th>Name</th><th>Location</th><th>State</th><th>EventDate</th><th>TimeStart</th><th>TimeEnd</th><th>Department</th><th>Class</th><th>Category</th><th>Description</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="inventory_release in data | orderBy:\'data.first_event_date\':false | filter:filterModel:strict"><td ng-bind=inventory_release.data.event_name></td><td ng-bind=inventory_release.data.event_location></td><td ng-bind=inventory_release.data.event_state></td><td ng-bind=inventory_release.data.event_date></td><td ng-bind=inventory_release.data.event_start></td><td ng-bind=inventory_release.data.event_end></td><td ng-bind=inventory_release.data.department_name></td><td ng-bind=inventory_release.data.event_class></td><td ng-bind=inventory_release.data.event_category></td><td ng-bind=inventory_release.data.event_description></td><td class=actions><button ui-sref="authenticated.main.inventory_release.view({inventory_release_id: inventory_release.data.id})" class="small dark-accent">View</button></td></tr></tbody></table>')}]),angular.module("layouts/authenticated",[]).run(["$templateCache",function($templateCache){$templateCache.put("layouts/authenticated",'<div id=masqueradeToolbar ng-show=Auth.currentlyMasquerading><a ng-click=Auth.stopMasquerading() tooltip="Stop Masquerading" tooltip-placement=bottom class=clickable>&times; Masquerading as {{Auth.currentUser.email}}</a></div><div id=content-outer class=container><header><div ui-view=header class=page-title></div><div ui-view=user-menu class=user-details></div></header><main><section id=main ui-view=content ng-class=currentStateCss class=animate-fade></section></main><nav id=mainNav><div ui-view=main-navigation></div></nav></div>')}]),angular.module("layouts/guest",[]).run(["$templateCache",function($templateCache){$templateCache.put("layouts/guest",'<script src=/js/browser-detect.js></script><div class="centered ie-visible"><div class=ie-panel><div class=top-bar><div class=title>Howdy</div></div><p>We have noticed you are using an old version of Internet Explorer.<br>For security reasons we only support modern browsers.<br>We recommend that you use Google Chrome, which can be downloaded here<br><a href=http://google.com/chrome>Google Chrome</a></p><br><p>If this is an issue for you or your organization, please contact Scott at 0414 652 480 or<br><a href=mailto:cs@turnkeyhospitality.com.au>cs@turnkeyhospitality.com.au</a></p></div></div><div id=guest-content-outer><main ui-view=content></main></div>')}]),angular.module("login",[]).run(["$templateCache",function($templateCache){$templateCache.put("login",'<div class=flex-center><div class="panel smallish"><div class=top-bar><div class=title>Login</div></div><form name=form novalidate autocomplete=on><div ng-show=invalidLogin class="nice-alert invalid">Un-Authorized</div><div class=field><input type=email placeholder=Email name=email required ng-class=inputClass ng-model=details.email autofocus></div><div class=field><input type=password placeholder=Password ng-model=details.password name=password ng-minlength=6 required ng-class=inputClass></div><div class="field right"><button type=submit value=Login ng-click=login(user) ng-bind=loginBtnText ng-disabled="inProgress || form.$invalid" class=accent></button></div></form><a style="color: #555; font-size: 0.7em" ui-sref=guest.password_reset_request>Reset Password</a></div></div>')}]),angular.module("navigation/main",[]).run(["$templateCache",function($templateCache){$templateCache.put("navigation/main","<div id=nav-header><img src=/images/all-phones.png width=75% height=auto></div><ul><li class=title>Main</li><li ui-sref=authenticated.main.home ui-sref-active=active class=link><i class=icon-thin-277_dashboard_full_fuel_gauge></i><a>Dashboard</a></li><li ui-sref=authenticated.main.reporting.index active-class-on=authenticated.main.reporting ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-355_analytics_line_chart_diagram_presentation></i><a>Reporting</a></li><li ui-sref=authenticated.main.event.client.index active-class-on=\"authenticated.main.event authenticated.main.inventory\" ng-if=\"Auth.currentUser.company.company_type == 'company'\" class=link><i class=icon-thin-231_star_favorite></i><a>Events</a></li><li ui-sref=authenticated.main.audit.venue.index active-class-on=authenticated.main.audit.venue ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-299_drink_cocktail_disco_going_out_shake></i><a>Confirmations</a></li><li ng-if=\"Auth.currentUser.company.company_type == 'company'\" ui-sref=authenticated.main.tickets.index active-class-on=authenticated.main.tickets class=link><i class=icon-thin-376_movie_cinema_ticket></i><a>Tickets</a><span ng-bind=Tickets.count class=notification></span></li></ul><ul><li class=title>Master Data Management</li><li ui-sref=authenticated.main.event.index active-class-on=authenticated.main.event ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-231_star_favorite></i><a>Events</a></li><li ui-sref=authenticated.main.facility.index active-class-on=authenticated.main.facility ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-049_building_industry_factory></i><a>Facilities</a></li><li ui-sref=authenticated.main.company.index active-class-on=authenticated.main.company ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-360_hierarchy_diagram_structure></i><a>Companies</a></li><li ui-sref=authenticated.main.employee.index active-class-on=authenticated.main.employee class=link><i class=icon-thin-195_users_group></i><a>Employees</a></li><li ui-sref=authenticated.main.catering.index active-class-on=authenticated.main.catering ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-294_fork_knife_spoon_eating_restaurant_food></i><a>Catering</a></li><li ng-if=\"Auth.currentUser.company.company_type == 'venue'\" class=link><i class=icon-thin-148_shopping_price_tag_bag_sale></i><a>Merchandising</a></li></ul><ul><li class=title>Auditing</li><li class=link><i class=icon-thin-029_wall_clock_time></i><a>Event History</a></li><li ui-sref=authenticated.main.audit.client.index active-class-on=authenticated.main.audit.client ng-if=\"Auth.currentUser.company.company_type == 'company'\" class=link><i class=icon-thin-299_drink_cocktail_disco_going_out_shake></i><a>My Confirmations</a></li></ul><ul ng-if=Auth.currentUser.permissions.developer><li class=title>Developers Only</li><li ui-sref=authenticated.main.home.debug ng-class=\"(currentState.contains('authenticated.main.home.debug')) &amp;&amp; 'active'\" class=link><i class=icon-thin-170_business_tie></i><a>Debug Information</a></li></ul>")}]),angular.module("navigation/user_header_menu",[]).run(["$templateCache",function($templateCache){$templateCache.put("navigation/user_header_menu","<nav ng-controller=UserHeaderController><ul><li ng-click=help() class=border-right><i class=\"visible icon-thin-229_question_support_help\"></i></li><li dropdown=dropdown ng-click=toggleUserMenu() is-open=userMenu.isOpen><i ng-class=\"(Auth.currentUser.profile.sex == 'Male') &amp;&amp; 'visible'\" class=icon-thin-191_user_profile_avatar></i><i ng-class=\"(Auth.currentUser.profile.sex == 'Female') &amp;&amp; 'visible'\" class=icon-thin-192_user_profile_avatar_female></i><a class=dropdown-toggle>{{Auth.currentUser.profile.first_name +' '+Auth.currentUser.profile.last_name }}</a><span class=caret></span><ul role=menu class=dropdown-menu><li><a ng-click=showMasqueradeUserList()>Switch User</a></li><li ng-if=Auth.currentUser.permissions.developer><a ui-sref=authenticated.main.home.debug>Debug</a></li><li><a ng-click=logout()>Logout</a></li></ul></li></ul></nav>")}]),angular.module("notifications/index",[]).run(["$templateCache",function($templateCache){$templateCache.put("notifications/index",'<table><thead><tr><th>Name</th><th>Manager</th><th>Manager Email</th><th>Manager Id</th></tr><tbody><tr ng-repeat="client in data"><td ng-bind=client.data.name></td><td ng-bind=client.data.manager.full_name></td><td ng-bind=client.data.manager.email></td><td ng-bind=client.data.manager.id></td></tr></tbody></thead></table><input type=text placeholder=Suburb ng-model=message required><button ng-click=notify() class="dark-accent full pull-right">Send Notification</button>')}]),angular.module("reporting/_modal_report_select",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/_modal_report_select",'<div class=panel><div class=top-bar><div class=title>Available Reports</div></div><div><button ng-click=viewSuiteOrders() class="grey full">Suite Orders</button></div><hr><div><button ng-click=viewGuestList() class="grey full">Guest List</button></div><hr><div><button ng-click=viewUnConfirmedReport() class="grey full">Clients without confirmations</button></div><hr><div><button ng-click=viewCateringReport() class="grey full">Catering</button></div></div>')}]),angular.module("reporting/catering/event_select",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/catering/event_select",'<div ng-repeat="event in events" class=panel><div ng-bind=event.name class=title></div><hr><div class="flex-panel-grid quad"><div ng-repeat="date in event.dates" ng-click=openSelectionModal(date) class="category panel clickable"><div class=top-bar><div class=title><span ng-bind="date.start | amDateFormat: \'D\'"></span><sup ng-bind="date.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="date.start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="date.start | amDateFormat: \'h:mm a\'" class=time></div></div></div><hr><p>{{date.confirmations}} Confirmed</p><p>{{date.total_inventory}} Total Inventory</p><p>Event&nbsp;<span>{{ date.start | timeFromNow }}</span></p></div></div></div>')}]),angular.module("reporting/catering/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/catering/view",'<div class=panel><div class=toolbar><div class=filters><div ng-bind=event.event_name class=title></div></div><div class=actions><button ng-click=downloadExcel(event.id) class=dark-accent>Download Excel</button></div></div><table><thead><tr><th>#</th><th>Suite Name</th><th>Suite Contact</th><th>Client Name</th><th>Menu</th><th>Beverages</th><th>Snacks</th><th>Host</th><th class=tiny>Host Authorized to order additional items</th><th>Notes</th></tr></thead><tbody><tr ng-repeat="confirmation in event.confirmed_inventory_options | orderBy:\'facility_number\'" ng-class="!confirmation.is_attending &amp;&amp; \'red\'"><td>{{ $index + 1 }}</td><td ng-bind=confirmation.facility_name></td><td ng-bind=confirmation.company.manager.full_name></td><td ng-bind=confirmation.company.name></td><td ng-bind=confirmation.selection.menu.name></td><td><div ng-repeat="drink in confirmation.selection.drinks"><span>{{ drink.name }}</span></div><div ng-show=confirmation.selection.foodBeveragePairing>Beer And Wine Pairing</div><div ng-show=confirmation.selection.dessertWinePairing>Dessert Wine Pairing</div><div ng-show=confirmation.selection.standardDrinkList>Standard Drinks List</div></td><td><div ng-repeat="snack in confirmation.selection.snacks"><span>{{ snack.name + \' - \' + snack.count }}</span></div></td><td ng-bind=confirmation.selection.host_details></td><td ng-bind=confirmation.selection.hostCanOrderAdditionalItems class=tiny></td><td ng-bind=confirmation.selection.notes></td></tr></tbody></table></div>')}]),angular.module("reporting/guest_report",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/guest_report",'<div class=panel><div class=toolbar><div class=title>Guest List for {{event.event_name}}</div></div><table><thead><tr><th>Suite Name</th><th>Host</th><th>Company</th><th>Suite Guests</th></tr></thead><tbody><tr ng-repeat="confirmation in event.confirmed_inventory_options | orderBy:\'facility_number\'"><td ng-bind=confirmation.facility_name></td><td ng-bind=confirmation.company.manager.full_name></td><td ng-bind=confirmation.company.friendly_name></td><td><p ng-repeat="guest in confirmation.guests" ng-bind=guest.name></p></td></tr></tbody></table></div>')}]),angular.module("reporting/index",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/index","<div class=flex-container><div class=flex-left><div ui-sref=authenticated.main.reporting.suiteOrders.eventSelect class=panel><div class=top-bar><div class=title>Suite Orders</div></div></div></div><div class=flex-right><div class=panel><div class=top-bar><div class=title>Guest Lists</div></div></div><div ui-sref=authenticated.main.reporting.cateringExplosion.eventSelect class=panel><div class=top-bar><div class=title>Catering Explosion</div></div></div></div></div>")}]),angular.module("reporting/suite_orders/event_select",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/suite_orders/event_select",'<div ng-repeat="event in events"><div ng-bind=event.name class=title></div><hr><div class="flex-panel-grid quad"><div ng-repeat="date in event.dates | orderBy:\'start\'" ui-sref=authenticated.main.reporting.suiteOrders.view({id:date.id}) class="category panel"><div class=top-bar><div class=title><span ng-bind="date.start | amDateFormat: \'D\'"></span><sup ng-bind="date.start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="date.start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="date.start | amDateFormat: \'h:mm a\'" class=time></div></div></div></div></div></div>')}]),angular.module("reporting/suite_orders/unconfirmed",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/suite_orders/unconfirmed","<div class=panel><table sticky-header=sticky-header><thead><tr><th>#</th><th>Suite Name</th><th>Suite Contact</th><th>Client Name</th><th>Contact Email</th><th>Contact Phone</th></tr></thead><tbody><tr ng-repeat=\"person in data | orderBy:'facility_number'\"><td>{{ $index + 1 }}</td><td ng-bind=person.facility_name></td><td ng-bind=person.client_contact></td><td ng-bind=person.client_name></td><td ng-bind=person.client_email></td><td ng-bind=person.client_phone></td></tr></tbody></table></div>")}]),angular.module("reporting/suite_orders/view",[]).run(["$templateCache",function($templateCache){$templateCache.put("reporting/suite_orders/view",'<div class=panel><div class=toolbar><div class=filters><div ng-bind=event.event_name class=title></div></div><div class=actions><button ng-click=downloadExcel(event.id) class=dark-accent>Download Excel</button></div></div><table><thead><tr><th>#</th><th>Suite Name</th><th>Suite Contact</th><th>Client Name</th><th>Parking Tickets</th><th>Menu</th><th>Beverages</th><th>Snacks</th><th>Host</th><th class=tiny>Host Authorized to order additional items</th><th>Notes</th></tr></thead><tbody><tr ng-repeat="confirmation in event.confirmed_inventory_options | orderBy:\'facility_number\'" ng-class="!confirmation.is_attending &amp;&amp; \'red\'"><td>{{ $index + 1 }}</td><td ng-bind=confirmation.facility_name></td><td ng-bind=confirmation.company.manager.full_name></td><td ng-bind=confirmation.company.name></td><td ng-bind="confirmation.selection.parkingSpaces || 0"></td><td ng-bind=confirmation.selection.menu.name></td><td><div ng-repeat="drink in confirmation.selection.drinks"><span>{{ drink.name }}</span></div><div ng-show=confirmation.selection.foodBeveragePairing>Beer And Wine Pairing</div><div ng-show=confirmation.selection.dessertWinePairing>Dessert Wine Pairing</div><div ng-show=confirmation.selection.standardDrinkList>Standard Drinks List</div></td><td><div ng-repeat="snack in confirmation.selection.snacks"><span>{{ snack.name + \' - \' + snack.count }}</span></div></td><td ng-bind=confirmation.selection.host_details></td><td ng-bind=confirmation.selection.hostCanOrderAdditionalItems class=tiny></td><td ng-bind=confirmation.selection.notes></td></tr></tbody></table></div>')}]),angular.module("resetPassword",[]).run(["$templateCache",function($templateCache){$templateCache.put("resetPassword",'<div class=flex-center><div class="panel smallish"><div class=top-bar><div class=title>Password Reset</div></div><form novalidate name=form><div class=field><input type=password placeholder=Password ng-model=data.password required ng-minlength=6></div><div class=field><input type=password placeholder="Password Confirmation" ng-model=data.password_confirmation required ui-validate=" \'$value==data.password\' " ui-validate-watch="\'data.password\'"></div><div class="field right"><button ng-bind=buttonText ng-disabled="form.$invalid &amp;&amp; buttonDisabled" ng-click=resetPassword(data)></button></div></form></div></div>')}]),angular.module("resetPasswordRequest",[]).run(["$templateCache",function($templateCache){$templateCache.put("resetPasswordRequest",'<div class=flex-center><div class="panel smallish"><div class=top-bar><div class=title>Password Reset</div></div><form no-validate=no-validate name=form><div class=field><input type=email placeholder=Email ng-model=data.email required></div><div class="field right"><input type=submit value="Send Request" ng-click=sendRequest(data) ng-disabled=form.$invalid></div></form></div></div>')}]),angular.module("teasers/modal_help",[]).run(["$templateCache",function($templateCache){$templateCache.put("teasers/modal_help",'<div id=help-modal class=panel><p><strong>All Venue and Non-technical Related Queries</strong><br>Please email Kelly at<br><a href=mailto:kmacintosh@allphonesarena.com.au>kmacintosh@allphonesarena.com.au</a><br>or phone Kelly on<br><a href=tel:0287654352>(02) 8765 4352</a></p><hr><p><strong>All technical issues related to this software</strong><br>Please email<br><a href=mailto:cs@turnkeyhospitality.com.au>cs@turnkeyhospitality.com.au</a><br>or phone Scott on<br><a href=tel:0414652480>0414 652 480</a></p><div class="field right"><button ng-click=$close() class=dark-accent>Close</button></div></div>')}]),angular.module("teasers/modal_release_to_team",[]).run(["$templateCache",function($templateCache){$templateCache.put("teasers/modal_release_to_team","<div id=teaser class=panel><div class=top-bar><div class=title>Release To Team</div></div><hr><p>Hi there, This functionality is coming in our next release - some examples;<ul><li>Department allocations</li><li>Approval Paths</li><li>FBT allocations</li><li>Guest apps</li><li>Guest survey</li></ul></p><p>These of course are optional extras, if your interested let us know. Thanks :)</p><hr><div class=modal-footer><button ng-click=$close() class=dark-accent>Close</button></div></div>")}]),angular.module("tickets/index",[]).run(["$templateCache",function($templateCache){$templateCache.put("tickets/index",'<accordion><accordion-group ng-repeat="event in data | orderBy:\'data.first_event_date\':false" class=panel><accordion-heading><div class=flex-toolbar><div ng-bind=event.data.event_name class=title></div><div class=actions><button class=grey>View Tickets</button><button ng-click=downloadAllTickets(event) ng-if=event class=dark-accent>Download All Tickets</button></div></div></accordion-heading><table><thead><tr><th class=small>Event Date</th><th>Suite</th><th>Seat</th><th class=actions>Actions</th></tr></thead><tbody><tr ng-repeat="ticket in event.data.tickets | orderBy:\'seat\'"><td class=small><span ng-bind="ticket.event_start | amDateFormat: \'D\'"></span><sup ng-bind="ticket.event_start | amDateFormat: \'Do\' | filterNumeric"></sup><span ng-bind="ticket.event_start | amDateFormat: \' MMMM YYYY\'"></span><div ng-bind="ticket.event_start | amDateFormat: \'h:mm a\'" class=time></div></td><td ng-bind=ticket.facility_name></td><td ng-bind=ticket.seat></td><td class=actions><button ng-click=viewTicket(ticket) class="small dark-accent">View</button></td></tr></tbody></table></accordion-group></accordion>')}]),angular.module("ui/modal/backdrop",[]).run(["$templateCache",function($templateCache){$templateCache.put("ui/modal/backdrop",'<div ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + (index &amp;&amp; 1 || 0) + index*10}" class="modal-backdrop fade"></div>')}]),angular.module("ui/modal/window",[]).run(["$templateCache",function($templateCache){$templateCache.put("ui/modal/window","<div tabindex=-1 ng-class=\"{in: animate}\" ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=close($event) class=\"modal fade\"><div ng-class=\"{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\" class=modal-dialog><div ng-transclude=ng-transclude class=modal-content></div></div></div>")}]);var Humane=function(){var win=window,doc=document,ENV={on:function(el,type,cb){"addEventListener"in win?el.addEventListener(type,cb,!1):el.attachEvent("on"+type,cb)},off:function(el,type,cb){"removeEventListener"in win?el.removeEventListener(type,cb,!1):el.detachEvent("on"+type,cb)
},bind:function(fn,ctx){return function(){fn.apply(ctx,arguments)}},isArray:Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},config:function(preferred,fallback){return null!=preferred?preferred:fallback},transSupport:!1,useFilter:/msie [678]/i.test(navigator.userAgent),_checkTransition:function(){var el=doc.createElement("div"),vendors={webkit:"webkit",Moz:"",O:"o",ms:"MS"};for(var vendor in vendors)vendor+"Transition"in el.style&&(this.vendorPrefix=vendors[vendor],this.transSupport=!0)}};ENV._checkTransition();var Humane=function(o){o||(o={}),this.queue=[],this.baseCls=o.baseCls||"humane",this.addnCls=o.addnCls||"",this.timeout="timeout"in o?o.timeout:2500,this.waitForMove=o.waitForMove||!1,this.clickToClose=o.clickToClose||!1,this.forceNew=o.forceNew||!1,this.container=o.container||doc.body;try{this._setupEl()}catch(e){ENV.on(win,"load",ENV.bind(this._setupEl,this))}};return Humane.prototype={constructor:Humane,_setupEl:function(){var el=doc.createElement("div");el.style.display="none",this.container.appendChild(el),this.el=el,this.removeEvent=ENV.bind(this.remove,this),this.transEvent=ENV.bind(this._afterAnimation,this),this._run()},_afterTimeout:function(){ENV.config(this.currentMsg.waitForMove,this.waitForMove)?this.removeEventsSet||(ENV.on(doc.body,"mousemove",this.removeEvent),ENV.on(doc.body,"click",this.removeEvent),ENV.on(doc.body,"keypress",this.removeEvent),ENV.on(doc.body,"touchstart",this.removeEvent),this.removeEventsSet=!0):this.remove()},_run:function(){if(!this._animating&&this.queue.length&&this.el){this._animating=!0,this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=null);var msg=this.queue.shift(),clickToClose=ENV.config(msg.clickToClose,this.clickToClose);clickToClose&&(ENV.on(this.el,"click",this.removeEvent),ENV.on(this.el,"touchstart",this.removeEvent));var timeout=ENV.config(msg.timeout,this.timeout);timeout>0&&(this.currentTimer=setTimeout(ENV.bind(this._afterTimeout,this),timeout)),ENV.isArray(msg.html)&&(msg.html="<ul><li>"+msg.html.join("<li>")+"</ul>"),this.el.innerHTML=msg.html,this.currentMsg=msg,this.el.className=this.baseCls,ENV.transSupport?(this.el.style.display="block",setTimeout(ENV.bind(this._showMsg,this),50)):this._showMsg()}},_setOpacity:function(opacity){ENV.useFilter?this.el.filters.item("DXImageTransform.Microsoft.Alpha").Opacity=100*opacity:this.el.style.opacity=String(opacity)},_showMsg:function(){var addnCls=ENV.config(this.currentMsg.addnCls,this.addnCls);if(ENV.transSupport)this.el.className=this.baseCls+" "+addnCls+" "+this.baseCls+"-animate";else{var opacity=0;this.el.className=this.baseCls+" "+addnCls+" "+this.baseCls+"-js-animate",this._setOpacity(0),this.el.style.display="block";var self=this,interval=setInterval(function(){1>opacity?(opacity+=.1,opacity>1&&(opacity=1),self._setOpacity(opacity)):clearInterval(interval)},30)}},_hideMsg:function(){var addnCls=ENV.config(this.currentMsg.addnCls,this.addnCls);if(ENV.transSupport)this.el.className=this.baseCls+" "+addnCls,ENV.on(this.el,ENV.vendorPrefix?ENV.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent);else var opacity=1,self=this,interval=setInterval(function(){opacity>0?(opacity-=.1,0>opacity&&(opacity=0),self._setOpacity(opacity)):(self.el.className=self.baseCls+" "+addnCls,clearInterval(interval),self._afterAnimation())},30)},_afterAnimation:function(){ENV.transSupport&&ENV.off(this.el,ENV.vendorPrefix?ENV.vendorPrefix+"TransitionEnd":"transitionend",this.transEvent),this.currentMsg.cb&&this.currentMsg.cb(),this.el.style.display="none",this._animating=!1,this._run()},remove:function(e){var cb="function"==typeof e?e:null;ENV.off(doc.body,"mousemove",this.removeEvent),ENV.off(doc.body,"click",this.removeEvent),ENV.off(doc.body,"keypress",this.removeEvent),ENV.off(doc.body,"touchstart",this.removeEvent),ENV.off(this.el,"click",this.removeEvent),ENV.off(this.el,"touchstart",this.removeEvent),this.removeEventsSet=!1,cb&&(this.currentMsg.cb=cb),this._animating?this._hideMsg():cb&&cb()},log:function(html,o,cb,defaults){var msg={};if(defaults)for(var opt in defaults)msg[opt]=defaults[opt];if("function"==typeof o)cb=o;else if(o)for(var opt in o)msg[opt]=o[opt];return msg.html=html,cb&&(msg.cb=cb),this.queue.push(msg),this._run(),this},spawn:function(defaults){var self=this;return function(html,o,cb){return self.log.call(self,html,o,cb,defaults),self}},create:function(o){return new Humane(o)}},new Humane};!function(a,b){a.NewrelicTiming=function(){this.marks={},this.NREUM=b,this.mark=function(a){this.marks[a]=+new Date},this.measure=function(a,b){var c,d;return b?(d=this.marks[b],c=this.marks[a]):(d=this.marks[a],c=+new Date),c-d},this.sendNRBeacon=function(b){if(this.checkBeaconRequirements()){b||(b=a.location.hash.substring(1));var c=this.measure("domLoaded","navStart"),d=this.measure("pageRendered","navStart");this.NREUM.inlineHit(b,0,0,0,c,d)}},this.checkBeaconRequirements=function(){return this.NREUM&&this.NREUM.inlineHit&&"function"==typeof this.NREUM.inlineHit?this.marks.navStart&&this.marks.domLoaded&&this.marks.pageRendered:!1}}}(window,window.NREUM),!function(a,b){if("undefined"!=typeof a&&null!==a&&"function"==typeof a.module){var c=a.module("newrelic-timing",[]);"function"==typeof c.run&&c.run(["$rootScope","$location",function(a,c){function d(){f.mark("navStart")}function e(){f.mark("domLoaded")}var f=new b;a.$on("$routeChangeStart",d),a.$on("$routeChangeSuccess",e),a.$on("$stateChangeStart",d),a.$on("$stateChangeSuccess",e),a.$on("$viewContentLoaded",function(){f.mark("pageRendered"),f.sendNRBeacon(c.path())})}])}}(window.angular,window.NewrelicTiming),angular.module("thms",["restangular","thms.services","thms.directives","thms.modules.employees","thms.modules.companies","thms.modules.notifications","thms.modules.facilities","thms.modules.tickets","thms.modules.clients","thms.modules.events","thms.modules.catering","thms.modules.audit","thms.modules.reporting","thms.modules.inventory_releases","thms.controllers","templates-main","ui.bootstrap","ui.router","LocalStorageModule","ngAnimate","ngDragDrop","ui.directives","angularMoment","newrelic-timing"]).run(["$rootScope","$state","Auth",function($rootScope,$state,Auth){$rootScope.Auth=Auth,$rootScope.$on("event:auth-loginRequired",function(){$state.transitionTo("guest.login")}),$rootScope.$on("event:redirect-home",function(){$state.go("authenticated.main.home")}),$rootScope.$on("event:auth-logged-in",function(){$state.transitionTo("authenticated.main.home")}),$rootScope.$on("event:auth-logged-out",function(){$state.transitionTo("guest.login")}),$rootScope.$on("event:auth-already-logged-in",function(){console.warn("User Already Logged In")}),$rootScope.$on("$stateChangeSuccess",function(event,toState){$rootScope.currentState=toState.name,$rootScope.currentStateCss=toState.name.replace(/\./g," "),NProgress.done()}),$rootScope.$on("$stateChangeError",function(){NProgress.done()}),$rootScope.$on("$stateChangeStart",function(){NProgress.start(30)}),NProgress.configure({showSpinner:!0})}]),angular.module("thms").constant("angularMomentConfig",{preprocess:"unix",timezone:"Etc/UTC"}),angular.module("thms").config(["$stateProvider","$urlRouterProvider","$locationProvider","RestangularProvider",function($stateProvider,$urlRouterProvider,$locationProvider,RestangularProvider){RestangularProvider.setBaseUrl("/api/v1"),$locationProvider.html5Mode(!0),$urlRouterProvider.otherwise("/"),$stateProvider.state("guest",{"abstract":!0,templateUrl:"layouts/guest",resolve:{currentUser:["Auth","$state",function(Auth,$state){Auth.checkLoggedIn().then(function(){$state.go("authenticated.main.home")})}]}}).state("guest.login",{url:"/",views:{content:{templateUrl:"login",controller:"LoginWindowCtrl"}}}).state("guest.password_reset_request",{url:"/reset/password",views:{content:{templateUrl:"resetPasswordRequest",controller:["$scope","$http","$state","$humane",function($scope,$http,$state,$humane){$scope.data={email:""},$scope.sendRequest=function(data){$http.post("/api/v1/security/request_password_reset",data).success(function(){$state.go("guest.login"),$humane.stickyError("Request Sent - Check your Email")}).error(function(error,statusCode){console.log(statusCode)})}}]}}}).state("guest.reset_password",{url:"/reset/password/:token",views:{content:{templateUrl:"resetPassword",controller:"ResetPasswordCtrl"}}}).state("authenticated",{"abstract":!0,templateUrl:"layouts/authenticated",resolve:{currentUser:function(Auth,$rootScope,$state){Auth.checkLoggedIn().catch(function(){$state.go("guest.login")})}}}).state("authenticated.main",{views:{"user-menu@authenticated":{templateUrl:"navigation/user_header_menu"},"main-navigation@authenticated":{templateUrl:"navigation/main",controller:["$scope","Tickets",function($scope,Tickets){$scope.Tickets=Tickets,$scope.Tickets.sync()}]}}}).state("authenticated.main.home",{url:"/dashboard",views:{"content@authenticated":{templateUrl:"dashboard/main",controller:"MainDashboardCtrl"},"header@authenticated":{templateUrl:"dashboard/_header_main"}}}).state("authenticated.main.home.debug",{url:"/debug",views:{"content@authenticated":{templateUrl:"dashboard/debug",controller:["$scope","$http","$modal","$humane",function($scope,$http,$modal){$scope.reloadData=function(){$http.get("/api/v2/tickets/manual").success(function(data){$scope.inventory=data})},$scope.reloadData(),$scope.createTickets=function(inventory){console.log(inventory);var modal=$modal.open({templateUrl:"dashboard/_modal_manual_ticket_create",windowClass:"effect-8",controller:["$scope","$http","$humane",function($scope,$http,$humane){$scope.inventory=inventory,$scope.requestManual=function(ticketekEventCode){$scope.inProgress=!0,$http.post("/api/v2/tickets/request",{event_code:ticketekEventCode,inventory_id:inventory.id}).success(function(results){$humane.stickySuccess(results.total_requested+" Tickets Requested"),$scope.$close()}).error(function(error){$scope.inProgress=!1,$humane.stickyError(error)})},$scope.createManual=function(ticketPrefix){$scope.inProgress=!0,$http.post("/api/v2/tickets/manual",{prefix:ticketPrefix,inventory_id:inventory.id}).success(function(results){$scope.inProgress=!1,$humane.stickySuccess(results.total_created+" Tickets Created"),$scope.$close()}).error(function(error){$scope.inProgress=!1,$humane.stickyError(error)})}}]});modal.result.then(function(results){console.log(results),$scope.reloadData()})}}]}}}).state("authenticated.main.catering",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.catering.index",{url:"/catering",views:{"content@authenticated":{templateUrl:"catering/main"},"header@authenticated":{templateUrl:"catering/_header_main"}}}).state("authenticated.main.catering.menu",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.catering.menu.category",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.catering.menu.category.index",{url:"/catering/menu/items",resolve:{menuCategories:function(Auth,Restangular){return Restangular.one("companies",Auth.currentUser.company.id).all("catering").all("menu").all("categories").getList()}},views:{"content@authenticated":{templateUrl:"catering/items/index",controller:["$scope","Restangular","menuCategories","$state",function($scope,Restangular,categories){$scope.categories=categories}]},"header@authenticated":{templateUrl:"catering/items/_header_index"}}}).state("authenticated.main.catering.menu.category.view",{url:"/catering/menu/category/:id",resolve:{category:function(Auth,Restangular,$stateParams){return Restangular.one("companies",Auth.currentUser.company.id).all("catering").all("menu").one("categories",$stateParams.id).get()}},views:{"content@authenticated":{templateUrl:"catering/categories/view",controller:["$scope","Restangular","category","$state",function($scope,Restangular,category){$scope.category=category}]},"header@authenticated":{templateUrl:"catering/items/_header_index"}}}).state("authenticated.main.catering.menu.category.new",{url:"category/new"}).state("authenticated.main.catering.menu.item",{"abstract":!0}).state("authenticated.main.catering.menu.item.new",{url:"/catering/menu/category/:category_id/items/new",views:{"content@authenticated":{templateUrl:"catering/items/new",controller:["$scope","Restangular","$state","Auth",function($scope,Restangular,$state,Auth){$scope.item={category_id:$state.params.category_id},$scope.createItem=function(item){console.log(item),Restangular.one("companies",Auth.currentUser.company.id).all("catering").one("menu").post("items",item).then(function(result){console.log(result),$state.go("authenticated.main.catering.menu.category.view",{id:result.category_id})}).catch(function(error){console.log(error)})}}]},"header@authenticated":{template:"<h1>New Menu Item</h1>"}}}).state("authenticated.main.catering.menu.categories",{url:"/catering/menu/item/categories",views:{"content@authenticated":{template:"<h1>Menu Item Categories</h1>"},"header@authenticated":{templateUrl:"catering/_header_main"}}}).state("authenticated.main.catering.menu.new",{url:"/catering/menus/new",resolve:{menuCategories:function(Auth,Restangular){return Restangular.one("companies",Auth.currentUser.company.id).all("catering").all("menu").all("categories").getList()}},views:{"content@authenticated":{templateUrl:"catering/menus/new",controller:"CateringCreateMenu"},"header@authenticated":{templateUrl:"catering/_header_main"}}}).state("authenticated.main.inventory",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.inventory.confirmOptions.snacks",{url:"/snacks",views:{step:{templateUrl:"inventory/confirm_snacks"}}}).state("authenticated.main.inventory.confirmOptions.details",{url:"/details",views:{step:{templateUrl:"inventory/confirm_host_details"}}}).state("authenticated.main.inventory.confirmOptions.attendance",{url:"/attendance",views:{step:{templateUrl:"inventory/confirm_attendance"}}}).state("authenticated.main.inventory.confirmOptions.parking",{url:"/parking",views:{step:{templateUrl:"inventory/confirm_parking"}}}).state("authenticated.main.inventory.confirmOptions.review",{url:"/review",views:{step:{templateUrl:"inventory/confirm_review"}}}).state("authenticated.main.inventory.confirmOptions.drinks",{url:"/drinks",views:{step:{templateUrl:"inventory/confirm_drinks"}}}).state("authenticated.main.inventory.confirmOptions.menu",{url:"/menus",views:{step:{templateUrl:"inventory/confirm_menu"}}}).state("authenticated.main.inventory.confirmOptions",{url:"/my/options/:id/confirm",resolve:{details:["$stateParams","Auth","Restangular",function($stateParams,Auth,Restangular){return Restangular.one("companies",Auth.currentUser.company.id).one("inventory",$stateParams.id).get()}]},views:{"content@authenticated":{templateUrl:"inventory/confirm_options",controller:"ConfirmOptionsController"},"header@authenticated":{template:"<h1>Confirm Options</h1>"}}}).state("authenticated.main.inventory.add",{url:"/inventory/add",resolve:{data:["$http","Auth","$stateParams",function($http,Restangular,$stateParams){return $http.get("/api/v1/my/events/dates/"+$stateParams.id+"/release")}]},views:{"content@authenticated":{templateUrl:"inventory/add",controller:["$scope","data",function($scope,data){console.log(data)}]},"header@authenticated":{template:"<h1>Release Event</h1>"}}}).state("authenticated.main.audit",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.audit.inventory",{url:"/audit/inventory",resolve:{},views:{"content@authenticated":{templateUrl:"auditing/events"},"header@authenticated":{template:"<h1>Release Event</h1>"}}}).state("authenticated.main.inventory.release",{url:"/inventory/:id/release","abstract":"true",template:"<ui-view></ui-view>"}).state("authenticated.main.inventory.release.identifyClass",{url:"/class",views:{"content@authenticated":{templateUrl:"client-module/release_to_team_class"}}}).state("authenticated.main.inventory.release.allocateBusinessUnits",{url:"/allocate",views:{"content@authenticated":{templateUrl:"client-module/release_to_team_business_unit"}}}).state("authenticated.main.inventory.release.releaseExpiry",{url:"/expiry",views:{"content@authenticated":{templateUrl:"client-module/release_to_team_release_expiry"}}}).state("authenticated.main.inventory.release.automateInvitations",{url:"/invitations",views:{"content@authenticated":{templateUrl:"client-module/release_to_team_automate_invitations"}}})}]),angular.module("thms.modules.employees",["restangular","thms.services","thms.directives","thms.controllers","templates-main","ui.bootstrap","ui.router","LocalStorageModule","ngAnimate","ngDragDrop","ui.directives","angularMoment"]),angular.module("thms.modules.employees").config(["$stateProvider","$urlRouterProvider","$locationProvider","RestangularProvider",function($stateProvider){$stateProvider.state("authenticated.main.employee",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.employee.index",{url:"/employees",resolve:{data:function(Auth,Restangular){return Restangular.one("companies",Auth.currentUser.company.id).getList("employees")}},views:{"content@authenticated":{templateUrl:"employees/main",controller:"EmployeesIndexCtrl"},"header@authenticated":{templateUrl:"employees/_header_main"}}}).state("authenticated.main.employee.add",{url:"/employee/add",views:{"content@authenticated":{templateUrl:"employees/add"},"header@authenticated":{templateUrl:"employees/_header_add"}}}).state("authenticated.main.employee.add.new",{url:"/new",views:{step:{templateUrl:"employees/_add_employee",controller:["$scope","Restangular","Auth","$state",function($scope,Restangular,Auth){$scope.createEmployee=function(model){Restangular.one("companies",Auth.currentUser.company.id).all("employees").post(model).then(function(result){console.log(result)})}}]}}})}]),function(){var CompanyEditCtrl,CompanyIndexCtrl,CompanyShowCtrl,app,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.companies",["thms.services","thms.modules.facilities","thms.directives","ui.router","jmdobry.angular-cache","ui.bootstrap"]),app=angular.module("thms.services"),app.factory("Companies",["$http","$q","$angularCacheFactory","Company",function($http,$q,$angularCacheFactory,Company){var BASE_URL,Companies;return BASE_URL="/api/v2/companies/",new(Companies=function(){function Companies(){}var __collection,__selected;return window.foo=Companies,$angularCacheFactory("CompaniesCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",Companies.prototype.sync=function(){var deffered;return deffered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Company(data,!1));return deffered.resolve(__collection)}}(this))["catch"](function(error){return deffered.reject(error)}),deffered.promise},Companies.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){return defferred.resolve(new Company(result.data,!1))})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},Companies.prototype.selected=function(id){return id&&(__selected=id),id&&console.log("Selected "+__selected),__selected},Companies.prototype.addElement=function(element){return __collection.push(element)},Companies}())}]),app=angular.module("thms.services"),app.factory("Company",["$http","$q",function($http,$q){var BASE_URL,Company;return BASE_URL="/api/v2/companies/",Company=function(){function Company(data,edited){this.data=data,this.edited=null!=edited?edited:!1,this.data||(this.data={}),this.url=this.data.id?BASE_URL+this.data.id:BASE_URL}return Company.prototype.save=function(data){var defferred,method;return null==data&&(data=this.data),defferred=$q.defer(),method=this.data.id?"PUT":"POST",$http({method:method,url:this.url,data:data}).then(function(_this){return function(result){return _this.data=result.data,defferred.resolve(_this)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},Company}()}]),this.BaseCtrl=function(){function BaseCtrl(){var args,fn,index,key,_i,_len,_ref,_ref1;for(args=1<=arguments.length?__slice.call(arguments,0):[],_ref=this.constructor.$inject,index=_i=0,_len=_ref.length;_len>_i;index=++_i)key=_ref[index],this[key]=args[index];_ref1=this.constructor.prototype;for(key in _ref1)fn=_ref1[key],"function"==typeof fn&&"constructor"!==key&&"initialize"!==key&&"_"!==key[0]&&(this.$scope[key]=("function"==typeof fn.bind?fn.bind(this):void 0)||_.bind(fn,this));"function"==typeof this.initialize&&this.initialize()}return BaseCtrl.register=function(app,name){var _ref;return null==name&&(name=this.name||(null!=(_ref=this.toString().match(/function\s*(.*?)\(/))?_ref[1]:void 0)),app.controller(name,this)},BaseCtrl.inject=function(){var args;return args=1<=arguments.length?__slice.call(arguments,0):[],this.$inject=args},BaseCtrl}(),app=angular.module("thms.modules.companies"),CompanyEditCtrl=function(_super){function CompanyEditCtrl(){return CompanyEditCtrl.__super__.constructor.apply(this,arguments)}return __extends(CompanyEditCtrl,_super),CompanyEditCtrl.register(app),CompanyEditCtrl.inject("$scope","$modal","company","$humane"),CompanyEditCtrl.prototype.initialize=function(){return this.$scope.company=angular.copy(this.company)},CompanyEditCtrl.prototype.save=function(){return this.company.save(this.$scope.company.data).then(function(_this){return function(result){return _this.$humane.successShort("Company Updated"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Updating Company")}}(this))},CompanyEditCtrl}(BaseCtrl),app=angular.module("thms.modules.companies"),CompanyIndexCtrl=function(_super){function CompanyIndexCtrl(){return CompanyIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(CompanyIndexCtrl,_super),CompanyIndexCtrl.register(app),CompanyIndexCtrl.inject("$scope","Companies","data","$state"),CompanyIndexCtrl.prototype.initialize=function(){return this.$scope.data=this.data},CompanyIndexCtrl.prototype.viewCompany=function(id){return this.$state.go("authenticated.main.company.view",{company_id:id})},CompanyIndexCtrl.prototype.updateFilter=function(){return this.$scope.filterModel={data:{name:this.$scope.filterValue,friendly_name:this.$scope.filterValue,manager:{email:this.$scope.filterValue}}}},CompanyIndexCtrl}(BaseCtrl),app=angular.module("thms.modules.companies"),CompanyShowCtrl=function(_super){function CompanyShowCtrl(){return CompanyShowCtrl.__super__.constructor.apply(this,arguments)}return __extends(CompanyShowCtrl,_super),CompanyShowCtrl.register(app),CompanyShowCtrl.inject("$scope","company","$modal","$humane","$timeout","leases"),CompanyShowCtrl.prototype.initialize=function(){return this.$scope.company=this.company,this.$scope.leases=this.leases},CompanyShowCtrl.prototype.editCompany=function(){return this.modal=this.$modal.open({templateUrl:"companies/edit",windowClass:"effect-8",resolve:{company:["Companies","$stateParams",function(Companies,$stateParams){return Companies.view($stateParams.company_id)}]},controller:"CompanyEditCtrl"}),this.modal.result.then(function(_this){return function(result){return _this.$scope.company.data=result.data}}(this))["catch"](function(error){return console.log(error)})},CompanyShowCtrl.prototype.editLease=function(lease){return this.modal=this.$modal.open({templateUrl:"facilities/edit_lease",windowClass:"effect-8",resolve:{facilities:["Facilities",function(Facilities){return Facilities.sync()}],companies:function(){return void 0},lease:["Leases",function(Leases){return Leases.view(lease.id)}]},controller:"EditFacilityLeaseCtrl"}),this.modal.result.then(function(result){return console.log(result)})},CompanyShowCtrl.prototype.newLease=function(){return this.modal=this.$modal.open({templateUrl:"facilities/new_lease",windowClass:"effect-8",resolve:{facilities:["Facilities",function(Facilities){return Facilities.sync()}],companies:function(){return void 0}},controller:"NewFacilityLeaseCtrl"}),this.modal.result.then(function(result){return console.log(result)})},CompanyShowCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.company",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.company.index",{url:"/companies",resolve:{data:["Companies",function(Companies){return Companies.sync()}]},views:{"content@authenticated":{templateUrl:"companies/index",controller:"CompanyIndexCtrl"},"header@authenticated":{template:"<h1>Company Management</h1>"}}}).state("authenticated.main.company.add",{views:{"content@authenticated":{templateUrl:"companies/add",controller:["$scope",function($scope){return $scope.email=""}]}}}).state("authenticated.main.company.add.search",{url:"/companies/add/search",views:{form:{templateUrl:"companies/searchByEmail"}}}).state("authenticated.main.company.view",{url:"/companies/:company_id",resolve:{company:["Companies","$stateParams",function(Companies,$stateParams){return Companies.view($stateParams.company_id)}],leases:["Leases","$stateParams",function(Leases,$stateParams){return Leases.forCompany($stateParams.company_id)}]},views:{"content@authenticated":{templateUrl:"clients/view",controller:"CompanyShowCtrl"}}}).state("authenticated.main.company.add.showResult",{url:"/companies/add/search/results",views:{form:{templateUrl:"companies/addSearchResults"}}})}])}.call(this),function(){var ClientShowCtrl,IndexCtrl,NewClientCtrl,app,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.clients",["thms.services","ui.router"]),this.BaseCtrl=function(){function BaseCtrl(){var args,fn,index,key,_i,_len,_ref,_ref1;for(args=1<=arguments.length?__slice.call(arguments,0):[],_ref=this.constructor.$inject,index=_i=0,_len=_ref.length;_len>_i;index=++_i)key=_ref[index],this[key]=args[index];_ref1=this.constructor.prototype;for(key in _ref1)fn=_ref1[key],"function"==typeof fn&&"constructor"!==key&&"initialize"!==key&&"_"!==key[0]&&(this.$scope[key]=("function"==typeof fn.bind?fn.bind(this):void 0)||_.bind(fn,this));"function"==typeof this.initialize&&this.initialize()}return BaseCtrl.register=function(app,name){var _ref;return null==name&&(name=this.name||(null!=(_ref=this.toString().match(/function\s*(.*?)\(/))?_ref[1]:void 0)),app.controller(name,this)},BaseCtrl.inject=function(){var args;return args=1<=arguments.length?__slice.call(arguments,0):[],this.$inject=args},BaseCtrl}(),app=angular.module("thms.modules.clients"),IndexCtrl=function(_super){function IndexCtrl(){return IndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(IndexCtrl,_super),IndexCtrl.register(app),IndexCtrl.inject("$scope","clients","$state"),IndexCtrl.prototype.initialize=function(){return this.$scope.data=this.clients},IndexCtrl}(BaseCtrl),app=angular.module("thms.modules.clients"),NewClientCtrl=function(_super){function NewClientCtrl(){return NewClientCtrl.__super__.constructor.apply(this,arguments)}return __extends(NewClientCtrl,_super),NewClientCtrl.register(app),NewClientCtrl.inject("$scope","Company","$state","$humane"),NewClientCtrl.prototype.initialize=function(){return this.$scope.company=new this.Company,this.$state.go("authenticated.main.clients.add.name")},NewClientCtrl.prototype.save=function(){return this.$scope.company.save().then(function(_this){return function(result){return console.log(result.data),_this.$state.go("authenticated.main.company.view",{company_id:result.data.id}),_this.$humane.stickySuccess("Company Created")}}(this))["catch"](function(){return function(error){return console.warn(error)}}(this))},NewClientCtrl}(BaseCtrl),app=angular.module("thms.modules.clients"),ClientShowCtrl=function(_super){function ClientShowCtrl(){return ClientShowCtrl.__super__.constructor.apply(this,arguments)}return __extends(ClientShowCtrl,_super),ClientShowCtrl.register(app),ClientShowCtrl.inject("$scope","company","$state"),ClientShowCtrl.prototype.initialize=function(){return this.$scope.data=this.company},ClientShowCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.clients",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.clients.view",{url:"/clients/view",resolve:{data:["Company",function(Company){return console.log(Company)}]},views:{"content@authenticated":{templateUrl:"clients/view"}}}).state("authenticated.main.clients.add",{url:"/clients/new",views:{"content@authenticated":{templateUrl:"clients/new",controller:"NewClientCtrl"}}}).state("authenticated.main.clients.add.name",{url:"/name",views:{steps:{templateUrl:"clients/_new_name"}}}).state("authenticated.main.clients.add.address",{url:"/address",views:{steps:{templateUrl:"clients/_new_address"}}}).state("authenticated.main.clients.add.config",{url:"/config",views:{steps:{templateUrl:"clients/_new_config"}}}).state("authenticated.main.clients.add.admin",{url:"/administrator",views:{steps:{templateUrl:"clients/_new_admin"}}})}])}.call(this),function(){var EditFacilityLeaseCtrl,FacilitiesIndexCtrl,FacilityEditCtrl,FacilityShowCtrl,NewFacilityLeaseCtrl,app,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.facilities",["thms.services","restangular","ui.router","LocalStorageModule"]),app=angular.module("thms.services"),app.factory("Facilities",["$http","$q","$angularCacheFactory","Facility",function($http,$q,$angularCacheFactory,Facility){var BASE_URL,Facilities;return BASE_URL="/api/v2/facilities/",new(Facilities=function(){function Facilities(){}var __collection,__selected;return $angularCacheFactory("FacilitiesCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",Facilities.prototype.sync=function(){var deffered;return deffered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Facility(data,!1));return deffered.resolve(__collection)}}(this))["catch"](function(error){return deffered.reject(error)}),deffered.promise},Facilities.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.data.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){var facility;return facility=new Facility(result.data,!1),__collection.push(facility),defferred.resolve(facility)})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},Facilities.prototype.selected=function(id){return id&&(__selected=id),id&&console.log("Selected "+__selected),__selected},Facilities.prototype.addElement=function(element){return __collection.push(element)},Facilities}())}]),app=angular.module("thms.services"),app.factory("Facility",["$http","$q",function($http,$q){var BASE_URL,Facility;return BASE_URL="/api/v2/facilities/",Facility=function(){function Facility(data,edited){this.data=data,this.edited=null!=edited?edited:!1,this.data||(this.data={}),this.url=this.data.id?BASE_URL+this.data.id:BASE_URL
}return Facility.prototype.save=function(data){var defferred,method;return null==data&&(data=this.data),defferred=$q.defer(),method=this.data.id?"PUT":"POST",$http({method:method,url:this.url,data:data}).then(function(_this){return function(result){return _this.data=result.data,defferred.resolve(result)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},Facility}()}]),app=angular.module("thms.services"),app.factory("Lease",["$http","$q",function($http,$q){var BASE_URL,Lease;return BASE_URL="/api/v2/leases/",Lease=function(){function Lease(data,edited){this.data=data,this.edited=null!=edited?edited:!1,this.data||(this.data={}),this.url=this.data.id?BASE_URL+this.data.id:BASE_URL}return Lease.prototype.save=function(data){var defferred,method;return null==data&&(data=this.data),defferred=$q.defer(),method=this.data.id?"PUT":"POST",$http({method:method,url:this.url,data:data}).then(function(_this){return function(result){return _this.data=result.data,defferred.resolve(_this)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},Lease}()}]),app=angular.module("thms.services"),app.factory("Leases",["$http","$q","$angularCacheFactory","Lease",function($http,$q,$angularCacheFactory,Lease){var BASE_URL,Leases;return BASE_URL="/api/v2/leases/",new(Leases=function(){function Leases(){}var forRelation,__collection,__selected;return $angularCacheFactory("LeasesCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",Leases.prototype.sync=function(){var deffered;return deffered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Lease(data,!1));return deffered.resolve(__collection)}}(this))["catch"](function(error){return deffered.reject(error)}),deffered.promise},Leases.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){return defferred.resolve(new Lease(result.data,!1))})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},Leases.prototype.selected=function(id){return id&&(__selected=id),id&&console.log("Selected "+__selected),__selected},Leases.prototype.addElement=function(element){return __collection.push(element)},Leases.prototype.forFacility=function(id){return forRelation("facilities",id)},Leases.prototype.forCompany=function(id){return forRelation("companies",id)},forRelation=function(name,id){var defferred,elements;return defferred=$q.defer(),elements=_.filter(__collection,function(item){return item.facility_id===id}),_.size(elements)>0?defferred.resolve(elements):$http.get("/api/v2/"+name+"/"+id+"/leases").then(function(result){var data,_i,_len,_ref;for(__collection=[],_ref=result.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Lease(data,!1));return defferred.resolve(__collection)})["catch"](function(error){return console.log(error),defferred.reject(error)}),defferred.promise},Leases}())}]),app=angular.module("thms.modules.facilities"),FacilityEditCtrl=function(_super){function FacilityEditCtrl(){return FacilityEditCtrl.__super__.constructor.apply(this,arguments)}return __extends(FacilityEditCtrl,_super),FacilityEditCtrl.register(app),FacilityEditCtrl.inject("$scope","facility","$state","$humane"),FacilityEditCtrl.prototype.initialize=function(){return this.$scope.facility=angular.copy(this.facility)},FacilityEditCtrl.prototype.save=function(facility){return facility.save(facility.data).then(function(_this){return function(result){return _this.$humane.stickySuccess("Facility Saved"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Saving Facility")}}(this))},FacilityEditCtrl}(BaseCtrl),app=angular.module("thms.modules.facilities"),EditFacilityLeaseCtrl=function(_super){function EditFacilityLeaseCtrl(){return EditFacilityLeaseCtrl.__super__.constructor.apply(this,arguments)}return __extends(EditFacilityLeaseCtrl,_super),EditFacilityLeaseCtrl.register(app),EditFacilityLeaseCtrl.inject("$scope","$modal","$injector","$humane","facilities","companies","$stateParams","lease","Lease"),EditFacilityLeaseCtrl.prototype.initialize=function(){return this.$scope.lease=angular.copy(this.lease),this.facilities&&(this.$scope.facilities=this.facilities,this.$scope.lease.data.company_id=this.$stateParams.company_id),this.companies?(this.$scope.companies=this.companies,this.$scope.lease.data.facility_id=this.$stateParams.facility_id):void 0},EditFacilityLeaseCtrl.prototype.save=function(){return this.$scope.lease.save().then(function(_this){return function(result){return _this.lease.data=result.data,_this.$humane.stickySuccess("Lease Updated"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Updating Lease")}}(this))},EditFacilityLeaseCtrl}(BaseCtrl),app=angular.module("thms.modules.facilities"),FacilitiesIndexCtrl=function(_super){function FacilitiesIndexCtrl(){return FacilitiesIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(FacilitiesIndexCtrl,_super),FacilitiesIndexCtrl.register(app),FacilitiesIndexCtrl.inject("$scope","facilities","$state","$modal"),FacilitiesIndexCtrl.prototype.initialize=function(){return this.$scope.data=this.facilities},FacilitiesIndexCtrl.prototype.newFacility=function(){return this.modal=this.$modal.open({templateUrl:"facilities/new",windowClass:"effect-8",resolve:{facility:["Facility","$q",function(Facility){return new Facility}]},controller:"FacilityEditCtrl"}),this.modal.result.then(function(_this){return function(result){return _this.facilities.addElement(result)}}(this))["catch"](function(error){return console.log(error)})},FacilitiesIndexCtrl.prototype.updateFilter=function(){return this.$scope.filterModel={data:{name:this.$scope.filterValue,facility_type:this.$scope.filterValue,current_leasee_name:this.$scope.filterValue}}},FacilitiesIndexCtrl}(BaseCtrl),app=angular.module("thms.modules.facilities"),NewFacilityLeaseCtrl=function(_super){function NewFacilityLeaseCtrl(){return NewFacilityLeaseCtrl.__super__.constructor.apply(this,arguments)}return __extends(NewFacilityLeaseCtrl,_super),NewFacilityLeaseCtrl.register(app),NewFacilityLeaseCtrl.inject("$scope","$modal","$injector","$humane","facilities","companies","$stateParams","Leases","Lease"),NewFacilityLeaseCtrl.prototype.initialize=function(){return this.facilities&&(this.$scope.facilities=this.facilities,this.$scope.lease=new this.Lease({company_id:this.$stateParams.company_id})),this.companies?(this.$scope.companies=this.companies,this.$scope.lease=new this.Lease({facility_id:this.$stateParams.facility_id})):void 0},NewFacilityLeaseCtrl.prototype.save=function(){return this.$scope.lease.save().then(function(_this){return function(result){return _this.Leases.addElement(result),_this.$humane.stickySuccess("New Lease Created"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Creating Lease")}}(this))},NewFacilityLeaseCtrl}(BaseCtrl),app=angular.module("thms.modules.facilities"),FacilityShowCtrl=function(_super){function FacilityShowCtrl(){return FacilityShowCtrl.__super__.constructor.apply(this,arguments)}return __extends(FacilityShowCtrl,_super),FacilityShowCtrl.register(app),FacilityShowCtrl.inject("$scope","facility","leases","$state","$modal"),FacilityShowCtrl.prototype.initialize=function(){return this.$scope.facility=this.facility,this.$scope.leases=this.leases},FacilityShowCtrl.prototype.editFacility=function(){return this.modal=this.$modal.open({templateUrl:"facilities/edit",windowClass:"effect-8",resolve:{facility:["Facilities","$stateParams",function(Facilities,$stateParams){return Facilities.view($stateParams.facility_id)}]},controller:"FacilityEditCtrl"}),this.modal.result.then(function(_this){return function(result){return _this.$scope.facility.data=result.data}}(this))["catch"](function(error){return console.log(error)})},FacilityShowCtrl.prototype.editLease=function(lease){return this.modal=this.$modal.open({templateUrl:"facilities/edit_lease",windowClass:"effect-8",resolve:{companies:["Companies",function(Companies){return Companies.sync()}],facilities:function(){return void 0},lease:["Leases",function(Leases){return Leases.view(lease.id)}]},controller:"EditFacilityLeaseCtrl"}),this.modal.result.then(function(result){return console.log(result)})},FacilityShowCtrl.prototype.newLease=function(){return this.modal=this.$modal.open({templateUrl:"facilities/new_lease",windowClass:"effect-8",resolve:{companies:["Companies",function(Companies){return Companies.sync()}],facilities:function(){return void 0}},controller:"NewFacilityLeaseCtrl"}),this.modal.result.then(function(result){return console.log(result)})},FacilityShowCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.facility",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.facility.index",{url:"/facilities",resolve:{facilities:["Facilities",function(Facilities){return Facilities.sync()}]},views:{"content@authenticated":{templateUrl:"facilities/main",controller:"FacilitiesIndexCtrl"}}}).state("authenticated.main.facility.view",{url:"/facilities/:facility_id",resolve:{facility:["Facilities","$stateParams",function(Facilities,$stateParams){return Facilities.view($stateParams.facility_id)}],leases:["Leases","$stateParams",function(Leases,$stateParams){return Leases.forFacility($stateParams.facility_id)}]},views:{"content@authenticated":{templateUrl:"facilities/view",controller:"FacilityShowCtrl"}}})}])}.call(this),function(){var ClientShowCtrl,NewFacilityLeaseCtrl,TicketsIndexCtrl,app,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.tickets",["thms.services","restangular","ui.router","LocalStorageModule"]),app=angular.module("thms.services"),app.factory("Ticket",["$http","$q",function($http,$q){var Ticket;return Ticket=function(){function Ticket(id,data,url,edited){this.id=id,this.data=data,this.url=url,this.edited=null!=edited?edited:!1}return Ticket.prototype.save=function(data){var defferred;return null==data&&(data=this.data),defferred=$q.defer(),$http.put(this.url,data).then(function(_this){return function(result){return _this.data=angular.copy(data),defferred.resolve(result)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},Ticket}()}]),app=angular.module("thms.services"),app.factory("Tickets",["$http","$q","$angularCacheFactory","Ticket","$humane",function($http,$q,$angularCacheFactory,Ticket){var BASE_URL,Tickets;return BASE_URL="/api/v2/my/tickets/",new(Tickets=function(){function Tickets(){this.addMagicalTickets=__bind(this.addMagicalTickets,this)}var __collection,__selected;return window.foo=Tickets,$angularCacheFactory("TicketsCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",Tickets.prototype.count=0,Tickets.prototype.sync=function(){var deffered;return deffered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(_this){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Ticket(data.id,data,BASE_URL+data.id,!1));return _this.count=__collection.length,deffered.resolve(__collection)}}(this))["catch"](function(error){return deffered.reject(error)}),deffered.promise},Tickets.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){return defferred.resolve(result.data)})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},Tickets.prototype.selected=function(id){return id&&(__selected=id),id&&console.log("Selected "+__selected),__selected},Tickets.prototype.addMagicalTickets=function(){return this.sync().then(function(){return function(){}}(this))},Tickets}())}]),app=angular.module("thms.modules.tickets"),TicketsIndexCtrl=function(_super){function TicketsIndexCtrl(){return TicketsIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(TicketsIndexCtrl,_super),TicketsIndexCtrl.register(app),TicketsIndexCtrl.inject("$scope","$state","tickets","$modal","$window","$http"),TicketsIndexCtrl.prototype.initialize=function(){return this.$scope.data=this.tickets},TicketsIndexCtrl.prototype.viewTicket=function(ticket){var file,modal;return file="/tickets/"+ticket.storage.file_name,modal=this.$modal.open({template:"<div class='panel'><iframe src='"+file+"'></iframe></div>",windowClass:"effect-0 xxlarge xxtall"})},TicketsIndexCtrl.prototype.downloadAllTickets=function(event){return this.$window.open("/api/v2/my/inventory/"+event.data.inventory_id+"/tickets/zip","_blank")},TicketsIndexCtrl}(BaseCtrl),app=angular.module("thms.controllers"),NewFacilityLeaseCtrl=function(_super){function NewFacilityLeaseCtrl(){return NewFacilityLeaseCtrl.__super__.constructor.apply(this,arguments)}return __extends(NewFacilityLeaseCtrl,_super),NewFacilityLeaseCtrl.register(app),NewFacilityLeaseCtrl.inject("$scope","$modal","$injector","$humane"),NewFacilityLeaseCtrl.prototype.initialize=function(){return this.$injector.has("facilities")&&(this.facilities=this.$injector.get("facilities")),this.$injector.has("companies")&&(this.facilities=this.$injector.get("companies")),this.facilities&&(this.$scope.facilities=this.facilities),this.companies?this.$scope.companies=this.companies:void 0},NewFacilityLeaseCtrl.prototype.save=function(){},NewFacilityLeaseCtrl}(BaseCtrl),app=angular.module("thms.modules.clients"),ClientShowCtrl=function(_super){function ClientShowCtrl(){return ClientShowCtrl.__super__.constructor.apply(this,arguments)}return __extends(ClientShowCtrl,_super),ClientShowCtrl.register(app),ClientShowCtrl.inject("$scope","company","$state"),ClientShowCtrl.prototype.initialize=function(){return this.$scope.data=this.company},ClientShowCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.tickets",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.tickets.index",{url:"/tickets",resolve:{tickets:["Tickets",function(Tickets){return Tickets.sync()}]},views:{"content@authenticated":{templateUrl:"tickets/index",controller:"TicketsIndexCtrl"},"header@authenticated":{template:"<h1>Tickets</h1>"}}})}])}.call(this),function(){var EventEditCtrl,EventShowCtrl,EventsIndexCtrl,NewEventDateCtrl,app,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.events",["thms.services","ui.router","LocalStorageModule"]),app=angular.module("thms.services"),app.factory("EventDate",["$http","$q",function($http,$q){var BASE_URL,EventDate;return BASE_URL="/api/v2/dates/",EventDate=function(){function EventDate(data,edited,url,relation){this.data=data,this.edited=null!=edited?edited:!1,this.url=null!=url?url:BASE_URL,this.relation=null!=relation?relation:!1,this.data||(this.data={}),this.relation&&(this.url=this.relation.url),this.url=this.data.id?this.url+this.data.id:this.url}return EventDate.prototype.save=function(data){var defferred,method;return null==data&&(data=this.data),defferred=$q.defer(),method=this.data.id?"PUT":"POST",$http({method:method,url:this.url,data:data}).then(function(_this){return function(result){return _this.data=result.data,defferred.resolve(_this)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},EventDate}()}]),app=angular.module("thms.services"),app.factory("EventDates",["$http","$q","$angularCacheFactory","EventDate",function($http,$q,$angularCacheFactory,EventDate){var BASE_URL,EventDates;return BASE_URL="/api/v2/dates/",new(EventDates=function(){function EventDates(){}var forRelation,__collection,__selected;return $angularCacheFactory("EventDatesCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",EventDates.prototype.sync=function(){var deffered;return deffered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new EventDate(data,!1));return deffered.resolve(__collection)}}(this))["catch"](function(error){return deffered.reject(error)}),deffered.promise},EventDates.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){var eventDate;return eventDate=new EventDate(result.data,!1),__collection.push(eventDate),defferred.resolve(eventDate)})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},EventDates.prototype.addElement=function(element){return __collection.push(element)},EventDates.prototype.forEvent=function(id){return forRelation("events",id)},forRelation=function(name,id){var defferred,elements,relationUrl;return defferred=$q.defer(),elements=_.filter(__collection,function(item){return item.event_id===id}),_.size(elements)>0?defferred.resolve(elements):(relationUrl="/api/v2/"+name+"/"+id+"/dates/",$http.get(relationUrl).then(function(result){var data,_i,_len,_ref;for(__collection=[],_ref=result.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new EventDate(data,!1,relationUrl));return defferred.resolve(__collection)})["catch"](function(error){return console.log(error),defferred.reject(error)})),defferred.promise},EventDates.prototype.facilitiesForRelease=function(eventId,eventDateId){var Url,defferred;return defferred=$q.defer(),Url="/api/v2/events/"+eventId+"/dates/"+eventDateId+"/release",$http.get(Url).then(function(result){return defferred.resolve(result)})["catch"](function(error){return defferred.reject(error)}),defferred.promise},EventDates}())}]),app=angular.module("thms.services"),app.factory("Event",["$http","$q",function($http,$q){var BASE_URL,Event;return BASE_URL="/api/v2/events/",Event=function(){function Event(data,edited){this.data=data,this.edited=null!=edited?edited:!1,this.data||(this.data={}),this.url=this.data.id?BASE_URL+this.data.id:BASE_URL}return Event.prototype.save=function(data){var defferred,method;return null==data&&(data=this.data),defferred=$q.defer(),method=this.data.id?"PUT":"POST",$http({method:method,url:this.url,data:data}).then(function(_this){return function(result){return _this.data=result.data,defferred.resolve(result)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},Event}()}]),app=angular.module("thms.services"),app.factory("Events",["$http","$q","$angularCacheFactory","Event",function($http,$q,$angularCacheFactory,Event){var BASE_URL,Events;return BASE_URL="/api/v2/events/",new(Events=function(){function Events(){}var __collection,__selected;return window.foo=Events,$angularCacheFactory("EventsCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",Events.prototype.sync=function(){var defered;return defered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new Event(data,!1));return defered.resolve(__collection)}}(this))["catch"](function(error){return defered.reject(error)}),defered.promise},Events.prototype.view=function(id){var defferred,element;return defferred=$q.defer(),element=_.find(__collection,function(item){return item.data.id===id}),element?defferred.resolve(element):id?$http.get(BASE_URL+id).then(function(result){var event;return event=new Event(result.data,!1),__collection.push(event),console.log(result.data),defferred.resolve(event)})["catch"](function(error){return defferred.reject(error)}):defferred.reject(!1),defferred.promise},Events.prototype.selected=function(id){return id&&(__selected=id),id&&console.log("Selected "+__selected),__selected},Events.prototype.addElement=function(element){return __collection.push(element)},Events}())}]),app=angular.module("thms.modules.events"),EventEditCtrl=function(_super){function EventEditCtrl(){return EventEditCtrl.__super__.constructor.apply(this,arguments)}return __extends(EventEditCtrl,_super),EventEditCtrl.register(app),EventEditCtrl.inject("$scope","event","$state","$humane"),EventEditCtrl.prototype.initialize=function(){return this.$scope.event=angular.copy(this.event)},EventEditCtrl.prototype.save=function(event){return console.log("foo"),event.save(event.data).then(function(_this){return function(result){return _this.$humane.stickySuccess("Event Saved"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Saving Event")}}(this))},EventEditCtrl}(BaseCtrl),app=angular.module("thms.modules.events"),EventsIndexCtrl=function(_super){function EventsIndexCtrl(){return EventsIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(EventsIndexCtrl,_super),EventsIndexCtrl.register(app),EventsIndexCtrl.inject("$scope","events","event_types","$state","$modal"),EventsIndexCtrl.prototype.initialize=function(){return this.$scope.data=this.events,this.$scope.event_types=this.event_types.data},EventsIndexCtrl.prototype.newEvent=function(){return this.modal=this.$modal.open({templateUrl:"events/add",windowClass:"effect-8",resolve:{event:["Event","$q",function(Event){return new Event}]},controller:"EventEditCtrl"}),this.modal.result.then(function(_this){return function(result){return _this.$state.go("authenticated.main.event.view",{event_id:result.data.id})}}(this))["catch"](function(error){return console.log(error)})},EventsIndexCtrl}(BaseCtrl),app=angular.module("thms.modules.events"),NewEventDateCtrl=function(_super){function NewEventDateCtrl(){return NewEventDateCtrl.__super__.constructor.apply(this,arguments)}return __extends(NewEventDateCtrl,_super),NewEventDateCtrl.register(app),NewEventDateCtrl.inject("$scope","$modal","$injector","$humane","$stateParams","EventDate","EventDates"),NewEventDateCtrl.prototype.initialize=function(){return this.$scope.date=new this.EventDate({event_id:this.$stateParams.event_id},!1,"/api/v2/events/"+this.$stateParams.event_id+"/dates/")},NewEventDateCtrl.prototype.save=function(){return this.$scope.date.save().then(function(_this){return function(result){return _this.EventDates.addElement(result),_this.$humane.stickySuccess("New Date Created"),_this.$scope.$close(result)}}(this))["catch"](function(_this){return function(){return _this.$humane.stickyError("Error Creating Date")}}(this))},NewEventDateCtrl}(BaseCtrl),app=angular.module("thms.modules.events"),EventShowCtrl=function(_super){function EventShowCtrl(){return EventShowCtrl.__super__.constructor.apply(this,arguments)}return __extends(EventShowCtrl,_super),EventShowCtrl.register(app),EventShowCtrl.inject("$scope","event","dates","$state","$modal"),EventShowCtrl.prototype.initialize=function(){return this.$scope.event=this.event,this.$scope.dates=this.dates},EventShowCtrl.prototype.editEvent=function(){return this.modal=this.$modal.open({templateUrl:"events/edit",windowClass:"effect-8",resolve:{event:["Events","$stateParams",function(Events,$stateParams){return Events.view($stateParams.event_id)}]},controller:"EventEditCtrl"}),this.modal.result.then(function(_this){return function(result){return _this.$scope.event.data=result.data}}(this))["catch"](function(error){return console.log(error)})},EventShowCtrl.prototype.newEventDate=function(){return this.modal=this.$modal.open({templateUrl:"events/add_date",windowClass:"effect-8",controller:"NewEventDateCtrl"}),this.modal.result.then(function(result){return console.log(result)})},EventShowCtrl.prototype.editDate=function(date){var modal;return modal=this.$modal.open({templateUrl:"events/edit_date",windowClass:"effect-8",controller:["$scope","$humane",function($scope,$humane){return $scope.date=angular.copy(date),$scope.save=function(){return date.save($scope.date.data).then(function(){return function(result){return $humane.stickySuccess("Changes Saved"),$scope.$close(result)}}(this))["catch"](function(){return function(){return $humane.stickyError("Error Saving Changes")}}(this))}}]})},EventShowCtrl.prototype.releaseDate=function(date){return this.$state.go("authenticated.main.event.view.release",{date_id:date.data.id})},EventShowCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.event.client",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.event.client.index",{url:"/my/events",resolve:{inventory:["$http",function($http){return $http.get("/api/v2/my/inventory")}],upcomingEvents:["$http",function($http){return $http.get("/api/v2/my/events/upcoming")}]},views:{"content@authenticated":{templateUrl:"events/client_index",controller:["$scope","inventory","upcomingEvents","$humane","$modal","$http","$state","Tickets",function($scope,inventory,upcomingEvents,$humane,$modal,$http,$state,Tickets){return $scope.data=inventory.data,$scope.upcomingEvents=upcomingEvents.data,$scope.openFile=function(file){var modal;return modal=$modal.open({template:"<div class='panel'><iframe src='"+file+"'></iframe></div>",windowClass:"effect-4 xxlarge xxtall"})},$scope.confirmAttendance=function(){var modal;return modal=$modal.open({templateUrl:"inventory/confirm_attendance"})},$scope.releaseToTeam=function(){var modal;return modal=$modal.open({templateUrl:"teasers/modal_release_to_team"})},$scope.reconfirmOption=function(event){return $http["delete"]("/api/v2/confirmations/"+event.confirmation_id).success(function(){return Tickets.count=0,$state.go("authenticated.main.inventory.confirmOptions",{id:event.id})})},$scope.confirmGuests=function(inventoryId){var modal;return modal=$modal.open({templateUrl:"inventory/_modal_guest_names",controller:["$scope","confirmation","InventoryConfirmation",function($scope,confirmation,InventoryConfirmation){return $scope.confirmation=confirmation.data,$scope.guestList=0===$scope.confirmation.guests.length?[{name:""}]:$scope.confirmation.guests,$scope.addNewGuestName=function(){return $scope.guestList.push({name:""})},$scope.save=function(){return $scope.confirmation.guests=$scope.guestList,InventoryConfirmation.update($scope.confirmation).then(function(){return $humane.stickySuccess("Guest List Updated"),$scope.$close()})["catch"](function(){return $humane.stickyError("Error Saving Guest List"),$scope.$close()})}}],resolve:{confirmation:["InventoryConfirmation",function(InventoryConfirmation){return InventoryConfirmation.view(inventoryId)}]},windowClass:"effect-8"})}}]}}}).state("authenticated.main.event",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.event.index",{url:"/events",resolve:{events:["Events",function(Events){return Events.sync()}],event_types:["$http",function($http){return $http.post("/api/v2/events/event_types")}]},views:{"content@authenticated":{templateUrl:"events/main",controller:"EventsIndexCtrl"}}}).state("authenticated.main.event.view",{url:"/events/:event_id",resolve:{event:["Events","$stateParams",function(Events,$stateParams){return Events.view($stateParams.event_id)}],dates:["EventDates","$stateParams",function(EventDates,$stateParams){return EventDates.forEvent($stateParams.event_id)}]},views:{"content@authenticated":{templateUrl:"events/view",controller:"EventShowCtrl"}}}).state("authenticated.main.event.view.release",{url:"/dates/:date_id/release",resolve:{availableFacilities:["EventDates","$stateParams",function(EventDates,$stateParams){return EventDates.facilitiesForRelease($stateParams.event_id,$stateParams.date_id)}]},views:{"content@authenticated":{templateUrl:"events/release",controller:"EventReleaseController"}}})}])}.call(this),function(){var app;app=angular.module("thms.modules.audit",[]),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.audit.client",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.audit.venue",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.audit.client.index",{url:"/my/confirmations",resolve:{events:["$http",function($http){return $http.get("/api/v2/my/confirmations")}]},views:{"header@authenticated":{template:"<h1>My Confirmations</h1>"},"content@authenticated":{templateUrl:"auditing/events",controller:["$scope","events","$humane","$modal","$http","$state",function($scope,events,$humane,$modal){return $scope.data=events.data,$scope.filterModel={event_date:""},$scope.viewDetails=function(event){var modal;return modal=$modal.open({templateUrl:"auditing/_modal_view_confirmation_detail",controller:["$scope",function($scope){return $scope.Options={selectedOptions:event}}]})}}]}}}).state("authenticated.main.audit.venue.index",{url:"/reporting/confirmations",resolve:{events:["$http",function($http){return $http.get("/api/v2/confirmations")}]},views:{"header@authenticated":{template:"<h1>Event Confirmations</h1>"},"content@authenticated":{templateUrl:"auditing/events",controller:["$scope","events","$humane","$modal","$http","$state",function($scope,events,$humane,$modal,$http){return $scope.data=events.data,$scope.filterModel={event_date:""},$scope.updateOption=function(option){var url;return url="/api/v2/confirmations/"+option.id,$http.put(url,option).then(function(){return function(result){return console.log(result)}}(this))["catch"](function(){return function(error){return console.log(error)}}(this))},$scope.filterValue="",$scope.updateFilter=function(){return $scope.filterModel={event_date:{event_name:$scope.filterValue},company:{name:$scope.filterValue}}},$scope.viewDetails=function(event){var modal;return modal=$modal.open({templateUrl:"auditing/_modal_view_confirmation_detail",controller:["$scope",function($scope){return $scope.Options={selectedOptions:event}}]})}}]}}})}])}.call(this),function(){var app;app=angular.module("thms.modules.reporting",["thms.modules.events"]),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.reporting",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.reporting.index",{url:"/reporting",resolve:{events:["$http",function($http){return $http.get("/api/v2/reporting/suite_orders")}]},views:{"content@authenticated":{templateUrl:"reporting/catering/event_select",controller:["$scope","events","$modal",function($scope,events,$modal){return $scope.events=events.data,$scope.openSelectionModal=function(date){var modal;return modal=$modal.open({templateUrl:"reporting/_modal_report_select",windowClass:"effect-8 quarter",controller:["$scope","$state",function($scope,$state){return $scope.data=date,$scope.viewSuiteOrders=function(){return $state.go("authenticated.main.reporting.suiteOrders",{id:$scope.data.id}),$scope.$close()
},$scope.viewGuestList=function(){return $state.go("authenticated.main.reporting.guests",{id:$scope.data.id}),$scope.$close()},$scope.viewCateringReport=function(){return $state.go("authenticated.main.reporting.catering",{id:$scope.data.id}),$scope.$close()},$scope.viewUnConfirmedReport=function(){return $state.go("authenticated.main.reporting.unconfirmed",{id:$scope.data.id}),$scope.$close()}}]})}}]}}}).state("authenticated.main.reporting.unconfirmed",{url:"/reporting/events/dates/:id/unconfirmed",resolve:{unconfirmedUsers:["$http","$stateParams",function($http,$stateParams){return $http.get("/api/v2/reporting/dates/"+$stateParams.id+"/unconfirmed")}]},views:{"content@authenticated":{templateUrl:"reporting/suite_orders/unconfirmed",controller:["$scope","unconfirmedUsers",function($scope,unconfirmedUsers){return $scope.data=unconfirmedUsers.data}]}}}).state("authenticated.main.reporting.catering",{url:"/reporting/events/dates/:id/catering",resolve:{eventDate:["$http","$stateParams",function($http,$stateParams){return $http.get("/api/v2/reporting/dates/"+$stateParams.id+"/confirmations")}]},views:{"content@authenticated":{templateUrl:"reporting/catering/view",controller:["$scope","eventDate","$window",function($scope,eventDate,$window){return $scope.event=eventDate.data,$scope.downloadExcel=function(eventDateId){return $window.open("/api/v2/reporting/dates/"+eventDateId+"/catering.xlsx","_blank")}}]}}}).state("authenticated.main.reporting.suiteOrders",{url:"/reporting/events/dates/:id/suites",resolve:{eventDate:["$http","$stateParams",function($http,$stateParams){return $http.get("/api/v2/reporting/dates/"+$stateParams.id+"/confirmations")}]},views:{"header@authenticated":{template:"<h1>Suite Order Report</h1>"},"content@authenticated":{templateUrl:"reporting/suite_orders/view",controller:["$scope","eventDate","$window",function($scope,eventDate,$window){return $scope.event=eventDate.data,$scope.downloadExcel=function(eventDateId){return $window.open("/api/v2/reporting/dates/"+eventDateId+"/confirmations.xlsx","_blank")}}]}}}).state("authenticated.main.reporting.guests",{url:"/reporting/events/dates/:id/guests",resolve:{eventDate:["$http","$stateParams",function($http,$stateParams){return $http.get("/api/v2/reporting/dates/"+$stateParams.id+"/confirmations")}]},views:{"header@authenticated":{template:"<h1>Guest Report</h1>"},"content@authenticated":{templateUrl:"reporting/guest_report",controller:["$scope","eventDate","$window",function($scope,eventDate,$window){return $scope.event=eventDate.data,window.foob=_.map($scope.event.confirmed_inventory_options,function(option){return option.guests}),$scope.downloadExcel=function(eventDateId){return $window.open("/api/v2/reporting/dates/"+eventDateId+"/confirmations.xlsx","_blank")}}]}}})}])}.call(this),function(){var app;app=angular.module("thms.modules.catering",["thms.controllers","thms.services","ui.router"]),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.catering.menu.index",{url:"/catering/menus",views:{"content@authenticated":{template:"<h1>Foo</h1>"}}})}])}.call(this),function(){var NotificationIndexCtrl,app,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.notifications",["thms.services","thms.modules.facilities","thms.directives","ui.router","jmdobry.angular-cache","ui.bootstrap"]),app=angular.module("thms.modules.notifications"),NotificationIndexCtrl=function(_super){function NotificationIndexCtrl(){return NotificationIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(NotificationIndexCtrl,_super),NotificationIndexCtrl.register(app),NotificationIndexCtrl.inject("$scope","Companies","data","$q","$http"),NotificationIndexCtrl.prototype.initialize=function(){return this.$scope.message="",this.$scope.data=this.data},NotificationIndexCtrl.prototype.send_notification=function(){var defferred,method,uuids;return this.url="/api/v2/notifications",method="POST",uuids=[],this.$scope.data.map(function(){return function(company){return uuids.push(company.data.id)}}(this)),this.data={companies:uuids,message:this.$scope.message},defferred=this.$q.defer(),this.$http({method:method,url:this.url,data:this.data}).then(function(){return function(result){return defferred.resolve(result)}}(this))["catch"](function(){return function(error){return defferred.reject(error)}}(this)),defferred.promise},NotificationIndexCtrl.prototype.notify=function(){return this.send_notification().then(function(){return function(){return alert("Sent")}}(this))["catch"](function(){return function(){return alert("Error")}}(this))},NotificationIndexCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.notification",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.notification.index",{url:"/notifications",resolve:{data:["Companies",function(Companies){return Companies.sync()}]},views:{"content@authenticated":{templateUrl:"notifications/index",controller:"NotificationIndexCtrl"},"header@authenticated":{template:"<h1>Notification</h1>"}}})}])}.call(this),function(){var InventoryReleasesIndexCtrl,app,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};app=angular.module("thms.modules.inventory_releases",["thms.services","ui.router","LocalStorageModule"]),app=angular.module("thms.services"),app.factory("InventoryRelease",["$http","$q",function(){var BASE_URL,InventoryRelease;return BASE_URL="/api/v2/inventory_releases/",InventoryRelease=function(){function InventoryRelease(data,edited){this.data=data,this.edited=null!=edited?edited:!1,this.data||(this.data={}),this.url=this.data.id?BASE_URL+this.data.id:BASE_URL}return InventoryRelease}()}]),app=angular.module("thms.services"),app.factory("InventoryReleases",["$http","$q","$angularCacheFactory","InventoryRelease",function($http,$q,$angularCacheFactory,InventoryRelease){var BASE_URL,InventoryReleases;return BASE_URL="/api/v2/inventory_releases/",new(InventoryReleases=function(){function InventoryReleases(){}var __collection,__selected;return window.foo=InventoryReleases,$angularCacheFactory("InventoryReleasesCache",{capacity:100,maxAge:9e5,storageMode:"localStorage"}),__collection=[],__selected="",InventoryReleases.prototype.sync=function(){var defered;return defered=$q.defer(),__collection=[],$http.get(BASE_URL).then(function(){return function(results){var data,_i,_len,_ref;for(_ref=results.data,_i=0,_len=_ref.length;_len>_i;_i++)data=_ref[_i],__collection.push(new InventoryRelease(data,!1));return defered.resolve(__collection)}}(this))["catch"](function(error){return defered.reject(error)}),defered.promise},InventoryReleases}())}]),app=angular.module("thms.modules.inventory_releases"),InventoryReleasesIndexCtrl=function(_super){function InventoryReleasesIndexCtrl(){return InventoryReleasesIndexCtrl.__super__.constructor.apply(this,arguments)}return __extends(InventoryReleasesIndexCtrl,_super),InventoryReleasesIndexCtrl.register(app),InventoryReleasesIndexCtrl.inject("$scope","inventory_releases","$state","$modal"),InventoryReleasesIndexCtrl.prototype.initialize=function(){return this.$scope.data=this.inventory_releases},InventoryReleasesIndexCtrl}(BaseCtrl),app.config(["$stateProvider",function($stateProvider){return $stateProvider.state("authenticated.main.inventory_release",{"abstract":!0,template:"<ui-view></ui-view>"}).state("authenticated.main.inventory_release.index",{url:"/inventory_releases",resolve:{inventory_releases:["InventoryReleases",function(InventoryReleases){return InventoryReleases.sync()}]},views:{"content@authenticated":{templateUrl:"inventory_releases/main",controller:"InventoryReleasesIndexCtrl"}}})}])}.call(this);